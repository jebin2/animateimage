(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();function tg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var du={exports:{}},tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function I0(){if(sm)return tl;sm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return tl.Fragment=t,tl.jsx=o,tl.jsxs=o,tl}var rm;function w0(){return rm||(rm=1,du.exports=I0()),du.exports}var N=w0(),pu={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function D0(){if(um)return se;um=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function C(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,U={};function B(M,z,k){this.props=M,this.context=z,this.refs=U,this.updater=k||I}B.prototype.isReactComponent={},B.prototype.setState=function(M,z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,z,"setState")},B.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function X(){}X.prototype=B.prototype;function O(M,z,k){this.props=M,this.context=z,this.refs=U,this.updater=k||I}var K=O.prototype=new X;K.constructor=O,L(K,B.prototype),K.isPureReactComponent=!0;var j=Array.isArray;function te(){}var J={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function W(M,z,k){var F=k.ref;return{$$typeof:i,type:M,key:z,ref:F!==void 0?F:null,props:k}}function ue(M,z){return W(M.type,z,M.props)}function ye(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function Ne(M){var z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(k){return z[k]})}var ve=/\/+/g;function He(M,z){return typeof M=="object"&&M!==null&&M.key!=null?Ne(""+M.key):z.toString(36)}function it(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(te,te):(M.status="pending",M.then(function(z){M.status==="pending"&&(M.status="fulfilled",M.value=z)},function(z){M.status==="pending"&&(M.status="rejected",M.reason=z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,z,k,F,Z){var ie=typeof M;(ie==="undefined"||ie==="boolean")&&(M=null);var Se=!1;if(M===null)Se=!0;else switch(ie){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(M.$$typeof){case i:case t:Se=!0;break;case v:return Se=M._init,H(Se(M._payload),z,k,F,Z)}}if(Se)return Z=Z(M),Se=F===""?"."+He(M,0):F,j(Z)?(k="",Se!=null&&(k=Se.replace(ve,"$&/")+"/"),H(Z,z,k,"",function(so){return so})):Z!=null&&(ye(Z)&&(Z=ue(Z,k+(Z.key==null||M&&M.key===Z.key?"":(""+Z.key).replace(ve,"$&/")+"/")+Se)),z.push(Z)),1;Se=0;var $e=F===""?".":F+":";if(j(M))for(var ze=0;ze<M.length;ze++)F=M[ze],ie=$e+He(F,ze),Se+=H(F,z,k,ie,Z);else if(ze=C(M),typeof ze=="function")for(M=ze.call(M),ze=0;!(F=M.next()).done;)F=F.value,ie=$e+He(F,ze++),Se+=H(F,z,k,ie,Z);else if(ie==="object"){if(typeof M.then=="function")return H(it(M),z,k,F,Z);throw z=String(M),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Y(M,z,k){if(M==null)return M;var F=[],Z=0;return H(M,F,"","",function(ie){return z.call(k,ie,Z++)}),F}function le(M){if(M._status===-1){var z=M._result;z=z(),z.then(function(k){(M._status===0||M._status===-1)&&(M._status=1,M._result=k)},function(k){(M._status===0||M._status===-1)&&(M._status=2,M._result=k)}),M._status===-1&&(M._status=0,M._result=z)}if(M._status===1)return M._result.default;throw M._result}var Re=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Me={map:Y,forEach:function(M,z,k){Y(M,function(){z.apply(this,arguments)},k)},count:function(M){var z=0;return Y(M,function(){z++}),z},toArray:function(M){return Y(M,function(z){return z})||[]},only:function(M){if(!ye(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return se.Activity=T,se.Children=Me,se.Component=B,se.Fragment=o,se.Profiler=r,se.PureComponent=O,se.StrictMode=a,se.Suspense=y,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return J.H.useMemoCache(M)}},se.cache=function(M){return function(){return M.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(M,z,k){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var F=L({},M.props),Z=M.key;if(z!=null)for(ie in z.key!==void 0&&(Z=""+z.key),z)!fe.call(z,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&z.ref===void 0||(F[ie]=z[ie]);var ie=arguments.length-2;if(ie===1)F.children=k;else if(1<ie){for(var Se=Array(ie),$e=0;$e<ie;$e++)Se[$e]=arguments[$e+2];F.children=Se}return W(M.type,Z,F)},se.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},se.createElement=function(M,z,k){var F,Z={},ie=null;if(z!=null)for(F in z.key!==void 0&&(ie=""+z.key),z)fe.call(z,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(Z[F]=z[F]);var Se=arguments.length-2;if(Se===1)Z.children=k;else if(1<Se){for(var $e=Array(Se),ze=0;ze<Se;ze++)$e[ze]=arguments[ze+2];Z.children=$e}if(M&&M.defaultProps)for(F in Se=M.defaultProps,Se)Z[F]===void 0&&(Z[F]=Se[F]);return W(M,ie,Z)},se.createRef=function(){return{current:null}},se.forwardRef=function(M){return{$$typeof:g,render:M}},se.isValidElement=ye,se.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:le}},se.memo=function(M,z){return{$$typeof:h,type:M,compare:z===void 0?null:z}},se.startTransition=function(M){var z=J.T,k={};J.T=k;try{var F=M(),Z=J.S;Z!==null&&Z(k,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(te,Re)}catch(ie){Re(ie)}finally{z!==null&&k.types!==null&&(z.types=k.types),J.T=z}},se.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},se.use=function(M){return J.H.use(M)},se.useActionState=function(M,z,k){return J.H.useActionState(M,z,k)},se.useCallback=function(M,z){return J.H.useCallback(M,z)},se.useContext=function(M){return J.H.useContext(M)},se.useDebugValue=function(){},se.useDeferredValue=function(M,z){return J.H.useDeferredValue(M,z)},se.useEffect=function(M,z){return J.H.useEffect(M,z)},se.useEffectEvent=function(M){return J.H.useEffectEvent(M)},se.useId=function(){return J.H.useId()},se.useImperativeHandle=function(M,z,k){return J.H.useImperativeHandle(M,z,k)},se.useInsertionEffect=function(M,z){return J.H.useInsertionEffect(M,z)},se.useLayoutEffect=function(M,z){return J.H.useLayoutEffect(M,z)},se.useMemo=function(M,z){return J.H.useMemo(M,z)},se.useOptimistic=function(M,z){return J.H.useOptimistic(M,z)},se.useReducer=function(M,z,k){return J.H.useReducer(M,z,k)},se.useRef=function(M){return J.H.useRef(M)},se.useState=function(M){return J.H.useState(M)},se.useSyncExternalStore=function(M,z,k){return J.H.useSyncExternalStore(M,z,k)},se.useTransition=function(){return J.H.useTransition()},se.version="19.2.1",se}var cm;function Pu(){return cm||(cm=1,pu.exports=D0()),pu.exports}var _e=Pu();const b0=tg(_e);var mu={exports:{}},nl={},hu={exports:{}},gu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function U0(){return fm||(fm=1,(function(i){function t(H,Y){var le=H.length;H.push(Y);e:for(;0<le;){var Re=le-1>>>1,Me=H[Re];if(0<r(Me,Y))H[Re]=Y,H[le]=Me,le=Re;else break e}}function o(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var Y=H[0],le=H.pop();if(le!==Y){H[0]=le;e:for(var Re=0,Me=H.length,M=Me>>>1;Re<M;){var z=2*(Re+1)-1,k=H[z],F=z+1,Z=H[F];if(0>r(k,le))F<Me&&0>r(Z,k)?(H[Re]=Z,H[F]=le,Re=F):(H[Re]=k,H[z]=le,Re=z);else if(F<Me&&0>r(Z,le))H[Re]=Z,H[F]=le,Re=F;else break e}}return Y}function r(H,Y){var le=H.sortIndex-Y.sortIndex;return le!==0?le:H.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,T=null,E=3,C=!1,I=!1,L=!1,U=!1,B=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function K(H){for(var Y=o(h);Y!==null;){if(Y.callback===null)a(h);else if(Y.startTime<=H)a(h),Y.sortIndex=Y.expirationTime,t(y,Y);else break;Y=o(h)}}function j(H){if(L=!1,K(H),!I)if(o(y)!==null)I=!0,te||(te=!0,Ne());else{var Y=o(h);Y!==null&&it(j,Y.startTime-H)}}var te=!1,J=-1,fe=5,W=-1;function ue(){return U?!0:!(i.unstable_now()-W<fe)}function ye(){if(U=!1,te){var H=i.unstable_now();W=H;var Y=!0;try{e:{I=!1,L&&(L=!1,X(J),J=-1),C=!0;var le=E;try{t:{for(K(H),T=o(y);T!==null&&!(T.expirationTime>H&&ue());){var Re=T.callback;if(typeof Re=="function"){T.callback=null,E=T.priorityLevel;var Me=Re(T.expirationTime<=H);if(H=i.unstable_now(),typeof Me=="function"){T.callback=Me,K(H),Y=!0;break t}T===o(y)&&a(y),K(H)}else a(y);T=o(y)}if(T!==null)Y=!0;else{var M=o(h);M!==null&&it(j,M.startTime-H),Y=!1}}break e}finally{T=null,E=le,C=!1}Y=void 0}}finally{Y?Ne():te=!1}}}var Ne;if(typeof O=="function")Ne=function(){O(ye)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,He=ve.port2;ve.port1.onmessage=ye,Ne=function(){He.postMessage(null)}}else Ne=function(){B(ye,0)};function it(H,Y){J=B(function(){H(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(H){switch(E){case 1:case 2:case 3:var Y=3;break;default:Y=E}var le=E;E=Y;try{return H()}finally{E=le}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=E;E=H;try{return Y()}finally{E=le}},i.unstable_scheduleCallback=function(H,Y,le){var Re=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Re+le:Re):le=Re,H){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=le+Me,H={id:v++,callback:Y,priorityLevel:H,startTime:le,expirationTime:Me,sortIndex:-1},le>Re?(H.sortIndex=le,t(h,H),o(y)===null&&H===o(h)&&(L?(X(J),J=-1):L=!0,it(j,le-Re))):(H.sortIndex=Me,t(y,H),I||C||(I=!0,te||(te=!0,Ne()))),H},i.unstable_shouldYield=ue,i.unstable_wrapCallback=function(H){var Y=E;return function(){var le=E;E=Y;try{return H.apply(this,arguments)}finally{E=le}}}})(gu)),gu}var dm;function L0(){return dm||(dm=1,hu.exports=U0()),hu.exports}var yu={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function G0(){if(pm)return ot;pm=1;var i=Pu();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ot.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return f(y,h,null,v)},ot.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},ot.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},ot.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ot.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,T=g(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ot.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},ot.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,T=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ot.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},ot.requestFormReset=function(y){a.d.r(y)},ot.unstable_batchedUpdates=function(y,h){return y(h)},ot.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},ot.useFormStatus=function(){return p.H.useHostTransitionStatus()},ot.version="19.2.1",ot}var mm;function H0(){if(mm)return yu.exports;mm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),yu.exports=G0(),yu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function q0(){if(hm)return nl;hm=1;var i=L0(),t=Pu(),o=H0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=m;else{for(var S=!1,_=d.child;_;){if(_===l){S=!0,l=d,s=m;break}if(_===s){S=!0,s=d,l=m;break}_=_.sibling}if(!S){for(_=m.child;_;){if(_===l){S=!0,l=m,s=d;break}if(_===s){S=!0,s=m,l=d;break}_=_.sibling}if(!S)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),O=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Symbol.for("react.client.reference");function He(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case j:return"Suspense";case te:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case O:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:He(e.type)||"Memo";case fe:n=e._payload,e=e._init;try{return He(e(n))}catch{}}return null}var it=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Re=[],Me=-1;function M(e){return{current:e}}function z(e){0>Me||(e.current=Re[Me],Re[Me]=null,Me--)}function k(e,n){Me++,Re[Me]=e.current,e.current=n}var F=M(null),Z=M(null),ie=M(null),Se=M(null);function $e(e,n){switch(k(ie,n),k(Z,e),k(F,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?wp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=wp(n),e=Dp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(F),k(F,e)}function ze(){z(F),z(Z),z(ie)}function so(e){e.memoizedState!==null&&k(Se,e);var n=F.current,l=Dp(n,e.type);n!==l&&(k(Z,e),k(F,l))}function ll(e){Z.current===e&&(z(F),z(Z)),Se.current===e&&(z(Se),$o._currentValue=le)}var Xa,lc;function Yn(e){if(Xa===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Xa=n&&n[1]||"",lc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+e+lc}var Qa=!1;function Za(e,n){if(!e||Qa)return"";Qa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(G){var b=G}Reflect.construct(e,[],P)}else{try{P.call()}catch(G){b=G}e.call(P.prototype)}}else{try{throw Error()}catch(G){b=G}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(G){if(G&&b&&typeof G.stack=="string")return[G.stack,b.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),S=m[0],_=m[1];if(S&&_){var A=S.split(`
`),D=_.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===D.length)for(s=A.length-1,d=D.length-1;1<=s&&0<=d&&A[s]!==D[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==D[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==D[d]){var q=`
`+A[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=d);break}}}finally{Qa=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Yn(l):""}function ay(e,n){switch(e.tag){case 26:case 27:case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return e.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Za(e.type,!1);case 11:return Za(e.type.render,!1);case 1:return Za(e.type,!0);case 31:return Yn("Activity");default:return""}}function ac(e){try{var n="",l=null;do n+=ay(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var $a=Object.prototype.hasOwnProperty,Wa=i.unstable_scheduleCallback,ja=i.unstable_cancelCallback,sy=i.unstable_shouldYield,ry=i.unstable_requestPaint,vt=i.unstable_now,uy=i.unstable_getCurrentPriorityLevel,sc=i.unstable_ImmediatePriority,rc=i.unstable_UserBlockingPriority,al=i.unstable_NormalPriority,cy=i.unstable_LowPriority,uc=i.unstable_IdlePriority,fy=i.log,dy=i.unstable_setDisableYieldValue,ro=null,St=null;function vn(e){if(typeof fy=="function"&&dy(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(ro,e)}catch{}}var Tt=Math.clz32?Math.clz32:hy,py=Math.log,my=Math.LN2;function hy(e){return e>>>=0,e===0?32:31-(py(e)/my|0)|0}var sl=256,rl=262144,ul=4194304;function Kn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cl(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?d=Kn(s):(S&=_,S!==0?d=Kn(S):l||(l=_&~e,l!==0&&(d=Kn(l))))):(_=s&~m,_!==0?d=Kn(_):S!==0?d=Kn(S):l||(l=s&~e,l!==0&&(d=Kn(l)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:d}function uo(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function gy(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cc(){var e=ul;return ul<<=1,(ul&62914560)===0&&(ul=4194304),e}function es(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function co(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yy(e,n,l,s,d,m){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,D=e.hiddenUpdates;for(l=S&~l;0<l;){var q=31-Tt(l),P=1<<q;_[q]=0,A[q]=-1;var b=D[q];if(b!==null)for(D[q]=null,q=0;q<b.length;q++){var G=b[q];G!==null&&(G.lane&=-536870913)}l&=~P}s!==0&&fc(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~n))}function fc(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Tt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function dc(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-Tt(l),d=1<<s;d&n|e[s]&n&&(e[s]|=n),l&=~d}}function pc(e,n){var l=n&-n;return l=(l&42)!==0?1:ts(l),(l&(e.suspendedLanes|n))!==0?0:l}function ts(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ns(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mc(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:em(e.type))}function hc(e,n){var l=Y.p;try{return Y.p=e,n()}finally{Y.p=l}}var Sn=Math.random().toString(36).slice(2),We="__reactFiber$"+Sn,ct="__reactProps$"+Sn,pi="__reactContainer$"+Sn,is="__reactEvents$"+Sn,vy="__reactListeners$"+Sn,Sy="__reactHandles$"+Sn,gc="__reactResources$"+Sn,fo="__reactMarker$"+Sn;function os(e){delete e[We],delete e[ct],delete e[is],delete e[vy],delete e[Sy]}function mi(e){var n=e[We];if(n)return n;for(var l=e.parentNode;l;){if(n=l[pi]||l[We]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Vp(e);e!==null;){if(l=e[We])return l;e=Vp(e)}return n}e=l,l=e.parentNode}return null}function hi(e){if(e=e[We]||e[pi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function po(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function gi(e){var n=e[gc];return n||(n=e[gc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xe(e){e[fo]=!0}var yc=new Set,vc={};function Xn(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(vc[e]=n,e=0;e<n.length;e++)yc.add(n[e])}var Ty=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sc={},Tc={};function Ey(e){return $a.call(Tc,e)?!0:$a.call(Sc,e)?!1:Ty.test(e)?Tc[e]=!0:(Sc[e]=!0,!1)}function fl(e,n,l){if(Ey(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function dl(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function Zt(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ec(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _y(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ls(e){if(!e._valueTracker){var n=Ec(e)?"checked":"value";e._valueTracker=_y(e,n,""+e[n])}}function _c(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=Ec(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cy=/[\n"\\]/g;function It(e){return e.replace(Cy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function as(e,n,l,s,d,m,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xt(n)):e.value!==""+xt(n)&&(e.value=""+xt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?ss(e,S,xt(n)):l!=null?ss(e,S,xt(l)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+xt(_):e.removeAttribute("name")}function Cc(e,n,l,s,d,m,S,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){ls(e);return}l=l!=null?""+xt(l):"",n=n!=null?""+xt(n):l,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ls(e)}function ss(e,n,l){n==="number"&&pl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function vi(e,n,l,s){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&s&&(e[l].defaultSelected=!0)}else{for(l=""+xt(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Ac(e,n,l){if(n!=null&&(n=""+xt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+xt(l):""}function Rc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(it(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=xt(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ls(e)}function Si(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Ay=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||Ay.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Mc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&l[d]!==s&&Nc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&Nc(e,m,n[m])}function rs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ry=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ny=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(e){return Ny.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $t(){}var us=null;function cs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,Ei=null;function xc(e){var n=hi(e);if(n&&(e=n.stateNode)){var l=e[ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(as(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+It(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var d=s[ct]||null;if(!d)throw Error(a(90));as(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&_c(s)}break e;case"textarea":Ac(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&vi(e,!!l.multiple,n,!1)}}}var fs=!1;function Ic(e,n,l){if(fs)return e(n,l);fs=!0;try{var s=e(n);return s}finally{if(fs=!1,(Ti!==null||Ei!==null)&&(ta(),Ti&&(n=Ti,e=Ei,Ei=Ti=null,xc(n),e)))for(n=0;n<e.length;n++)xc(e[n])}}function mo(e,n){var l=e.stateNode;if(l===null)return null;var s=l[ct]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=!1;if(Wt)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){ds=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{ds=!1}var Tn=null,ps=null,hl=null;function wc(){if(hl)return hl;var e,n=ps,l=n.length,s,d="value"in Tn?Tn.value:Tn.textContent,m=d.length;for(e=0;e<l&&n[e]===d[e];e++);var S=l-e;for(s=1;s<=S&&n[l-s]===d[m-s];s++);return hl=d.slice(e,1<s?1-s:void 0)}function gl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function Dc(){return!1}function ft(e){function n(l,s,d,m,S){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?yl:Dc,this.isPropagationStopped=Dc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),n}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=ft(Qn),go=T({},Qn,{view:0,detail:0}),My=ft(go),ms,hs,yo,Sl=T({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yo&&(yo&&e.type==="mousemove"?(ms=e.screenX-yo.screenX,hs=e.screenY-yo.screenY):hs=ms=0,yo=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:hs}}),bc=ft(Sl),xy=T({},Sl,{dataTransfer:0}),Iy=ft(xy),wy=T({},go,{relatedTarget:0}),gs=ft(wy),Dy=T({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),by=ft(Dy),Uy=T({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ly=ft(Uy),Gy=T({},Qn,{data:0}),Uc=ft(Gy),Hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Py(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Vy[e])?!!n[e]:!1}function ys(){return Py}var zy=T({},go,{key:function(e){if(e.key){var n=Hy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),By=ft(zy),ky=T({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lc=ft(ky),Oy=T({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),Fy=ft(Oy),Jy=T({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yy=ft(Jy),Ky=T({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xy=ft(Ky),Qy=T({},Qn,{newState:0,oldState:0}),Zy=ft(Qy),$y=[9,13,27,32],vs=Wt&&"CompositionEvent"in window,vo=null;Wt&&"documentMode"in document&&(vo=document.documentMode);var Wy=Wt&&"TextEvent"in window&&!vo,Gc=Wt&&(!vs||vo&&8<vo&&11>=vo),Hc=" ",qc=!1;function Vc(e,n){switch(e){case"keyup":return $y.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _i=!1;function jy(e,n){switch(e){case"compositionend":return Pc(n);case"keypress":return n.which!==32?null:(qc=!0,Hc);case"textInput":return e=n.data,e===Hc&&qc?null:e;default:return null}}function ev(e,n){if(_i)return e==="compositionend"||!vs&&Vc(e,n)?(e=wc(),hl=ps=Tn=null,_i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Gc&&n.locale!=="ko"?null:n.data;default:return null}}var tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!tv[e.type]:n==="textarea"}function Bc(e,n,l,s){Ti?Ei?Ei.push(s):Ei=[s]:Ti=s,n=ra(n,"onChange"),0<n.length&&(l=new vl("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var So=null,To=null;function nv(e){Ap(e,0)}function Tl(e){var n=po(e);if(_c(n))return e}function kc(e,n){if(e==="change")return n}var Oc=!1;if(Wt){var Ss;if(Wt){var Ts="oninput"in document;if(!Ts){var Fc=document.createElement("div");Fc.setAttribute("oninput","return;"),Ts=typeof Fc.oninput=="function"}Ss=Ts}else Ss=!1;Oc=Ss&&(!document.documentMode||9<document.documentMode)}function Jc(){So&&(So.detachEvent("onpropertychange",Yc),To=So=null)}function Yc(e){if(e.propertyName==="value"&&Tl(To)){var n=[];Bc(n,To,e,cs(e)),Ic(nv,n)}}function iv(e,n,l){e==="focusin"?(Jc(),So=n,To=l,So.attachEvent("onpropertychange",Yc)):e==="focusout"&&Jc()}function ov(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tl(To)}function lv(e,n){if(e==="click")return Tl(n)}function av(e,n){if(e==="input"||e==="change")return Tl(n)}function sv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Et=typeof Object.is=="function"?Object.is:sv;function Eo(e,n){if(Et(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!$a.call(n,d)||!Et(e[d],n[d]))return!1}return!0}function Kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xc(e,n){var l=Kc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Kc(l)}}function Qc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Zc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=pl(e.document)}return n}function Es(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var rv=Wt&&"documentMode"in document&&11>=document.documentMode,Ci=null,_s=null,_o=null,Cs=!1;function $c(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Cs||Ci==null||Ci!==pl(s)||(s=Ci,"selectionStart"in s&&Es(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_o&&Eo(_o,s)||(_o=s,s=ra(_s,"onSelect"),0<s.length&&(n=new vl("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=Ci)))}function Zn(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ai={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},As={},Wc={};Wt&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function $n(e){if(As[e])return As[e];if(!Ai[e])return e;var n=Ai[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Wc)return As[e]=n[l];return e}var jc=$n("animationend"),ef=$n("animationiteration"),tf=$n("animationstart"),uv=$n("transitionrun"),cv=$n("transitionstart"),fv=$n("transitioncancel"),nf=$n("transitionend"),of=new Map,Rs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rs.push("scrollEnd");function zt(e,n){of.set(e,n),Xn(n,[e])}var El=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wt=[],Ri=0,Ns=0;function _l(){for(var e=Ri,n=Ns=Ri=0;n<e;){var l=wt[n];wt[n++]=null;var s=wt[n];wt[n++]=null;var d=wt[n];wt[n++]=null;var m=wt[n];if(wt[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}m!==0&&lf(l,d,m)}}function Cl(e,n,l,s){wt[Ri++]=e,wt[Ri++]=n,wt[Ri++]=l,wt[Ri++]=s,Ns|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ms(e,n,l,s){return Cl(e,n,l,s),Al(e)}function Wn(e,n){return Cl(e,null,null,n),Al(e)}function lf(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-Tt(l),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=l|536870912),m):null}function Al(e){if(50<Fo)throw Fo=0,Hr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ni={};function dv(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,n,l,s){return new dv(e,n,l,s)}function xs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jt(e,n){var l=e.alternate;return l===null?(l=_t(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function af(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Rl(e,n,l,s,d,m){var S=0;if(s=e,typeof e=="function")xs(e)&&(S=1);else if(typeof e=="string")S=y0(e,l,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=_t(31,l,n,d),e.elementType=W,e.lanes=m,e;case L:return jn(l.children,d,m,n);case U:S=8,d|=24;break;case B:return e=_t(12,l,n,d|2),e.elementType=B,e.lanes=m,e;case j:return e=_t(13,l,n,d),e.elementType=j,e.lanes=m,e;case te:return e=_t(19,l,n,d),e.elementType=te,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:S=10;break e;case X:S=9;break e;case K:S=11;break e;case J:S=14;break e;case fe:S=16,s=null;break e}S=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=_t(S,l,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function jn(e,n,l,s){return e=_t(7,e,s,n),e.lanes=l,e}function Is(e,n,l){return e=_t(6,e,null,n),e.lanes=l,e}function sf(e){var n=_t(18,null,null,0);return n.stateNode=e,n}function ws(e,n,l){return n=_t(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var rf=new WeakMap;function Dt(e,n){if(typeof e=="object"&&e!==null){var l=rf.get(e);return l!==void 0?l:(n={value:e,source:n,stack:ac(n)},rf.set(e,n),n)}return{value:e,source:n,stack:ac(n)}}var Mi=[],xi=0,Nl=null,Co=0,bt=[],Ut=0,En=null,Yt=1,Kt="";function en(e,n){Mi[xi++]=Co,Mi[xi++]=Nl,Nl=e,Co=n}function uf(e,n,l){bt[Ut++]=Yt,bt[Ut++]=Kt,bt[Ut++]=En,En=e;var s=Yt;e=Kt;var d=32-Tt(s)-1;s&=~(1<<d),l+=1;var m=32-Tt(n)+d;if(30<m){var S=d-d%5;m=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Yt=1<<32-Tt(n)+d|l<<d|s,Kt=m+e}else Yt=1<<m|l<<d|s,Kt=e}function Ds(e){e.return!==null&&(en(e,1),uf(e,1,0))}function bs(e){for(;e===Nl;)Nl=Mi[--xi],Mi[xi]=null,Co=Mi[--xi],Mi[xi]=null;for(;e===En;)En=bt[--Ut],bt[Ut]=null,Kt=bt[--Ut],bt[Ut]=null,Yt=bt[--Ut],bt[Ut]=null}function cf(e,n){bt[Ut++]=Yt,bt[Ut++]=Kt,bt[Ut++]=En,Yt=n.id,Kt=n.overflow,En=e}var je=null,Le=null,ge=!1,_n=null,Lt=!1,Us=Error(a(519));function Cn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ao(Dt(n,e)),Us}function ff(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[We]=e,n[ct]=s,l){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(l=0;l<Yo.length;l++)pe(Yo[l],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":pe("invalid",n),Cc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":pe("invalid",n);break;case"textarea":pe("invalid",n),Rc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||xp(n.textContent,l)?(s.popover!=null&&(pe("beforetoggle",n),pe("toggle",n)),s.onScroll!=null&&pe("scroll",n),s.onScrollEnd!=null&&pe("scrollend",n),s.onClick!=null&&(n.onclick=$t),n=!0):n=!1,n||Cn(e,!0)}function df(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Lt=!1;return;case 27:case 3:Lt=!0;return;default:je=je.return}}function Ii(e){if(e!==je)return!1;if(!ge)return df(e),ge=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||$r(e.type,e.memoizedProps)),l=!l),l&&Le&&Cn(e),df(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=qp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=qp(e)}else n===27?(n=Le,qn(e.type)?(e=nu,nu=null,Le=e):Le=n):Le=je?Ht(e.stateNode.nextSibling):null;return!0}function ei(){Le=je=null,ge=!1}function Ls(){var e=_n;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),_n=null),e}function Ao(e){_n===null?_n=[e]:_n.push(e)}var Gs=M(null),ti=null,tn=null;function An(e,n,l){k(Gs,n._currentValue),n._currentValue=l}function nn(e){e._currentValue=Gs.current,z(Gs)}function Hs(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function qs(e,n,l,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var S=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var A=0;A<n.length;A++)if(_.context===n[A]){m.lanes|=l,_=m.alternate,_!==null&&(_.lanes|=l),Hs(m.return,l,e),s||(S=null);break e}m=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=l,m=S.alternate,m!==null&&(m.lanes|=l),Hs(S,l,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function wi(e,n,l,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=d.type;Et(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===Se.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push($o):e=[$o])}d=d.return}e!==null&&qs(n,e,l,s),n.flags|=262144}function Ml(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ni(e){ti=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function et(e){return pf(ti,e)}function xl(e,n){return ti===null&&ni(e),pf(e,n)}function pf(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},tn===null){if(e===null)throw Error(a(308));tn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else tn=tn.next=n;return l}var pv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},mv=i.unstable_scheduleCallback,hv=i.unstable_NormalPriority,Oe={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vs(){return{controller:new pv,data:new Map,refCount:0}}function Ro(e){e.refCount--,e.refCount===0&&mv(hv,function(){e.controller.abort()})}var No=null,Ps=0,Di=0,bi=null;function gv(e,n){if(No===null){var l=No=[];Ps=0,Di=kr(),bi={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Ps++,n.then(mf,mf),n}function mf(){if(--Ps===0&&No!==null){bi!==null&&(bi.status="fulfilled");var e=No;No=null,Di=0,bi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function yv(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var hf=H.S;H.S=function(e,n){Wd=vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&gv(e,n),hf!==null&&hf(e,n)};var ii=M(null);function zs(){var e=ii.current;return e!==null?e:Ue.pooledCache}function Il(e,n){n===null?k(ii,ii.current):k(ii,n.pool)}function gf(){var e=zs();return e===null?null:{parent:Oe._currentValue,pool:e}}var Ui=Error(a(460)),Bs=Error(a(474)),wl=Error(a(542)),Dl={then:function(){}};function yf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vf(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then($t,$t),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Tf(e),e;default:if(typeof n.status=="string")n.then($t,$t);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Tf(e),e}throw li=n,Ui}}function oi(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(li=l,Ui):l}}var li=null;function Sf(){if(li===null)throw Error(a(459));var e=li;return li=null,e}function Tf(e){if(e===Ui||e===wl)throw Error(a(483))}var Li=null,Mo=0;function bl(e){var n=Mo;return Mo+=1,Li===null&&(Li=[]),vf(Li,e,n)}function xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ul(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ef(e){function n(x,R){if(e){var w=x.deletions;w===null?(x.deletions=[R],x.flags|=16):w.push(R)}}function l(x,R){if(!e)return null;for(;R!==null;)n(x,R),R=R.sibling;return null}function s(x){for(var R=new Map;x!==null;)x.key!==null?R.set(x.key,x):R.set(x.index,x),x=x.sibling;return R}function d(x,R){return x=jt(x,R),x.index=0,x.sibling=null,x}function m(x,R,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<R?(x.flags|=67108866,R):w):(x.flags|=67108866,R)):(x.flags|=1048576,R)}function S(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function _(x,R,w,V){return R===null||R.tag!==6?(R=Is(w,x.mode,V),R.return=x,R):(R=d(R,w),R.return=x,R)}function A(x,R,w,V){var ne=w.type;return ne===L?q(x,R,w.props.children,V,w.key):R!==null&&(R.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===fe&&oi(ne)===R.type)?(R=d(R,w.props),xo(R,w),R.return=x,R):(R=Rl(w.type,w.key,w.props,null,x.mode,V),xo(R,w),R.return=x,R)}function D(x,R,w,V){return R===null||R.tag!==4||R.stateNode.containerInfo!==w.containerInfo||R.stateNode.implementation!==w.implementation?(R=ws(w,x.mode,V),R.return=x,R):(R=d(R,w.children||[]),R.return=x,R)}function q(x,R,w,V,ne){return R===null||R.tag!==7?(R=jn(w,x.mode,V,ne),R.return=x,R):(R=d(R,w),R.return=x,R)}function P(x,R,w){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Is(""+R,x.mode,w),R.return=x,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case C:return w=Rl(R.type,R.key,R.props,null,x.mode,w),xo(w,R),w.return=x,w;case I:return R=ws(R,x.mode,w),R.return=x,R;case fe:return R=oi(R),P(x,R,w)}if(it(R)||Ne(R))return R=jn(R,x.mode,w,null),R.return=x,R;if(typeof R.then=="function")return P(x,bl(R),w);if(R.$$typeof===O)return P(x,xl(x,R),w);Ul(x,R)}return null}function b(x,R,w,V){var ne=R!==null?R.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return ne!==null?null:_(x,R,""+w,V);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case C:return w.key===ne?A(x,R,w,V):null;case I:return w.key===ne?D(x,R,w,V):null;case fe:return w=oi(w),b(x,R,w,V)}if(it(w)||Ne(w))return ne!==null?null:q(x,R,w,V,null);if(typeof w.then=="function")return b(x,R,bl(w),V);if(w.$$typeof===O)return b(x,R,xl(x,w),V);Ul(x,w)}return null}function G(x,R,w,V,ne){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return x=x.get(w)||null,_(R,x,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case C:return x=x.get(V.key===null?w:V.key)||null,A(R,x,V,ne);case I:return x=x.get(V.key===null?w:V.key)||null,D(R,x,V,ne);case fe:return V=oi(V),G(x,R,w,V,ne)}if(it(V)||Ne(V))return x=x.get(w)||null,q(R,x,V,ne,null);if(typeof V.then=="function")return G(x,R,w,bl(V),ne);if(V.$$typeof===O)return G(x,R,w,xl(R,V),ne);Ul(R,V)}return null}function $(x,R,w,V){for(var ne=null,Te=null,ee=R,ce=R=0,he=null;ee!==null&&ce<w.length;ce++){ee.index>ce?(he=ee,ee=null):he=ee.sibling;var Ee=b(x,ee,w[ce],V);if(Ee===null){ee===null&&(ee=he);break}e&&ee&&Ee.alternate===null&&n(x,ee),R=m(Ee,R,ce),Te===null?ne=Ee:Te.sibling=Ee,Te=Ee,ee=he}if(ce===w.length)return l(x,ee),ge&&en(x,ce),ne;if(ee===null){for(;ce<w.length;ce++)ee=P(x,w[ce],V),ee!==null&&(R=m(ee,R,ce),Te===null?ne=ee:Te.sibling=ee,Te=ee);return ge&&en(x,ce),ne}for(ee=s(ee);ce<w.length;ce++)he=G(ee,x,ce,w[ce],V),he!==null&&(e&&he.alternate!==null&&ee.delete(he.key===null?ce:he.key),R=m(he,R,ce),Te===null?ne=he:Te.sibling=he,Te=he);return e&&ee.forEach(function(kn){return n(x,kn)}),ge&&en(x,ce),ne}function oe(x,R,w,V){if(w==null)throw Error(a(151));for(var ne=null,Te=null,ee=R,ce=R=0,he=null,Ee=w.next();ee!==null&&!Ee.done;ce++,Ee=w.next()){ee.index>ce?(he=ee,ee=null):he=ee.sibling;var kn=b(x,ee,Ee.value,V);if(kn===null){ee===null&&(ee=he);break}e&&ee&&kn.alternate===null&&n(x,ee),R=m(kn,R,ce),Te===null?ne=kn:Te.sibling=kn,Te=kn,ee=he}if(Ee.done)return l(x,ee),ge&&en(x,ce),ne;if(ee===null){for(;!Ee.done;ce++,Ee=w.next())Ee=P(x,Ee.value,V),Ee!==null&&(R=m(Ee,R,ce),Te===null?ne=Ee:Te.sibling=Ee,Te=Ee);return ge&&en(x,ce),ne}for(ee=s(ee);!Ee.done;ce++,Ee=w.next())Ee=G(ee,x,ce,Ee.value,V),Ee!==null&&(e&&Ee.alternate!==null&&ee.delete(Ee.key===null?ce:Ee.key),R=m(Ee,R,ce),Te===null?ne=Ee:Te.sibling=Ee,Te=Ee);return e&&ee.forEach(function(x0){return n(x,x0)}),ge&&en(x,ce),ne}function be(x,R,w,V){if(typeof w=="object"&&w!==null&&w.type===L&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case C:e:{for(var ne=w.key;R!==null;){if(R.key===ne){if(ne=w.type,ne===L){if(R.tag===7){l(x,R.sibling),V=d(R,w.props.children),V.return=x,x=V;break e}}else if(R.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===fe&&oi(ne)===R.type){l(x,R.sibling),V=d(R,w.props),xo(V,w),V.return=x,x=V;break e}l(x,R);break}else n(x,R);R=R.sibling}w.type===L?(V=jn(w.props.children,x.mode,V,w.key),V.return=x,x=V):(V=Rl(w.type,w.key,w.props,null,x.mode,V),xo(V,w),V.return=x,x=V)}return S(x);case I:e:{for(ne=w.key;R!==null;){if(R.key===ne)if(R.tag===4&&R.stateNode.containerInfo===w.containerInfo&&R.stateNode.implementation===w.implementation){l(x,R.sibling),V=d(R,w.children||[]),V.return=x,x=V;break e}else{l(x,R);break}else n(x,R);R=R.sibling}V=ws(w,x.mode,V),V.return=x,x=V}return S(x);case fe:return w=oi(w),be(x,R,w,V)}if(it(w))return $(x,R,w,V);if(Ne(w)){if(ne=Ne(w),typeof ne!="function")throw Error(a(150));return w=ne.call(w),oe(x,R,w,V)}if(typeof w.then=="function")return be(x,R,bl(w),V);if(w.$$typeof===O)return be(x,R,xl(x,w),V);Ul(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,R!==null&&R.tag===6?(l(x,R.sibling),V=d(R,w),V.return=x,x=V):(l(x,R),V=Is(w,x.mode,V),V.return=x,x=V),S(x)):l(x,R)}return function(x,R,w,V){try{Mo=0;var ne=be(x,R,w,V);return Li=null,ne}catch(ee){if(ee===Ui||ee===wl)throw ee;var Te=_t(29,ee,null,x.mode);return Te.lanes=V,Te.return=x,Te}finally{}}}var ai=Ef(!0),_f=Ef(!1),Rn=!1;function ks(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Os(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ae&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Al(e),lf(e,null,l),n}return Cl(e,s,n,l),Al(e)}function Io(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,dc(e,l)}}function Fs(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?d=m=n:m=m.next=n}else d=m=n;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Js=!1;function wo(){if(Js){var e=bi;if(e!==null)throw e}}function Do(e,n,l,s){Js=!1;var d=e.updateQueue;Rn=!1;var m=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var A=_,D=A.next;A.next=null,S===null?m=D:S.next=D,S=A;var q=e.alternate;q!==null&&(q=q.updateQueue,_=q.lastBaseUpdate,_!==S&&(_===null?q.firstBaseUpdate=D:_.next=D,q.lastBaseUpdate=A))}if(m!==null){var P=d.baseState;S=0,q=D=A=null,_=m;do{var b=_.lane&-536870913,G=b!==_.lane;if(G?(me&b)===b:(s&b)===b){b!==0&&b===Di&&(Js=!0),q!==null&&(q=q.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var $=e,oe=_;b=n;var be=l;switch(oe.tag){case 1:if($=oe.payload,typeof $=="function"){P=$.call(be,P,b);break e}P=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=oe.payload,b=typeof $=="function"?$.call(be,P,b):$,b==null)break e;P=T({},P,b);break e;case 2:Rn=!0}}b=_.callback,b!==null&&(e.flags|=64,G&&(e.flags|=8192),G=d.callbacks,G===null?d.callbacks=[b]:G.push(b))}else G={lane:b,tag:_.tag,payload:_.payload,callback:_.callback,next:null},q===null?(D=q=G,A=P):q=q.next=G,S|=b;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;G=_,_=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);q===null&&(A=P),d.baseState=A,d.firstBaseUpdate=D,d.lastBaseUpdate=q,m===null&&(d.shared.lanes=0),bn|=S,e.lanes=S,e.memoizedState=P}}function Cf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Af(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Cf(l[e],n)}var Gi=M(null),Ll=M(0);function Rf(e,n){e=dn,k(Ll,e),k(Gi,n),dn=e|n.baseLanes}function Ys(){k(Ll,dn),k(Gi,Gi.current)}function Ks(){dn=Ll.current,z(Gi),z(Ll)}var Ct=M(null),Gt=null;function xn(e){var n=e.alternate;k(Be,Be.current&1),k(Ct,e),Gt===null&&(n===null||Gi.current!==null||n.memoizedState!==null)&&(Gt=e)}function Xs(e){k(Be,Be.current),k(Ct,e),Gt===null&&(Gt=e)}function Nf(e){e.tag===22?(k(Be,Be.current),k(Ct,e),Gt===null&&(Gt=e)):In()}function In(){k(Be,Be.current),k(Ct,Ct.current)}function At(e){z(Ct),Gt===e&&(Gt=null),z(Be)}var Be=M(0);function Gl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||eu(l)||tu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var on=0,re=null,we=null,Fe=null,Hl=!1,Hi=!1,si=!1,ql=0,bo=0,qi=null,vv=0;function Ve(){throw Error(a(321))}function Qs(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Et(e[l],n[l]))return!1;return!0}function Zs(e,n,l,s,d,m){return on=m,re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?ud:fr,si=!1,m=l(s,d),si=!1,Hi&&(m=xf(n,l,s,d)),Mf(e),m}function Mf(e){H.H=Go;var n=we!==null&&we.next!==null;if(on=0,Fe=we=re=null,Hl=!1,bo=0,qi=null,n)throw Error(a(300));e===null||Je||(e=e.dependencies,e!==null&&Ml(e)&&(Je=!0))}function xf(e,n,l,s){re=e;var d=0;do{if(Hi&&(qi=null),bo=0,Hi=!1,25<=d)throw Error(a(301));if(d+=1,Fe=we=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=cd,m=n(l,s)}while(Hi);return m}function Sv(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Uo(n):n,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(re.flags|=1024),n}function $s(){var e=ql!==0;return ql=0,e}function Ws(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function js(e){if(Hl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hl=!1}on=0,Fe=we=re=null,Hi=!1,bo=ql=0,qi=null}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?re.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function ke(){if(we===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var n=Fe===null?re.memoizedState:Fe.next;if(n!==null)Fe=n,we=e;else{if(e===null)throw re.alternate===null?Error(a(467)):Error(a(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Fe===null?re.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(e){var n=bo;return bo+=1,qi===null&&(qi=[]),e=vf(qi,e,n),n=re,(Fe===null?n.memoizedState:Fe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?ud:fr),e}function Pl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Uo(e);if(e.$$typeof===O)return et(e)}throw Error(a(438,String(e)))}function er(e){var n=null,l=re.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=re.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Vl(),re.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=ue;return n.index++,l}function ln(e,n){return typeof n=="function"?n(e):n}function zl(e){var n=ke();return tr(n,we,e)}function tr(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var S=d.next;d.next=m.next,m.next=S}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var _=S=null,A=null,D=n,q=!1;do{var P=D.lane&-536870913;if(P!==D.lane?(me&P)===P:(on&P)===P){var b=D.revertLane;if(b===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),P===Di&&(q=!0);else if((on&b)===b){D=D.next,b===Di&&(q=!0);continue}else P={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(_=A=P,S=m):A=A.next=P,re.lanes|=b,bn|=b;P=D.action,si&&l(m,P),m=D.hasEagerState?D.eagerState:l(m,P)}else b={lane:P,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(_=A=b,S=m):A=A.next=b,re.lanes|=P,bn|=P;D=D.next}while(D!==null&&D!==n);if(A===null?S=m:A.next=_,!Et(m,e.memoizedState)&&(Je=!0,q&&(l=bi,l!==null)))throw l;e.memoizedState=m,e.baseState=S,e.baseQueue=A,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function nr(e){var n=ke(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,d=l.pending,m=n.memoizedState;if(d!==null){l.pending=null;var S=d=d.next;do m=e(m,S.action),S=S.next;while(S!==d);Et(m,n.memoizedState)||(Je=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,s]}function If(e,n,l){var s=re,d=ke(),m=ge;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=n();var S=!Et((we||d).memoizedState,l);if(S&&(d.memoizedState=l,Je=!0),d=d.queue,lr(bf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,Vi(9,{destroy:void 0},Df.bind(null,s,d,l,n),null),Ue===null)throw Error(a(349));m||(on&127)!==0||wf(s,n,l)}return l}function wf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=re.updateQueue,n===null?(n=Vl(),re.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Df(e,n,l,s){n.value=l,n.getSnapshot=s,Uf(n)&&Lf(e)}function bf(e,n,l){return l(function(){Uf(n)&&Lf(e)})}function Uf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Et(e,l)}catch{return!0}}function Lf(e){var n=Wn(e,2);n!==null&&gt(n,e,2)}function ir(e){var n=at();if(typeof e=="function"){var l=e;if(e=l(),si){vn(!0);try{l()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:e},n}function Gf(e,n,l,s){return e.baseState=l,tr(e,we,typeof s=="function"?s:ln)}function Tv(e,n,l,s,d){if(Ol(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};H.T!==null?l(!0):m.isTransition=!1,s(m),l=n.pending,l===null?(m.next=n.pending=m,Hf(n,m)):(m.next=l.next,n.pending=l.next=m)}}function Hf(e,n){var l=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=H.T,S={};H.T=S;try{var _=l(d,s),A=H.S;A!==null&&A(S,_),qf(e,n,_)}catch(D){or(e,n,D)}finally{m!==null&&S.types!==null&&(m.types=S.types),H.T=m}}else try{m=l(d,s),qf(e,n,m)}catch(D){or(e,n,D)}}function qf(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Vf(e,n,s)},function(s){return or(e,n,s)}):Vf(e,n,l)}function Vf(e,n,l){n.status="fulfilled",n.value=l,Pf(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Hf(e,l)))}function or(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,Pf(n),n=n.next;while(n!==s)}e.action=null}function Pf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function zf(e,n){return n}function Bf(e,n){if(ge){var l=Ue.formState;if(l!==null){e:{var s=re;if(ge){if(Le){t:{for(var d=Le,m=Lt;d.nodeType!==8;){if(!m){d=null;break t}if(d=Ht(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Le=Ht(d.nextSibling),s=d.data==="F!";break e}}Cn(s)}s=!1}s&&(n=l[0])}}return l=at(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zf,lastRenderedState:n},l.queue=s,l=ad.bind(null,re,s),s.dispatch=l,s=ir(!1),m=cr.bind(null,re,!1,s.queue),s=at(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,l=Tv.bind(null,re,d,m,l),d.dispatch=l,s.memoizedState=e,[n,l,!1]}function kf(e){var n=ke();return Of(n,we,e)}function Of(e,n,l){if(n=tr(e,n,zf)[0],e=zl(ln)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Uo(n)}catch(S){throw S===Ui?wl:S}else s=n;n=ke();var d=n.queue,m=d.dispatch;return l!==n.memoizedState&&(re.flags|=2048,Vi(9,{destroy:void 0},Ev.bind(null,d,l),null)),[s,m,e]}function Ev(e,n){e.action=n}function Ff(e){var n=ke(),l=we;if(l!==null)return Of(n,l,e);ke(),n=n.memoizedState,l=ke();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function Vi(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=re.updateQueue,n===null&&(n=Vl(),re.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function Jf(){return ke().memoizedState}function Bl(e,n,l,s){var d=at();re.flags|=e,d.memoizedState=Vi(1|n,{destroy:void 0},l,s===void 0?null:s)}function kl(e,n,l,s){var d=ke();s=s===void 0?null:s;var m=d.memoizedState.inst;we!==null&&s!==null&&Qs(s,we.memoizedState.deps)?d.memoizedState=Vi(n,m,l,s):(re.flags|=e,d.memoizedState=Vi(1|n,m,l,s))}function Yf(e,n){Bl(8390656,8,e,n)}function lr(e,n){kl(2048,8,e,n)}function _v(e){re.flags|=4;var n=re.updateQueue;if(n===null)n=Vl(),re.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Kf(e){var n=ke().memoizedState;return _v({ref:n,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Xf(e,n){return kl(4,2,e,n)}function Qf(e,n){return kl(4,4,e,n)}function Zf(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function $f(e,n,l){l=l!=null?l.concat([e]):null,kl(4,4,Zf.bind(null,n,e),l)}function ar(){}function Wf(e,n){var l=ke();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&Qs(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function jf(e,n){var l=ke();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&Qs(n,s[1]))return s[0];if(s=e(),si){vn(!0);try{e()}finally{vn(!1)}}return l.memoizedState=[s,n],s}function sr(e,n,l){return l===void 0||(on&1073741824)!==0&&(me&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=ep(),re.lanes|=e,bn|=e,l)}function ed(e,n,l,s){return Et(l,n)?l:Gi.current!==null?(e=sr(e,l,s),Et(e,n)||(Je=!0),e):(on&42)===0||(on&1073741824)!==0&&(me&261930)===0?(Je=!0,e.memoizedState=l):(e=ep(),re.lanes|=e,bn|=e,n)}function td(e,n,l,s,d){var m=Y.p;Y.p=m!==0&&8>m?m:8;var S=H.T,_={};H.T=_,cr(e,!1,n,l);try{var A=d(),D=H.S;if(D!==null&&D(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var q=yv(A,s);Lo(e,n,q,Mt(e))}else Lo(e,n,s,Mt(e))}catch(P){Lo(e,n,{then:function(){},status:"rejected",reason:P},Mt())}finally{Y.p=m,S!==null&&_.types!==null&&(S.types=_.types),H.T=S}}function Cv(){}function rr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var d=nd(e).queue;td(e,d,n,le,l===null?Cv:function(){return id(e),l(s)})}function nd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:le},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function id(e){var n=nd(e);n.next===null&&(n=e.alternate.memoizedState),Lo(e,n.next.queue,{},Mt())}function ur(){return et($o)}function od(){return ke().memoizedState}function ld(){return ke().memoizedState}function Av(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Mt();e=Nn(l);var s=Mn(n,e,l);s!==null&&(gt(s,n,l),Io(s,n,l)),n={cache:Vs()},e.payload=n;return}n=n.return}}function Rv(e,n,l){var s=Mt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ol(e)?sd(n,l):(l=Ms(e,n,l,s),l!==null&&(gt(l,e,s),rd(l,n,s)))}function ad(e,n,l){var s=Mt();Lo(e,n,l,s)}function Lo(e,n,l,s){var d={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ol(e))sd(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var S=n.lastRenderedState,_=m(S,l);if(d.hasEagerState=!0,d.eagerState=_,Et(_,S))return Cl(e,n,d,0),Ue===null&&_l(),!1}catch{}finally{}if(l=Ms(e,n,d,s),l!==null)return gt(l,e,s),rd(l,n,s),!0}return!1}function cr(e,n,l,s){if(s={lane:2,revertLane:kr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ol(e)){if(n)throw Error(a(479))}else n=Ms(e,l,s,2),n!==null&&gt(n,e,2)}function Ol(e){var n=e.alternate;return e===re||n!==null&&n===re}function sd(e,n){Hi=Hl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function rd(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,dc(e,l)}}var Go={readContext:et,use:Pl,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Go.useEffectEvent=Ve;var ud={readContext:et,use:Pl,useCallback:function(e,n){return at().memoizedState=[e,n===void 0?null:n],e},useContext:et,useEffect:Yf,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Bl(4194308,4,Zf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Bl(4194308,4,e,n)},useInsertionEffect:function(e,n){Bl(4,2,e,n)},useMemo:function(e,n){var l=at();n=n===void 0?null:n;var s=e();if(si){vn(!0);try{e()}finally{vn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=at();if(l!==void 0){var d=l(n);if(si){vn(!0);try{l(n)}finally{vn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=Rv.bind(null,re,e),[s.memoizedState,e]},useRef:function(e){var n=at();return e={current:e},n.memoizedState=e},useState:function(e){e=ir(e);var n=e.queue,l=ad.bind(null,re,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:ar,useDeferredValue:function(e,n){var l=at();return sr(l,e,n)},useTransition:function(){var e=ir(!1);return e=td.bind(null,re,e.queue,!0,!1),at().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=re,d=at();if(ge){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),Ue===null)throw Error(a(349));(me&127)!==0||wf(s,n,l)}d.memoizedState=l;var m={value:l,getSnapshot:n};return d.queue=m,Yf(bf.bind(null,s,m,e),[e]),s.flags|=2048,Vi(9,{destroy:void 0},Df.bind(null,s,m,l,n),null),l},useId:function(){var e=at(),n=Ue.identifierPrefix;if(ge){var l=Kt,s=Yt;l=(s&~(1<<32-Tt(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=ql++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=vv++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ur,useFormState:Bf,useActionState:Bf,useOptimistic:function(e){var n=at();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=cr.bind(null,re,!0,l),l.dispatch=n,[e,n]},useMemoCache:er,useCacheRefresh:function(){return at().memoizedState=Av.bind(null,re)},useEffectEvent:function(e){var n=at(),l={impl:e};return n.memoizedState=l,function(){if((Ae&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},fr={readContext:et,use:Pl,useCallback:Wf,useContext:et,useEffect:lr,useImperativeHandle:$f,useInsertionEffect:Xf,useLayoutEffect:Qf,useMemo:jf,useReducer:zl,useRef:Jf,useState:function(){return zl(ln)},useDebugValue:ar,useDeferredValue:function(e,n){var l=ke();return ed(l,we.memoizedState,e,n)},useTransition:function(){var e=zl(ln)[0],n=ke().memoizedState;return[typeof e=="boolean"?e:Uo(e),n]},useSyncExternalStore:If,useId:od,useHostTransitionStatus:ur,useFormState:kf,useActionState:kf,useOptimistic:function(e,n){var l=ke();return Gf(l,we,e,n)},useMemoCache:er,useCacheRefresh:ld};fr.useEffectEvent=Kf;var cd={readContext:et,use:Pl,useCallback:Wf,useContext:et,useEffect:lr,useImperativeHandle:$f,useInsertionEffect:Xf,useLayoutEffect:Qf,useMemo:jf,useReducer:nr,useRef:Jf,useState:function(){return nr(ln)},useDebugValue:ar,useDeferredValue:function(e,n){var l=ke();return we===null?sr(l,e,n):ed(l,we.memoizedState,e,n)},useTransition:function(){var e=nr(ln)[0],n=ke().memoizedState;return[typeof e=="boolean"?e:Uo(e),n]},useSyncExternalStore:If,useId:od,useHostTransitionStatus:ur,useFormState:Ff,useActionState:Ff,useOptimistic:function(e,n){var l=ke();return we!==null?Gf(l,we,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:er,useCacheRefresh:ld};cd.useEffectEvent=Kf;function dr(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:T({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var pr={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=Mt(),d=Nn(s);d.payload=n,l!=null&&(d.callback=l),n=Mn(e,d,s),n!==null&&(gt(n,e,s),Io(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=Mt(),d=Nn(s);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=Mn(e,d,s),n!==null&&(gt(n,e,s),Io(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Mt(),s=Nn(l);s.tag=2,n!=null&&(s.callback=n),n=Mn(e,s,l),n!==null&&(gt(n,e,l),Io(n,e,l))}};function fd(e,n,l,s,d,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,S):n.prototype&&n.prototype.isPureReactComponent?!Eo(l,s)||!Eo(d,m):!0}function dd(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&pr.enqueueReplaceState(n,n.state,null)}function ri(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=T({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function pd(e){El(e)}function md(e){console.error(e)}function hd(e){El(e)}function Fl(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function gd(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function mr(e,n,l){return l=Nn(l),l.tag=3,l.payload={element:null},l.callback=function(){Fl(e,n)},l}function yd(e){return e=Nn(e),e.tag=3,e}function vd(e,n,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){gd(n,l,s)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){gd(n,l,s),typeof d!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function Nv(e,n,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&wi(n,l,d,!0),l=Ct.current,l!==null){switch(l.tag){case 31:case 13:return Gt===null?na():l.alternate===null&&Pe===0&&(Pe=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===Dl?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),Pr(e,s,d)),!1;case 22:return l.flags|=65536,s===Dl?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),Pr(e,s,d)),!1}throw Error(a(435,l.tag))}return Pr(e,s,d),na(),!1}if(ge)return n=Ct.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Us&&(e=Error(a(422),{cause:s}),Ao(Dt(e,l)))):(s!==Us&&(n=Error(a(423),{cause:s}),Ao(Dt(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Dt(s,l),d=mr(e.stateNode,s,d),Fs(e,d),Pe!==4&&(Pe=2)),!1;var m=Error(a(520),{cause:s});if(m=Dt(m,l),Oo===null?Oo=[m]:Oo.push(m),Pe!==4&&(Pe=2),n===null)return!0;s=Dt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=mr(l.stateNode,s,e),Fs(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Un===null||!Un.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=yd(d),vd(d,e,l,s),Fs(l,d),!1}l=l.return}while(l!==null);return!1}var hr=Error(a(461)),Je=!1;function tt(e,n,l,s){n.child=e===null?_f(n,null,l,s):ai(n,e.child,l,s)}function Sd(e,n,l,s,d){l=l.render;var m=n.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return ni(n),s=Zs(e,n,l,S,m,d),_=$s(),e!==null&&!Je?(Ws(e,n,d),an(e,n,d)):(ge&&_&&Ds(n),n.flags|=1,tt(e,n,s,d),n.child)}function Td(e,n,l,s,d){if(e===null){var m=l.type;return typeof m=="function"&&!xs(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,Ed(e,n,m,s,d)):(e=Rl(l.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Cr(e,d)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:Eo,l(S,s)&&e.ref===n.ref)return an(e,n,d)}return n.flags|=1,e=jt(m,s),e.ref=n.ref,e.return=n,n.child=e}function Ed(e,n,l,s,d){if(e!==null){var m=e.memoizedProps;if(Eo(m,s)&&e.ref===n.ref)if(Je=!1,n.pendingProps=s=m,Cr(e,d))(e.flags&131072)!==0&&(Je=!0);else return n.lanes=e.lanes,an(e,n,d)}return gr(e,n,l,s,d)}function _d(e,n,l,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return Cd(e,n,m,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Il(n,m!==null?m.cachePool:null),m!==null?Rf(n,m):Ys(),Nf(n);else return s=n.lanes=536870912,Cd(e,n,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(Il(n,m.cachePool),Rf(n,m),In(),n.memoizedState=null):(e!==null&&Il(n,null),Ys(),In());return tt(e,n,d,l),n.child}function Ho(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Cd(e,n,l,s,d){var m=zs();return m=m===null?null:{parent:Oe._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&Il(n,null),Ys(),Nf(n),e!==null&&wi(e,n,s,!0),n.childLanes=d,null}function Jl(e,n){return n=Kl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ad(e,n,l){return ai(n,e.child,null,l),e=Jl(n,n.pendingProps),e.flags|=2,At(n),n.memoizedState=null,e}function Mv(e,n,l){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ge){if(s.mode==="hidden")return e=Jl(n,s),n.lanes=536870912,Ho(null,e);if(Xs(n),(e=Le)?(e=Hp(e,Lt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:En!==null?{id:Yt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},l=sf(e),l.return=n,n.child=l,je=n,Le=null)):e=null,e===null)throw Cn(n);return n.lanes=536870912,null}return Jl(n,s)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(Xs(n),d)if(n.flags&256)n.flags&=-257,n=Ad(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Je||wi(e,n,l,!1),d=(l&e.childLanes)!==0,Je||d){if(s=Ue,s!==null&&(S=pc(s,l),S!==0&&S!==m.retryLane))throw m.retryLane=S,Wn(e,S),gt(s,e,S),hr;na(),n=Ad(e,n,l)}else e=m.treeContext,Le=Ht(S.nextSibling),je=n,ge=!0,_n=null,Lt=!1,e!==null&&cf(n,e),n=Jl(n,s),n.flags|=4096;return n}return e=jt(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Yl(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function gr(e,n,l,s,d){return ni(n),l=Zs(e,n,l,s,void 0,d),s=$s(),e!==null&&!Je?(Ws(e,n,d),an(e,n,d)):(ge&&s&&Ds(n),n.flags|=1,tt(e,n,l,d),n.child)}function Rd(e,n,l,s,d,m){return ni(n),n.updateQueue=null,l=xf(n,s,l,d),Mf(e),s=$s(),e!==null&&!Je?(Ws(e,n,m),an(e,n,m)):(ge&&s&&Ds(n),n.flags|=1,tt(e,n,l,m),n.child)}function Nd(e,n,l,s,d){if(ni(n),n.stateNode===null){var m=Ni,S=l.contextType;typeof S=="object"&&S!==null&&(m=et(S)),m=new l(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=pr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},ks(n),S=l.contextType,m.context=typeof S=="object"&&S!==null?et(S):Ni,m.state=n.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(dr(n,l,S,s),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&pr.enqueueReplaceState(m,m.state,null),Do(n,s,m,d),wo(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,A=ri(l,_);m.props=A;var D=m.context,q=l.contextType;S=Ni,typeof q=="object"&&q!==null&&(S=et(q));var P=l.getDerivedStateFromProps;q=typeof P=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||D!==S)&&dd(n,m,s,S),Rn=!1;var b=n.memoizedState;m.state=b,Do(n,s,m,d),wo(),D=n.memoizedState,_||b!==D||Rn?(typeof P=="function"&&(dr(n,l,P,s),D=n.memoizedState),(A=Rn||fd(n,l,A,s,b,D,S))?(q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=D),m.props=s,m.state=D,m.context=S,s=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Os(e,n),S=n.memoizedProps,q=ri(l,S),m.props=q,P=n.pendingProps,b=m.context,D=l.contextType,A=Ni,typeof D=="object"&&D!==null&&(A=et(D)),_=l.getDerivedStateFromProps,(D=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==P||b!==A)&&dd(n,m,s,A),Rn=!1,b=n.memoizedState,m.state=b,Do(n,s,m,d),wo();var G=n.memoizedState;S!==P||b!==G||Rn||e!==null&&e.dependencies!==null&&Ml(e.dependencies)?(typeof _=="function"&&(dr(n,l,_,s),G=n.memoizedState),(q=Rn||fd(n,l,q,s,b,G,A)||e!==null&&e.dependencies!==null&&Ml(e.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,G,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,G,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&b===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&b===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=G),m.props=s,m.state=G,m.context=A,s=q):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&b===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&b===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,Yl(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=ai(n,e.child,null,d),n.child=ai(n,null,l,d)):tt(e,n,l,d),n.memoizedState=m.state,e=n.child):e=an(e,n,d),e}function Md(e,n,l,s){return ei(),n.flags|=256,tt(e,n,l,s),n.child}var yr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vr(e){return{baseLanes:e,cachePool:gf()}}function Sr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Nt),e}function xd(e,n,l){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(ge){if(d?xn(n):In(),(e=Le)?(e=Hp(e,Lt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:En!==null?{id:Yt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},l=sf(e),l.return=n,n.child=l,je=n,Le=null)):e=null,e===null)throw Cn(n);return tu(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(In(),d=n.mode,_=Kl({mode:"hidden",children:_},d),s=jn(s,d,l,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=vr(l),s.childLanes=Sr(e,S,l),n.memoizedState=yr,Ho(null,s)):(xn(n),Tr(n,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(m)n.flags&256?(xn(n),n.flags&=-257,n=Er(e,n,l)):n.memoizedState!==null?(In(),n.child=e.child,n.flags|=128,n=null):(In(),_=s.fallback,d=n.mode,s=Kl({mode:"visible",children:s.children},d),_=jn(_,d,l,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,ai(n,e.child,null,l),s=n.child,s.memoizedState=vr(l),s.childLanes=Sr(e,S,l),n.memoizedState=yr,n=Ho(null,s));else if(xn(n),tu(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var D=S.dgst;S=D,s=Error(a(419)),s.stack="",s.digest=S,Ao({value:s,source:null,stack:null}),n=Er(e,n,l)}else if(Je||wi(e,n,l,!1),S=(l&e.childLanes)!==0,Je||S){if(S=Ue,S!==null&&(s=pc(S,l),s!==0&&s!==A.retryLane))throw A.retryLane=s,Wn(e,s),gt(S,e,s),hr;eu(_)||na(),n=Er(e,n,l)}else eu(_)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Le=Ht(_.nextSibling),je=n,ge=!0,_n=null,Lt=!1,e!==null&&cf(n,e),n=Tr(n,s.children),n.flags|=4096);return n}return d?(In(),_=s.fallback,d=n.mode,A=e.child,D=A.sibling,s=jt(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,D!==null?_=jt(D,_):(_=jn(_,d,l,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Ho(null,s),s=n.child,_=e.child.memoizedState,_===null?_=vr(l):(d=_.cachePool,d!==null?(A=Oe._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=gf(),_={baseLanes:_.baseLanes|l,cachePool:d}),s.memoizedState=_,s.childLanes=Sr(e,S,l),n.memoizedState=yr,Ho(e.child,s)):(xn(n),l=e.child,e=l.sibling,l=jt(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=l,n.memoizedState=null,l)}function Tr(e,n){return n=Kl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Kl(e,n){return e=_t(22,e,null,n),e.lanes=0,e}function Er(e,n,l){return ai(n,e.child,null,l),e=Tr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Id(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Hs(e.return,n,l)}function _r(e,n,l,s,d,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d,treeForkCount:m}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=l,S.tailMode=d,S.treeForkCount=m)}function wd(e,n,l){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var S=Be.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,k(Be,S),tt(e,n,s,l),s=ge?Co:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Id(e,l,n);else if(e.tag===19)Id(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&Gl(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),_r(n,!1,d,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Gl(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}_r(n,!0,l,null,m,s);break;case"together":_r(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function an(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),bn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(wi(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=jt(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=jt(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Cr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ml(e)))}function xv(e,n,l){switch(n.tag){case 3:$e(n,n.stateNode.containerInfo),An(n,Oe,e.memoizedState.cache),ei();break;case 27:case 5:so(n);break;case 4:$e(n,n.stateNode.containerInfo);break;case 10:An(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xs(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(xn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?xd(e,n,l):(xn(n),e=an(e,n,l),e!==null?e.sibling:null);xn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(wi(e,n,l,!1),s=(l&n.childLanes)!==0),d){if(s)return wd(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),k(Be,Be.current),s)break;return null;case 22:return n.lanes=0,_d(e,n,l,n.pendingProps);case 24:An(n,Oe,e.memoizedState.cache)}return an(e,n,l)}function Dd(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Je=!0;else{if(!Cr(e,l)&&(n.flags&128)===0)return Je=!1,xv(e,n,l);Je=(e.flags&131072)!==0}else Je=!1,ge&&(n.flags&1048576)!==0&&uf(n,Co,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=oi(n.elementType),n.type=e,typeof e=="function")xs(e)?(s=ri(e,s),n.tag=1,n=Nd(null,n,e,s,l)):(n.tag=0,n=gr(null,n,e,s,l));else{if(e!=null){var d=e.$$typeof;if(d===K){n.tag=11,n=Sd(null,n,e,s,l);break e}else if(d===J){n.tag=14,n=Td(null,n,e,s,l);break e}}throw n=He(e)||e,Error(a(306,n,""))}}return n;case 0:return gr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,d=ri(s,n.pendingProps),Nd(e,n,s,d,l);case 3:e:{if($e(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,Os(e,n),Do(n,s,null,l);var S=n.memoizedState;if(s=S.cache,An(n,Oe,s),s!==m.cache&&qs(n,[Oe],l,!0),wo(),s=S.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Md(e,n,s,l);break e}else if(s!==d){d=Dt(Error(a(424)),n),Ao(d),n=Md(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Ht(e.firstChild),je=n,ge=!0,_n=null,Lt=!0,l=_f(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ei(),s===d){n=an(e,n,l);break e}tt(e,n,s,l)}n=n.child}return n;case 26:return Yl(e,n),e===null?(l=kp(n.type,null,n.pendingProps,null))?n.memoizedState=l:ge||(l=n.type,e=n.pendingProps,s=ua(ie.current).createElement(l),s[We]=n,s[ct]=e,nt(s,l,e),Xe(s),n.stateNode=s):n.memoizedState=kp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return so(n),e===null&&ge&&(s=n.stateNode=Pp(n.type,n.pendingProps,ie.current),je=n,Lt=!0,d=Le,qn(n.type)?(nu=d,Le=Ht(s.firstChild)):Le=d),tt(e,n,n.pendingProps.children,l),Yl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ge&&((d=s=Le)&&(s=o0(s,n.type,n.pendingProps,Lt),s!==null?(n.stateNode=s,je=n,Le=Ht(s.firstChild),Lt=!1,d=!0):d=!1),d||Cn(n)),so(n),d=n.type,m=n.pendingProps,S=e!==null?e.memoizedProps:null,s=m.children,$r(d,m)?s=null:S!==null&&$r(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=Zs(e,n,Sv,null,null,l),$o._currentValue=d),Yl(e,n),tt(e,n,s,l),n.child;case 6:return e===null&&ge&&((e=l=Le)&&(l=l0(l,n.pendingProps,Lt),l!==null?(n.stateNode=l,je=n,Le=null,e=!0):e=!1),e||Cn(n)),null;case 13:return xd(e,n,l);case 4:return $e(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=ai(n,null,s,l):tt(e,n,s,l),n.child;case 11:return Sd(e,n,n.type,n.pendingProps,l);case 7:return tt(e,n,n.pendingProps,l),n.child;case 8:return tt(e,n,n.pendingProps.children,l),n.child;case 12:return tt(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,An(n,n.type,s.value),tt(e,n,s.children,l),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,ni(n),d=et(d),s=s(d),n.flags|=1,tt(e,n,s,l),n.child;case 14:return Td(e,n,n.type,n.pendingProps,l);case 15:return Ed(e,n,n.type,n.pendingProps,l);case 19:return wd(e,n,l);case 31:return Mv(e,n,l);case 22:return _d(e,n,l,n.pendingProps);case 24:return ni(n),s=et(Oe),e===null?(d=zs(),d===null&&(d=Ue,m=Vs(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),n.memoizedState={parent:s,cache:d},ks(n),An(n,Oe,d)):((e.lanes&l)!==0&&(Os(e,n),Do(n,null,null,l),wo()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),An(n,Oe,s)):(s=m.cache,An(n,Oe,s),s!==d.cache&&qs(n,[Oe],l,!0))),tt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function sn(e){e.flags|=4}function Ar(e,n,l,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(op())e.flags|=8192;else throw li=Dl,Bs}else e.flags&=-16777217}function bd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Kp(n))if(op())e.flags|=8192;else throw li=Dl,Bs}function Xl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?cc():536870912,e.lanes|=n,ki|=n)}function qo(e,n){if(!ge)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function Iv(e,n,l){var s=n.pendingProps;switch(bs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),nn(Oe),ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ii(n)?sn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ls())),Ge(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(sn(n),m!==null?(Ge(n),bd(n,m)):(Ge(n),Ar(n,d,null,s,l))):m?m!==e.memoizedState?(sn(n),Ge(n),bd(n,m)):(Ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&sn(n),Ge(n),Ar(n,d,e,s,l)),null;case 27:if(ll(n),l=ie.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}e=F.current,Ii(n)?ff(n):(e=Pp(d,s,l),n.stateNode=e,sn(n))}return Ge(n),null;case 5:if(ll(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}if(m=F.current,Ii(n))ff(n);else{var S=ua(ie.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}m[We]=n,m[ct]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=m;e:switch(nt(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&sn(n)}}return Ge(n),Ar(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=ie.current,Ii(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,d=je,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[We]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||xp(e.nodeValue,l)),e||Cn(n,!0)}else e=ua(e).createTextNode(s),e[We]=n,n.stateNode=e}return Ge(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=Ii(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[We]=n}else ei(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),e=!1}else l=Ls(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(At(n),n):(At(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ge(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ii(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[We]=n}else ei(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),d=!1}else d=Ls(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(At(n),n):(At(n),null)}return At(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Xl(n,n.updateQueue),Ge(n),null);case 4:return ze(),e===null&&Yr(n.stateNode.containerInfo),Ge(n),null;case 10:return nn(n.type),Ge(n),null;case 19:if(z(Be),s=n.memoizedState,s===null)return Ge(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)qo(s,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Gl(e),m!==null){for(n.flags|=128,qo(s,!1),e=m.updateQueue,n.updateQueue=e,Xl(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)af(l,e),l=l.sibling;return k(Be,Be.current&1|2),ge&&en(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&vt()>jl&&(n.flags|=128,d=!0,qo(s,!1),n.lanes=4194304)}else{if(!d)if(e=Gl(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Xl(n,e),qo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!ge)return Ge(n),null}else 2*vt()-s.renderingStartTime>jl&&l!==536870912&&(n.flags|=128,d=!0,qo(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vt(),e.sibling=null,l=Be.current,k(Be,d?l&1|2:l&1),ge&&en(n,s.treeForkCount),e):(Ge(n),null);case 22:case 23:return At(n),Ks(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),l=n.updateQueue,l!==null&&Xl(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&z(ii),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),nn(Oe),Ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function wv(e,n){switch(bs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return nn(Oe),ze(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ll(n),null;case 31:if(n.memoizedState!==null){if(At(n),n.alternate===null)throw Error(a(340));ei()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(At(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ei()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return z(Be),null;case 4:return ze(),null;case 10:return nn(n.type),null;case 22:case 23:return At(n),Ks(),e!==null&&z(ii),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return nn(Oe),null;case 25:return null;default:return null}}function Ud(e,n){switch(bs(n),n.tag){case 3:nn(Oe),ze();break;case 26:case 27:case 5:ll(n);break;case 4:ze();break;case 31:n.memoizedState!==null&&At(n);break;case 13:At(n);break;case 19:z(Be);break;case 10:nn(n.type);break;case 22:case 23:At(n),Ks(),e!==null&&z(ii);break;case 24:nn(Oe)}}function Vo(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&e)===e){s=void 0;var m=l.create,S=l.inst;s=m(),S.destroy=s}l=l.next}while(l!==d)}}catch(_){Ie(n,n.return,_)}}function wn(e,n,l){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=n;var A=l,D=_;try{D()}catch(q){Ie(d,A,q)}}}s=s.next}while(s!==m)}}catch(q){Ie(n,n.return,q)}}function Ld(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{Af(n,l)}catch(s){Ie(e,e.return,s)}}}function Gd(e,n,l){l.props=ri(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Ie(e,n,s)}}function Po(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(d){Ie(e,n,d)}}function Xt(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){Ie(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Ie(e,n,d)}else l.current=null}function Hd(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){Ie(e,e.return,d)}}function Rr(e,n,l){try{var s=e.stateNode;Wv(s,e.type,l,n),s[ct]=n}catch(d){Ie(e,e.return,d)}}function qd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qn(e.type)||e.tag===4}function Nr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mr(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=$t));else if(s!==4&&(s===27&&qn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Mr(e,n,l),e=e.sibling;e!==null;)Mr(e,n,l),e=e.sibling}function Ql(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&qn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Ql(e,n,l),e=e.sibling;e!==null;)Ql(e,n,l),e=e.sibling}function Vd(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);nt(n,s,l),n[We]=e,n[ct]=l}catch(m){Ie(e,e.return,m)}}var rn=!1,Ye=!1,xr=!1,Pd=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Dv(e,n){if(e=e.containerInfo,Qr=ga,e=Zc(e),Es(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var S=0,_=-1,A=-1,D=0,q=0,P=e,b=null;t:for(;;){for(var G;P!==l||d!==0&&P.nodeType!==3||(_=S+d),P!==m||s!==0&&P.nodeType!==3||(A=S+s),P.nodeType===3&&(S+=P.nodeValue.length),(G=P.firstChild)!==null;)b=P,P=G;for(;;){if(P===e)break t;if(b===l&&++D===d&&(_=S),b===m&&++q===s&&(A=S),(G=P.nextSibling)!==null)break;P=b,b=P.parentNode}P=G}l=_===-1||A===-1?null:{start:_,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Zr={focusedElem:e,selectionRange:l},ga=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,d=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var $=ri(l.type,d);e=s.getSnapshotBeforeUpdate($,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ie(l,l.return,oe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)jr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function zd(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:cn(e,l),s&4&&Vo(5,l);break;case 1:if(cn(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(S){Ie(l,l.return,S)}else{var d=ri(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Ie(l,l.return,S)}}s&64&&Ld(l),s&512&&Po(l,l.return);break;case 3:if(cn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Af(e,n)}catch(S){Ie(l,l.return,S)}}break;case 27:n===null&&s&4&&Vd(l);case 26:case 5:cn(e,l),n===null&&s&4&&Hd(l),s&512&&Po(l,l.return);break;case 12:cn(e,l);break;case 31:cn(e,l),s&4&&Od(e,l);break;case 13:cn(e,l),s&4&&Fd(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=zv.bind(null,l),a0(e,l))));break;case 22:if(s=l.memoizedState!==null||rn,!s){n=n!==null&&n.memoizedState!==null||Ye,d=rn;var m=Ye;rn=s,(Ye=n)&&!m?fn(e,l,(l.subtreeFlags&8772)!==0):cn(e,l),rn=d,Ye=m}break;case 30:break;default:cn(e,l)}}function Bd(e){var n=e.alternate;n!==null&&(e.alternate=null,Bd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&os(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,dt=!1;function un(e,n,l){for(l=l.child;l!==null;)kd(e,n,l),l=l.sibling}function kd(e,n,l){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(ro,l)}catch{}switch(l.tag){case 26:Ye||Xt(l,n),un(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ye||Xt(l,n);var s=qe,d=dt;qn(l.type)&&(qe=l.stateNode,dt=!1),un(e,n,l),Xo(l.stateNode),qe=s,dt=d;break;case 5:Ye||Xt(l,n);case 6:if(s=qe,d=dt,qe=null,un(e,n,l),qe=s,dt=d,qe!==null)if(dt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(l.stateNode)}catch(m){Ie(l,n,m)}else try{qe.removeChild(l.stateNode)}catch(m){Ie(l,n,m)}break;case 18:qe!==null&&(dt?(e=qe,Lp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Zi(e)):Lp(qe,l.stateNode));break;case 4:s=qe,d=dt,qe=l.stateNode.containerInfo,dt=!0,un(e,n,l),qe=s,dt=d;break;case 0:case 11:case 14:case 15:wn(2,l,n),Ye||wn(4,l,n),un(e,n,l);break;case 1:Ye||(Xt(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Gd(l,n,s)),un(e,n,l);break;case 21:un(e,n,l);break;case 22:Ye=(s=Ye)||l.memoizedState!==null,un(e,n,l),Ye=s;break;default:un(e,n,l)}}function Od(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zi(e)}catch(l){Ie(n,n.return,l)}}}function Fd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zi(e)}catch(l){Ie(n,n.return,l)}}function bv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Pd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Pd),n;default:throw Error(a(435,e.tag))}}function Zl(e,n){var l=bv(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var d=Bv.bind(null,e,s);s.then(d,d)}})}function pt(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],m=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(qn(_.type)){qe=_.stateNode,dt=!1;break e}break;case 5:qe=_.stateNode,dt=!1;break e;case 3:case 4:qe=_.stateNode.containerInfo,dt=!0;break e}_=_.return}if(qe===null)throw Error(a(160));kd(m,S,d),qe=null,dt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Jd(n,e),n=n.sibling}var Bt=null;function Jd(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(n,e),mt(e),s&4&&(wn(3,e,e.return),Vo(3,e),wn(5,e,e.return));break;case 1:pt(n,e),mt(e),s&512&&(Ye||l===null||Xt(l,l.return)),s&64&&rn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=Bt;if(pt(n,e),mt(e),s&512&&(Ye||l===null||Xt(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[fo]||m[We]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),nt(m,s,l),m[We]=e,Xe(m),s=m;break e;case"link":var S=Jp("link","href",d).get(s+(l.href||""));if(S){for(var _=0;_<S.length;_++)if(m=S[_],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(_,1);break t}}m=d.createElement(s),nt(m,s,l),d.head.appendChild(m);break;case"meta":if(S=Jp("meta","content",d).get(s+(l.content||""))){for(_=0;_<S.length;_++)if(m=S[_],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(_,1);break t}}m=d.createElement(s),nt(m,s,l),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[We]=e,Xe(m),s=m}e.stateNode=s}else Yp(d,e.type,e.stateNode);else e.stateNode=Fp(d,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?Yp(d,e.type,e.stateNode):Fp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Rr(e,e.memoizedProps,l.memoizedProps)}break;case 27:pt(n,e),mt(e),s&512&&(Ye||l===null||Xt(l,l.return)),l!==null&&s&4&&Rr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(pt(n,e),mt(e),s&512&&(Ye||l===null||Xt(l,l.return)),e.flags&32){d=e.stateNode;try{Si(d,"")}catch($){Ie(e,e.return,$)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Rr(e,d,l!==null?l.memoizedProps:d)),s&1024&&(xr=!0);break;case 6:if(pt(n,e),mt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch($){Ie(e,e.return,$)}}break;case 3:if(da=null,d=Bt,Bt=ca(n.containerInfo),pt(n,e),Bt=d,mt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Zi(n.containerInfo)}catch($){Ie(e,e.return,$)}xr&&(xr=!1,Yd(e));break;case 4:s=Bt,Bt=ca(e.stateNode.containerInfo),pt(n,e),mt(e),Bt=s;break;case 12:pt(n,e),mt(e);break;case 31:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zl(e,s)));break;case 13:pt(n,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wl=vt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zl(e,s)));break;case 22:d=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,D=rn,q=Ye;if(rn=D||d,Ye=q||A,pt(n,e),Ye=q,rn=D,mt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||A||rn||Ye||ui(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(m=A.stateNode,d)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=A.stateNode;var P=A.memoizedProps.style,b=P!=null&&P.hasOwnProperty("display")?P.display:null;_.style.display=b==null||typeof b=="boolean"?"":(""+b).trim()}}catch($){Ie(A,A.return,$)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch($){Ie(A,A.return,$)}}}else if(n.tag===18){if(l===null){A=n;try{var G=A.stateNode;d?Gp(G,!0):Gp(A.stateNode,!1)}catch($){Ie(A,A.return,$)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,Zl(e,l))));break;case 19:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zl(e,s)));break;case 30:break;case 21:break;default:pt(n,e),mt(e)}}function mt(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(qd(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,m=Nr(e);Ql(e,m,d);break;case 5:var S=l.stateNode;l.flags&32&&(Si(S,""),l.flags&=-33);var _=Nr(e);Ql(e,_,S);break;case 3:case 4:var A=l.stateNode.containerInfo,D=Nr(e);Mr(e,D,A);break;default:throw Error(a(161))}}catch(q){Ie(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Yd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Yd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function cn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zd(e,n.alternate,n),n=n.sibling}function ui(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:wn(4,n,n.return),ui(n);break;case 1:Xt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Gd(n,n.return,l),ui(n);break;case 27:Xo(n.stateNode);case 26:case 5:Xt(n,n.return),ui(n);break;case 22:n.memoizedState===null&&ui(n);break;case 30:ui(n);break;default:ui(n)}e=e.sibling}}function fn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,S=m.flags;switch(m.tag){case 0:case 11:case 15:fn(d,m,l),Vo(4,m);break;case 1:if(fn(d,m,l),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){Ie(s,s.return,D)}if(s=m,d=s.updateQueue,d!==null){var _=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Cf(A[d],_)}catch(D){Ie(s,s.return,D)}}l&&S&64&&Ld(m),Po(m,m.return);break;case 27:Vd(m);case 26:case 5:fn(d,m,l),l&&s===null&&S&4&&Hd(m),Po(m,m.return);break;case 12:fn(d,m,l);break;case 31:fn(d,m,l),l&&S&4&&Od(d,m);break;case 13:fn(d,m,l),l&&S&4&&Fd(d,m);break;case 22:m.memoizedState===null&&fn(d,m,l),Po(m,m.return);break;case 30:break;default:fn(d,m,l)}n=n.sibling}}function Ir(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ro(l))}function wr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ro(e))}function kt(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kd(e,n,l,s),n=n.sibling}function Kd(e,n,l,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:kt(e,n,l,s),d&2048&&Vo(9,n);break;case 1:kt(e,n,l,s);break;case 3:kt(e,n,l,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ro(e)));break;case 12:if(d&2048){kt(e,n,l,s),e=n.stateNode;try{var m=n.memoizedProps,S=m.id,_=m.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ie(n,n.return,A)}}else kt(e,n,l,s);break;case 31:kt(e,n,l,s);break;case 13:kt(e,n,l,s);break;case 23:break;case 22:m=n.stateNode,S=n.alternate,n.memoizedState!==null?m._visibility&2?kt(e,n,l,s):zo(e,n):m._visibility&2?kt(e,n,l,s):(m._visibility|=2,Pi(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Ir(S,n);break;case 24:kt(e,n,l,s),d&2048&&wr(n.alternate,n);break;default:kt(e,n,l,s)}}function Pi(e,n,l,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,S=n,_=l,A=s,D=S.flags;switch(S.tag){case 0:case 11:case 15:Pi(m,S,_,A,d),Vo(8,S);break;case 23:break;case 22:var q=S.stateNode;S.memoizedState!==null?q._visibility&2?Pi(m,S,_,A,d):zo(m,S):(q._visibility|=2,Pi(m,S,_,A,d)),d&&D&2048&&Ir(S.alternate,S);break;case 24:Pi(m,S,_,A,d),d&&D&2048&&wr(S.alternate,S);break;default:Pi(m,S,_,A,d)}n=n.sibling}}function zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,d=s.flags;switch(s.tag){case 22:zo(l,s),d&2048&&Ir(s.alternate,s);break;case 24:zo(l,s),d&2048&&wr(s.alternate,s);break;default:zo(l,s)}n=n.sibling}}var Bo=8192;function zi(e,n,l){if(e.subtreeFlags&Bo)for(e=e.child;e!==null;)Xd(e,n,l),e=e.sibling}function Xd(e,n,l){switch(e.tag){case 26:zi(e,n,l),e.flags&Bo&&e.memoizedState!==null&&v0(l,Bt,e.memoizedState,e.memoizedProps);break;case 5:zi(e,n,l);break;case 3:case 4:var s=Bt;Bt=ca(e.stateNode.containerInfo),zi(e,n,l),Bt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Bo,Bo=16777216,zi(e,n,l),Bo=s):zi(e,n,l));break;default:zi(e,n,l)}}function Qd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ko(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];Qe=s,$d(s,e)}Qd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zd(e),e=e.sibling}function Zd(e){switch(e.tag){case 0:case 11:case 15:ko(e),e.flags&2048&&wn(9,e,e.return);break;case 3:ko(e);break;case 12:ko(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$l(e)):ko(e);break;default:ko(e)}}function $l(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];Qe=s,$d(s,e)}Qd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:wn(8,n,n.return),$l(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,$l(n));break;default:$l(n)}e=e.sibling}}function $d(e,n){for(;Qe!==null;){var l=Qe;switch(l.tag){case 0:case 11:case 15:wn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ro(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,Qe=s;else e:for(l=e;Qe!==null;){s=Qe;var d=s.sibling,m=s.return;if(Bd(s),s===l){Qe=null;break e}if(d!==null){d.return=m,Qe=d;break e}Qe=m}}}var Uv={getCacheForType:function(e){var n=et(Oe),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return et(Oe).controller.signal}},Lv=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Ue=null,de=null,me=0,xe=0,Rt=null,Dn=!1,Bi=!1,Dr=!1,dn=0,Pe=0,bn=0,ci=0,br=0,Nt=0,ki=0,Oo=null,ht=null,Ur=!1,Wl=0,Wd=0,jl=1/0,ea=null,Un=null,Ke=0,Ln=null,Oi=null,pn=0,Lr=0,Gr=null,jd=null,Fo=0,Hr=null;function Mt(){return(Ae&2)!==0&&me!==0?me&-me:H.T!==null?kr():mc()}function ep(){if(Nt===0)if((me&536870912)===0||ge){var e=rl;rl<<=1,(rl&3932160)===0&&(rl=262144),Nt=e}else Nt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Nt}function gt(e,n,l){(e===Ue&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(Fi(e,0),Gn(e,me,Nt,!1)),co(e,l),((Ae&2)===0||e!==Ue)&&(e===Ue&&((Ae&2)===0&&(ci|=l),Pe===4&&Gn(e,me,Nt,!1)),Qt(e))}function tp(e,n,l){if((Ae&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||uo(e,n),d=s?qv(e,n):Vr(e,n,!0),m=s;do{if(d===0){Bi&&!s&&Gn(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!Gv(l)){d=Vr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;d=Oo;var A=_.current.memoizedState.isDehydrated;if(A&&(Fi(_,S).flags|=256),S=Vr(_,S,!1),S!==2){if(Dr&&!A){_.errorRecoveryDisabledLanes|=m,ci|=m,d=4;break e}m=ht,ht=d,m!==null&&(ht===null?ht=m:ht.push.apply(ht,m))}d=S}if(m=!1,d!==2)continue}}if(d===1){Fi(e,0),Gn(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Gn(s,n,Nt,!Dn);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=Wl+300-vt(),10<d)){if(Gn(s,n,Nt,!Dn),cl(s,0,!0)!==0)break e;pn=n,s.timeoutHandle=bp(np.bind(null,s,l,ht,ea,Ur,n,Nt,ci,ki,Dn,m,"Throttled",-0,0),d);break e}np(s,l,ht,ea,Ur,n,Nt,ci,ki,Dn,m,null,-0,0)}}break}while(!0);Qt(e)}function np(e,n,l,s,d,m,S,_,A,D,q,P,b,G){if(e.timeoutHandle=-1,P=n.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$t},Xd(n,m,P);var $=(m&62914560)===m?Wl-vt():(m&4194048)===m?Wd-vt():0;if($=S0(P,$),$!==null){pn=m,e.cancelPendingCommit=$(cp.bind(null,e,n,m,l,s,d,S,_,A,q,P,null,b,G)),Gn(e,m,S,!D);return}}cp(e,n,m,l,s,d,S,_,A)}function Gv(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],m=d.getSnapshot;d=d.value;try{if(!Et(m(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gn(e,n,l,s){n&=~br,n&=~ci,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-Tt(d),S=1<<m;s[m]=-1,d&=~S}l!==0&&fc(e,l,n)}function ta(){return(Ae&6)===0?(Jo(0),!1):!0}function qr(){if(de!==null){if(xe===0)var e=de.return;else e=de,tn=ti=null,js(e),Li=null,Mo=0,e=de;for(;e!==null;)Ud(e.alternate,e),e=e.return;de=null}}function Fi(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,t0(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),pn=0,qr(),Ue=e,de=l=jt(e.current,null),me=n,xe=0,Rt=null,Dn=!1,Bi=uo(e,n),Dr=!1,ki=Nt=br=ci=bn=Pe=0,ht=Oo=null,Ur=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Tt(s),m=1<<d;n|=e[d],s&=~m}return dn=n,_l(),l}function ip(e,n){re=null,H.H=Go,n===Ui||n===wl?(n=Sf(),xe=3):n===Bs?(n=Sf(),xe=4):xe=n===hr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rt=n,de===null&&(Pe=1,Fl(e,Dt(n,e.current)))}function op(){var e=Ct.current;return e===null?!0:(me&4194048)===me?Gt===null:(me&62914560)===me||(me&536870912)!==0?e===Gt:!1}function lp(){var e=H.H;return H.H=Go,e===null?Go:e}function ap(){var e=H.A;return H.A=Uv,e}function na(){Pe=4,Dn||(me&4194048)!==me&&Ct.current!==null||(Bi=!0),(bn&134217727)===0&&(ci&134217727)===0||Ue===null||Gn(Ue,me,Nt,!1)}function Vr(e,n,l){var s=Ae;Ae|=2;var d=lp(),m=ap();(Ue!==e||me!==n)&&(ea=null,Fi(e,n)),n=!1;var S=Pe;e:do try{if(xe!==0&&de!==null){var _=de,A=Rt;switch(xe){case 8:qr(),S=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(n=!0);var D=xe;if(xe=0,Rt=null,Ji(e,_,A,D),l&&Bi){S=0;break e}break;default:D=xe,xe=0,Rt=null,Ji(e,_,A,D)}}Hv(),S=Pe;break}catch(q){ip(e,q)}while(!0);return n&&e.shellSuspendCounter++,tn=ti=null,Ae=s,H.H=d,H.A=m,de===null&&(Ue=null,me=0,_l()),S}function Hv(){for(;de!==null;)sp(de)}function qv(e,n){var l=Ae;Ae|=2;var s=lp(),d=ap();Ue!==e||me!==n?(ea=null,jl=vt()+500,Fi(e,n)):Bi=uo(e,n);e:do try{if(xe!==0&&de!==null){n=de;var m=Rt;t:switch(xe){case 1:xe=0,Rt=null,Ji(e,n,m,1);break;case 2:case 9:if(yf(m)){xe=0,Rt=null,rp(n);break}n=function(){xe!==2&&xe!==9||Ue!==e||(xe=7),Qt(e)},m.then(n,n);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:yf(m)?(xe=0,Rt=null,rp(n)):(xe=0,Rt=null,Ji(e,n,m,7));break;case 5:var S=null;switch(de.tag){case 26:S=de.memoizedState;case 5:case 27:var _=de;if(S?Kp(S):_.stateNode.complete){xe=0,Rt=null;var A=_.sibling;if(A!==null)de=A;else{var D=_.return;D!==null?(de=D,ia(D)):de=null}break t}}xe=0,Rt=null,Ji(e,n,m,5);break;case 6:xe=0,Rt=null,Ji(e,n,m,6);break;case 8:qr(),Pe=6;break e;default:throw Error(a(462))}}Vv();break}catch(q){ip(e,q)}while(!0);return tn=ti=null,H.H=s,H.A=d,Ae=l,de!==null?0:(Ue=null,me=0,_l(),Pe)}function Vv(){for(;de!==null&&!sy();)sp(de)}function sp(e){var n=Dd(e.alternate,e,dn);e.memoizedProps=e.pendingProps,n===null?ia(e):de=n}function rp(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=Rd(l,n,n.pendingProps,n.type,void 0,me);break;case 11:n=Rd(l,n,n.pendingProps,n.type.render,n.ref,me);break;case 5:js(n);default:Ud(l,n),n=de=af(n,dn),n=Dd(l,n,dn)}e.memoizedProps=e.pendingProps,n===null?ia(e):de=n}function Ji(e,n,l,s){tn=ti=null,js(n),Li=null,Mo=0;var d=n.return;try{if(Nv(e,d,n,l,me)){Pe=1,Fl(e,Dt(l,e.current)),de=null;return}}catch(m){if(d!==null)throw de=d,m;Pe=1,Fl(e,Dt(l,e.current)),de=null;return}n.flags&32768?(ge||s===1?e=!0:Bi||(me&536870912)!==0?e=!1:(Dn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ct.current,s!==null&&s.tag===13&&(s.flags|=16384))),up(n,e)):ia(n)}function ia(e){var n=e;do{if((n.flags&32768)!==0){up(n,Dn);return}e=n.return;var l=Iv(n.alternate,n,dn);if(l!==null){de=l;return}if(n=n.sibling,n!==null){de=n;return}de=n=e}while(n!==null);Pe===0&&(Pe=5)}function up(e,n){do{var l=wv(e.alternate,e);if(l!==null){l.flags&=32767,de=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){de=e;return}de=e=l}while(e!==null);Pe=6,de=null}function cp(e,n,l,s,d,m,S,_,A){e.cancelPendingCommit=null;do oa();while(Ke!==0);if((Ae&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=Ns,yy(e,l,m,S,_,A),e===Ue&&(de=Ue=null,me=0),Oi=n,Ln=e,pn=l,Lr=m,Gr=d,jd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kv(al,function(){return hp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,d=Y.p,Y.p=2,S=Ae,Ae|=4;try{Dv(e,n,l)}finally{Ae=S,Y.p=d,H.T=s}}Ke=1,fp(),dp(),pp()}}function fp(){if(Ke===1){Ke=0;var e=Ln,n=Oi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var s=Y.p;Y.p=2;var d=Ae;Ae|=4;try{Jd(n,e);var m=Zr,S=Zc(e.containerInfo),_=m.focusedElem,A=m.selectionRange;if(S!==_&&_&&_.ownerDocument&&Qc(_.ownerDocument.documentElement,_)){if(A!==null&&Es(_)){var D=A.start,q=A.end;if(q===void 0&&(q=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(q,_.value.length);else{var P=_.ownerDocument||document,b=P&&P.defaultView||window;if(b.getSelection){var G=b.getSelection(),$=_.textContent.length,oe=Math.min(A.start,$),be=A.end===void 0?oe:Math.min(A.end,$);!G.extend&&oe>be&&(S=be,be=oe,oe=S);var x=Xc(_,oe),R=Xc(_,be);if(x&&R&&(G.rangeCount!==1||G.anchorNode!==x.node||G.anchorOffset!==x.offset||G.focusNode!==R.node||G.focusOffset!==R.offset)){var w=P.createRange();w.setStart(x.node,x.offset),G.removeAllRanges(),oe>be?(G.addRange(w),G.extend(R.node,R.offset)):(w.setEnd(R.node,R.offset),G.addRange(w))}}}}for(P=[],G=_;G=G.parentNode;)G.nodeType===1&&P.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<P.length;_++){var V=P[_];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}ga=!!Qr,Zr=Qr=null}finally{Ae=d,Y.p=s,H.T=l}}e.current=n,Ke=2}}function dp(){if(Ke===2){Ke=0;var e=Ln,n=Oi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var s=Y.p;Y.p=2;var d=Ae;Ae|=4;try{zd(e,n.alternate,n)}finally{Ae=d,Y.p=s,H.T=l}}Ke=3}}function pp(){if(Ke===4||Ke===3){Ke=0,ry();var e=Ln,n=Oi,l=pn,s=jd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ke=5:(Ke=0,Oi=Ln=null,mp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Un=null),ns(l),n=n.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(ro,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=H.T,d=Y.p,Y.p=2,H.T=null;try{for(var m=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];m(_.value,{componentStack:_.stack})}}finally{H.T=n,Y.p=d}}(pn&3)!==0&&oa(),Qt(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Hr?Fo++:(Fo=0,Hr=e):Fo=0,Jo(0)}}function mp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ro(n)))}function oa(){return fp(),dp(),pp(),hp()}function hp(){if(Ke!==5)return!1;var e=Ln,n=Lr;Lr=0;var l=ns(pn),s=H.T,d=Y.p;try{Y.p=32>l?32:l,H.T=null,l=Gr,Gr=null;var m=Ln,S=pn;if(Ke=0,Oi=Ln=null,pn=0,(Ae&6)!==0)throw Error(a(331));var _=Ae;if(Ae|=4,Zd(m.current),Kd(m,m.current,S,l),Ae=_,Jo(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(ro,m)}catch{}return!0}finally{Y.p=d,H.T=s,mp(e,n)}}function gp(e,n,l){n=Dt(l,n),n=mr(e.stateNode,n,2),e=Mn(e,n,2),e!==null&&(co(e,2),Qt(e))}function Ie(e,n,l){if(e.tag===3)gp(e,e,l);else for(;n!==null;){if(n.tag===3){gp(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Un===null||!Un.has(s))){e=Dt(l,e),l=yd(2),s=Mn(n,l,2),s!==null&&(vd(l,s,n,e),co(s,2),Qt(s));break}}n=n.return}}function Pr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Lv;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(l)||(Dr=!0,d.add(l),e=Pv.bind(null,e,n,l),n.then(e,e))}function Pv(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ue===e&&(me&l)===l&&(Pe===4||Pe===3&&(me&62914560)===me&&300>vt()-Wl?(Ae&2)===0&&Fi(e,0):br|=l,ki===me&&(ki=0)),Qt(e)}function yp(e,n){n===0&&(n=cc()),e=Wn(e,n),e!==null&&(co(e,n),Qt(e))}function zv(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),yp(e,l)}function Bv(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),yp(e,l)}function kv(e,n){return Wa(e,n)}var la=null,Yi=null,zr=!1,aa=!1,Br=!1,Hn=0;function Qt(e){e!==Yi&&e.next===null&&(Yi===null?la=Yi=e:Yi=Yi.next=e),aa=!0,zr||(zr=!0,Fv())}function Jo(e,n){if(!Br&&aa){Br=!0;do for(var l=!1,s=la;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var S=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-Tt(42|e)+1)-1,m&=d&~(S&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Ep(s,m))}else m=me,m=cl(s,s===Ue?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||uo(s,m)||(l=!0,Ep(s,m));s=s.next}while(l);Br=!1}}function Ov(){vp()}function vp(){aa=zr=!1;var e=0;Hn!==0&&e0()&&(e=Hn);for(var n=vt(),l=null,s=la;s!==null;){var d=s.next,m=Sp(s,n);m===0?(s.next=null,l===null?la=d:l.next=d,d===null&&(Yi=l)):(l=s,(e!==0||(m&3)!==0)&&(aa=!0)),s=d}Ke!==0&&Ke!==5||Jo(e),Hn!==0&&(Hn=0)}function Sp(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-Tt(m),_=1<<S,A=d[S];A===-1?((_&l)===0||(_&s)!==0)&&(d[S]=gy(_,n)):A<=n&&(e.expiredLanes|=_),m&=~_}if(n=Ue,l=me,l=cl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ja(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||uo(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&ja(s),ns(l)){case 2:case 8:l=rc;break;case 32:l=al;break;case 268435456:l=uc;break;default:l=al}return s=Tp.bind(null,e),l=Wa(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&ja(s),e.callbackPriority=2,e.callbackNode=null,2}function Tp(e,n){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(oa()&&e.callbackNode!==l)return null;var s=me;return s=cl(e,e===Ue?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(tp(e,s,n),Sp(e,vt()),e.callbackNode!=null&&e.callbackNode===l?Tp.bind(null,e):null)}function Ep(e,n){if(oa())return null;tp(e,n,!0)}function Fv(){n0(function(){(Ae&6)!==0?Wa(sc,Ov):vp()})}function kr(){if(Hn===0){var e=Di;e===0&&(e=sl,sl<<=1,(sl&261888)===0&&(sl=256)),Hn=e}return Hn}function _p(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ml(""+e)}function Cp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function Jv(e,n,l,s,d){if(n==="submit"&&l&&l.stateNode===d){var m=_p((d[ct]||null).action),S=s.submitter;S&&(n=(n=S[ct]||null)?_p(n.formAction):S.getAttribute("formAction"),n!==null&&(m=n,S=null));var _=new vl("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Hn!==0){var A=S?Cp(d,S):new FormData(d);rr(l,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(_.preventDefault(),A=S?Cp(d,S):new FormData(d),rr(l,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var Or=0;Or<Rs.length;Or++){var Fr=Rs[Or],Yv=Fr.toLowerCase(),Kv=Fr[0].toUpperCase()+Fr.slice(1);zt(Yv,"on"+Kv)}zt(jc,"onAnimationEnd"),zt(ef,"onAnimationIteration"),zt(tf,"onAnimationStart"),zt("dblclick","onDoubleClick"),zt("focusin","onFocus"),zt("focusout","onBlur"),zt(uv,"onTransitionRun"),zt(cv,"onTransitionStart"),zt(fv,"onTransitionCancel"),zt(nf,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yo));function Ap(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var S=s.length-1;0<=S;S--){var _=s[S],A=_.instance,D=_.currentTarget;if(_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=D;try{m(d)}catch(q){El(q)}d.currentTarget=null,m=A}else for(S=0;S<s.length;S++){if(_=s[S],A=_.instance,D=_.currentTarget,_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=D;try{m(d)}catch(q){El(q)}d.currentTarget=null,m=A}}}}function pe(e,n){var l=n[is];l===void 0&&(l=n[is]=new Set);var s=e+"__bubble";l.has(s)||(Rp(n,e,2,!1),l.add(s))}function Jr(e,n,l){var s=0;n&&(s|=4),Rp(l,e,s,n)}var sa="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[sa]){e[sa]=!0,yc.forEach(function(l){l!=="selectionchange"&&(Xv.has(l)||Jr(l,!1,e),Jr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sa]||(n[sa]=!0,Jr("selectionchange",!1,n))}}function Rp(e,n,l,s){switch(em(n)){case 2:var d=_0;break;case 8:d=C0;break;default:d=su}l=d.bind(null,n,l,e),d=void 0,!ds||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function Kr(e,n,l,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=s.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=mi(_),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){s=m=S;continue e}_=_.parentNode}}s=s.return}Ic(function(){var D=m,q=cs(l),P=[];e:{var b=of.get(e);if(b!==void 0){var G=vl,$=e;switch(e){case"keypress":if(gl(l)===0)break e;case"keydown":case"keyup":G=By;break;case"focusin":$="focus",G=gs;break;case"focusout":$="blur",G=gs;break;case"beforeblur":case"afterblur":G=gs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Iy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Fy;break;case jc:case ef:case tf:G=by;break;case nf:G=Yy;break;case"scroll":case"scrollend":G=My;break;case"wheel":G=Xy;break;case"copy":case"cut":case"paste":G=Ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Lc;break;case"toggle":case"beforetoggle":G=Zy}var oe=(n&4)!==0,be=!oe&&(e==="scroll"||e==="scrollend"),x=oe?b!==null?b+"Capture":null:b;oe=[];for(var R=D,w;R!==null;){var V=R;if(w=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||w===null||x===null||(V=mo(R,x),V!=null&&oe.push(Ko(R,V,w))),be)break;R=R.return}0<oe.length&&(b=new G(b,$,null,l,q),P.push({event:b,listeners:oe}))}}if((n&7)===0){e:{if(b=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",b&&l!==us&&($=l.relatedTarget||l.fromElement)&&(mi($)||$[pi]))break e;if((G||b)&&(b=q.window===q?q:(b=q.ownerDocument)?b.defaultView||b.parentWindow:window,G?($=l.relatedTarget||l.toElement,G=D,$=$?mi($):null,$!==null&&(be=f($),oe=$.tag,$!==be||oe!==5&&oe!==27&&oe!==6)&&($=null)):(G=null,$=D),G!==$)){if(oe=bc,V="onMouseLeave",x="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Lc,V="onPointerLeave",x="onPointerEnter",R="pointer"),be=G==null?b:po(G),w=$==null?b:po($),b=new oe(V,R+"leave",G,l,q),b.target=be,b.relatedTarget=w,V=null,mi(q)===D&&(oe=new oe(x,R+"enter",$,l,q),oe.target=w,oe.relatedTarget=be,V=oe),be=V,G&&$)t:{for(oe=Qv,x=G,R=$,w=0,V=x;V;V=oe(V))w++;V=0;for(var ne=R;ne;ne=oe(ne))V++;for(;0<w-V;)x=oe(x),w--;for(;0<V-w;)R=oe(R),V--;for(;w--;){if(x===R||R!==null&&x===R.alternate){oe=x;break t}x=oe(x),R=oe(R)}oe=null}else oe=null;G!==null&&Np(P,b,G,oe,!1),$!==null&&be!==null&&Np(P,be,$,oe,!0)}}e:{if(b=D?po(D):window,G=b.nodeName&&b.nodeName.toLowerCase(),G==="select"||G==="input"&&b.type==="file")var Te=kc;else if(zc(b))if(Oc)Te=av;else{Te=ov;var ee=iv}else G=b.nodeName,!G||G.toLowerCase()!=="input"||b.type!=="checkbox"&&b.type!=="radio"?D&&rs(D.elementType)&&(Te=kc):Te=lv;if(Te&&(Te=Te(e,D))){Bc(P,Te,l,q);break e}ee&&ee(e,b,D),e==="focusout"&&D&&b.type==="number"&&D.memoizedProps.value!=null&&ss(b,"number",b.value)}switch(ee=D?po(D):window,e){case"focusin":(zc(ee)||ee.contentEditable==="true")&&(Ci=ee,_s=D,_o=null);break;case"focusout":_o=_s=Ci=null;break;case"mousedown":Cs=!0;break;case"contextmenu":case"mouseup":case"dragend":Cs=!1,$c(P,l,q);break;case"selectionchange":if(rv)break;case"keydown":case"keyup":$c(P,l,q)}var ce;if(vs)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else _i?Vc(e,l)&&(he="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(he="onCompositionStart");he&&(Gc&&l.locale!=="ko"&&(_i||he!=="onCompositionStart"?he==="onCompositionEnd"&&_i&&(ce=wc()):(Tn=q,ps="value"in Tn?Tn.value:Tn.textContent,_i=!0)),ee=ra(D,he),0<ee.length&&(he=new Uc(he,e,null,l,q),P.push({event:he,listeners:ee}),ce?he.data=ce:(ce=Pc(l),ce!==null&&(he.data=ce)))),(ce=Wy?jy(e,l):ev(e,l))&&(he=ra(D,"onBeforeInput"),0<he.length&&(ee=new Uc("onBeforeInput","beforeinput",null,l,q),P.push({event:ee,listeners:he}),ee.data=ce)),Jv(P,e,D,l,q)}Ap(P,n)})}function Ko(e,n,l){return{instance:e,listener:n,currentTarget:l}}function ra(e,n){for(var l=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=mo(e,l),d!=null&&s.unshift(Ko(e,d,m)),d=mo(e,n),d!=null&&s.push(Ko(e,d,m))),e.tag===3)return s;e=e.return}return[]}function Qv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Np(e,n,l,s,d){for(var m=n._reactName,S=[];l!==null&&l!==s;){var _=l,A=_.alternate,D=_.stateNode;if(_=_.tag,A!==null&&A===s)break;_!==5&&_!==26&&_!==27||D===null||(A=D,d?(D=mo(l,m),D!=null&&S.unshift(Ko(l,D,A))):d||(D=mo(l,m),D!=null&&S.push(Ko(l,D,A)))),l=l.return}S.length!==0&&e.push({event:n,listeners:S})}var Zv=/\r\n?/g,$v=/\u0000|\uFFFD/g;function Mp(e){return(typeof e=="string"?e:""+e).replace(Zv,`
`).replace($v,"")}function xp(e,n){return n=Mp(n),Mp(e)===n}function De(e,n,l,s,d,m){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Si(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Si(e,""+s);break;case"className":dl(e,"class",s);break;case"tabIndex":dl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":dl(e,l,s);break;case"style":Mc(e,s,m);break;case"data":if(n!=="object"){dl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=ml(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&De(e,n,"name",d.name,d,null),De(e,n,"formEncType",d.formEncType,d,null),De(e,n,"formMethod",d.formMethod,d,null),De(e,n,"formTarget",d.formTarget,d,null)):(De(e,n,"encType",d.encType,d,null),De(e,n,"method",d.method,d,null),De(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=ml(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=$t);break;case"onScroll":s!=null&&pe("scroll",e);break;case"onScrollEnd":s!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=ml(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":pe("beforetoggle",e),pe("toggle",e),fl(e,"popover",s);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":fl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ry.get(l)||l,fl(e,l,s))}}function Xr(e,n,l,s,d,m){switch(l){case"style":Mc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Si(e,s):(typeof s=="number"||typeof s=="bigint")&&Si(e,""+s);break;case"onScroll":s!=null&&pe("scroll",e);break;case"onScrollEnd":s!=null&&pe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=$t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),m=e[ct]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,d);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):fl(e,l,s)}}}function nt(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var s=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var S=l[m];if(S!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:De(e,n,m,S,l,null)}}d&&De(e,n,"srcSet",l.srcSet,l,null),s&&De(e,n,"src",l.src,l,null);return;case"input":pe("invalid",e);var _=m=S=d=null,A=null,D=null;for(s in l)if(l.hasOwnProperty(s)){var q=l[s];if(q!=null)switch(s){case"name":d=q;break;case"type":S=q;break;case"checked":A=q;break;case"defaultChecked":D=q;break;case"value":m=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:De(e,n,s,q,l,null)}}Cc(e,m,_,A,D,S,d,!1);return;case"select":pe("invalid",e),s=S=m=null;for(d in l)if(l.hasOwnProperty(d)&&(_=l[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:De(e,n,d,_,l,null)}n=m,l=S,e.multiple=!!s,n!=null?vi(e,!!s,n,!1):l!=null&&vi(e,!!s,l,!0);return;case"textarea":pe("invalid",e),m=d=s=null;for(S in l)if(l.hasOwnProperty(S)&&(_=l[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:De(e,n,S,_,l,null)}Rc(e,s,d,m);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(s=l[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:De(e,n,A,s,l,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(s=0;s<Yo.length;s++)pe(Yo[s],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(s=l[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:De(e,n,D,s,l,null)}return;default:if(rs(n)){for(q in l)l.hasOwnProperty(q)&&(s=l[q],s!==void 0&&Xr(e,n,q,s,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(s=l[_],s!=null&&De(e,n,_,s,l,null))}function Wv(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,S=null,_=null,A=null,D=null,q=null;for(G in l){var P=l[G];if(l.hasOwnProperty(G)&&P!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":A=P;default:s.hasOwnProperty(G)||De(e,n,G,null,s,P)}}for(var b in s){var G=s[b];if(P=l[b],s.hasOwnProperty(b)&&(G!=null||P!=null))switch(b){case"type":m=G;break;case"name":d=G;break;case"checked":D=G;break;case"defaultChecked":q=G;break;case"value":S=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==P&&De(e,n,b,G,s,P)}}as(e,S,_,A,D,q,m,d);return;case"select":G=S=_=b=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":G=A;default:s.hasOwnProperty(m)||De(e,n,m,null,s,A)}for(d in s)if(m=s[d],A=l[d],s.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":b=m;break;case"defaultValue":_=m;break;case"multiple":S=m;default:m!==A&&De(e,n,d,m,s,A)}n=_,l=S,s=G,b!=null?vi(e,!!l,b,!1):!!s!=!!l&&(n!=null?vi(e,!!l,n,!0):vi(e,!!l,l?[]:"",!1));return;case"textarea":G=b=null;for(_ in l)if(d=l[_],l.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:De(e,n,_,null,s,d)}for(S in s)if(d=s[S],m=l[S],s.hasOwnProperty(S)&&(d!=null||m!=null))switch(S){case"value":b=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&De(e,n,S,d,s,m)}Ac(e,b,G);return;case"option":for(var $ in l)if(b=l[$],l.hasOwnProperty($)&&b!=null&&!s.hasOwnProperty($))switch($){case"selected":e.selected=!1;break;default:De(e,n,$,null,s,b)}for(A in s)if(b=s[A],G=l[A],s.hasOwnProperty(A)&&b!==G&&(b!=null||G!=null))switch(A){case"selected":e.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:De(e,n,A,b,s,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in l)b=l[oe],l.hasOwnProperty(oe)&&b!=null&&!s.hasOwnProperty(oe)&&De(e,n,oe,null,s,b);for(D in s)if(b=s[D],G=l[D],s.hasOwnProperty(D)&&b!==G&&(b!=null||G!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(137,n));break;default:De(e,n,D,b,s,G)}return;default:if(rs(n)){for(var be in l)b=l[be],l.hasOwnProperty(be)&&b!==void 0&&!s.hasOwnProperty(be)&&Xr(e,n,be,void 0,s,b);for(q in s)b=s[q],G=l[q],!s.hasOwnProperty(q)||b===G||b===void 0&&G===void 0||Xr(e,n,q,b,s,G);return}}for(var x in l)b=l[x],l.hasOwnProperty(x)&&b!=null&&!s.hasOwnProperty(x)&&De(e,n,x,null,s,b);for(P in s)b=s[P],G=l[P],!s.hasOwnProperty(P)||b===G||b==null&&G==null||De(e,n,P,b,s,G)}function Ip(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var d=l[s],m=d.transferSize,S=d.initiatorType,_=d.duration;if(m&&_&&Ip(S)){for(S=0,_=d.responseEnd,s+=1;s<l.length;s++){var A=l[s],D=A.startTime;if(D>_)break;var q=A.transferSize,P=A.initiatorType;q&&Ip(P)&&(A=A.responseEnd,S+=q*(A<_?1:(_-D)/(A-D)))}if(--s,n+=8*(m+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qr=null,Zr=null;function ua(e){return e.nodeType===9?e:e.ownerDocument}function wp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function $r(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wr=null;function e0(){var e=window.event;return e&&e.type==="popstate"?e===Wr?!1:(Wr=e,!0):(Wr=null,!1)}var bp=typeof setTimeout=="function"?setTimeout:void 0,t0=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,n0=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(e){return Up.resolve(null).then(e).catch(i0)}:bp;function i0(e){setTimeout(function(){throw e})}function qn(e){return e==="head"}function Lp(e,n){var l=n,s=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(d),Zi(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Xo(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Xo(l);for(var m=l.firstChild;m;){var S=m.nextSibling,_=m.nodeName;m[fo]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=S}}else l==="body"&&Xo(e.ownerDocument.body);l=d}while(l);Zi(n)}function Gp(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function jr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":jr(l),os(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function o0(e,n,l,s){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[fo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function l0(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ht(e.nextSibling),e===null))return null;return e}function Hp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ht(e.nextSibling),e===null))return null;return e}function eu(e){return e.data==="$?"||e.data==="$~"}function tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function a0(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ht(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var nu=null;function qp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Ht(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Vp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Pp(e,n,l){switch(n=ua(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Xo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);os(e)}var qt=new Map,zp=new Set;function ca(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mn=Y.d;Y.d={f:s0,r:r0,D:u0,C:c0,L:f0,m:d0,X:m0,S:p0,M:h0};function s0(){var e=mn.f(),n=ta();return e||n}function r0(e){var n=hi(e);n!==null&&n.tag===5&&n.type==="form"?id(n):mn.r(e)}var Ki=typeof document>"u"?null:document;function Bp(e,n,l){var s=Ki;if(s&&typeof n=="string"&&n){var d=It(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),zp.has(d)||(zp.add(d),e={rel:e,crossOrigin:l,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),nt(n,"link",e),Xe(n),s.head.appendChild(n)))}}function u0(e){mn.D(e),Bp("dns-prefetch",e,null)}function c0(e,n){mn.C(e,n),Bp("preconnect",e,n)}function f0(e,n,l){mn.L(e,n,l);var s=Ki;if(s&&e&&n){var d='link[rel="preload"][as="'+It(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+It(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+It(l.imageSizes)+'"]')):d+='[href="'+It(e)+'"]';var m=d;switch(n){case"style":m=Xi(e);break;case"script":m=Qi(e)}qt.has(m)||(e=T({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),qt.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Qo(m))||n==="script"&&s.querySelector(Zo(m))||(n=s.createElement("link"),nt(n,"link",e),Xe(n),s.head.appendChild(n)))}}function d0(e,n){mn.m(e,n);var l=Ki;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+It(s)+'"][href="'+It(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Qi(e)}if(!qt.has(m)&&(e=T({rel:"modulepreload",href:e},n),qt.set(m,e),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Zo(m)))return}s=l.createElement("link"),nt(s,"link",e),Xe(s),l.head.appendChild(s)}}}function p0(e,n,l){mn.S(e,n,l);var s=Ki;if(s&&e){var d=gi(s).hoistableStyles,m=Xi(e);n=n||"default";var S=d.get(m);if(!S){var _={loading:0,preload:null};if(S=s.querySelector(Qo(m)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},l),(l=qt.get(m))&&iu(e,l);var A=S=s.createElement("link");Xe(A),nt(A,"link",e),A._p=new Promise(function(D,q){A.onload=D,A.onerror=q}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,fa(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(m,S)}}}function m0(e,n){mn.X(e,n);var l=Ki;if(l&&e){var s=gi(l).hoistableScripts,d=Qi(e),m=s.get(d);m||(m=l.querySelector(Zo(d)),m||(e=T({src:e,async:!0},n),(n=qt.get(d))&&ou(e,n),m=l.createElement("script"),Xe(m),nt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function h0(e,n){mn.M(e,n);var l=Ki;if(l&&e){var s=gi(l).hoistableScripts,d=Qi(e),m=s.get(d);m||(m=l.querySelector(Zo(d)),m||(e=T({src:e,async:!0,type:"module"},n),(n=qt.get(d))&&ou(e,n),m=l.createElement("script"),Xe(m),nt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function kp(e,n,l,s){var d=(d=ie.current)?ca(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Xi(l.href),l=gi(d).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Xi(l.href);var m=gi(d).hoistableStyles,S=m.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=d.querySelector(Qo(e)))&&!m._p&&(S.instance=m,S.state.loading=5),qt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qt.set(e,l),m||g0(d,e,l,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qi(l),l=gi(d).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Xi(e){return'href="'+It(e)+'"'}function Qo(e){return'link[rel="stylesheet"]['+e+"]"}function Op(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function g0(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),nt(n,"link",l),Xe(n),e.head.appendChild(n))}function Qi(e){return'[src="'+It(e)+'"]'}function Zo(e){return"script[async]"+e}function Fp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+It(l.href)+'"]');if(s)return n.instance=s,Xe(s),s;var d=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Xe(s),nt(s,"style",d),fa(s,l.precedence,e),n.instance=s;case"stylesheet":d=Xi(l.href);var m=e.querySelector(Qo(d));if(m)return n.state.loading|=4,n.instance=m,Xe(m),m;s=Op(l),(d=qt.get(d))&&iu(s,d),m=(e.ownerDocument||e).createElement("link"),Xe(m);var S=m;return S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),nt(m,"link",s),n.state.loading|=4,fa(m,l.precedence,e),n.instance=m;case"script":return m=Qi(l.src),(d=e.querySelector(Zo(m)))?(n.instance=d,Xe(d),d):(s=l,(d=qt.get(m))&&(s=T({},l),ou(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),Xe(d),nt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,fa(s,l.precedence,e));return n.instance}function fa(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===n)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function iu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ou(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var da=null;function Jp(e,n,l){if(da===null){var s=new Map,d=da=new Map;d.set(l,s)}else d=da,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[fo]||m[We]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(n)||"";S=e+S;var _=s.get(S);_?_.push(m):s.set(S,[m])}}return s}function Yp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function y0(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Kp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function v0(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=Xi(s.href),m=n.querySelector(Qo(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pa.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,Xe(m);return}m=n.ownerDocument||n,s=Op(s),(d=qt.get(d))&&iu(s,d),m=m.createElement("link"),Xe(m);var S=m;S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),nt(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=pa.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var lu=0;function S0(e,n){return e.stylesheets&&e.count===0&&ha(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&ha(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&lu===0&&(lu=62500*jv());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ha(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>lu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function pa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ha(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ma=null;function ha(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ma=new Map,n.forEach(T0,e),ma=null,pa.call(e))}function T0(e,n){if(!(n.state.loading&4)){var l=ma.get(e);if(l)var s=l.get(null);else{l=new Map,ma.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var S=d[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),s=S)}s&&l.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),m=l.get(S)||s,m===s&&l.set(null,d),l.set(S,d),this.count++,s=pa.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var $o={$$typeof:O,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function E0(e,n,l,s,d,m,S,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.hiddenUpdates=es(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Xp(e,n,l,s,d,m,S,_,A,D,q,P){return e=new E0(e,n,l,S,A,D,q,P,_),n=1,m===!0&&(n|=24),m=_t(3,null,null,n),e.current=m,m.stateNode=e,n=Vs(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:n},ks(m),e}function Qp(e){return e?(e=Ni,e):Ni}function Zp(e,n,l,s,d,m){d=Qp(d),s.context===null?s.context=d:s.pendingContext=d,s=Nn(n),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=Mn(e,s,n),l!==null&&(gt(l,e,n),Io(l,e,n))}function $p(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function au(e,n){$p(e,n),(e=e.alternate)&&$p(e,n)}function Wp(e){if(e.tag===13||e.tag===31){var n=Wn(e,67108864);n!==null&&gt(n,e,67108864),au(e,67108864)}}function jp(e){if(e.tag===13||e.tag===31){var n=Mt();n=ts(n);var l=Wn(e,n);l!==null&&gt(l,e,n),au(e,n)}}var ga=!0;function _0(e,n,l,s){var d=H.T;H.T=null;var m=Y.p;try{Y.p=2,su(e,n,l,s)}finally{Y.p=m,H.T=d}}function C0(e,n,l,s){var d=H.T;H.T=null;var m=Y.p;try{Y.p=8,su(e,n,l,s)}finally{Y.p=m,H.T=d}}function su(e,n,l,s){if(ga){var d=ru(s);if(d===null)Kr(e,n,s,ya,l),tm(e,s);else if(R0(d,e,n,l,s))s.stopPropagation();else if(tm(e,s),n&4&&-1<A0.indexOf(e)){for(;d!==null;){var m=hi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Kn(m.pendingLanes);if(S!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var A=1<<31-Tt(S);_.entanglements[1]|=A,S&=~A}Qt(m),(Ae&6)===0&&(jl=vt()+500,Jo(0))}}break;case 31:case 13:_=Wn(m,2),_!==null&&gt(_,m,2),ta(),au(m,2)}if(m=ru(s),m===null&&Kr(e,n,s,ya,l),m===d)break;d=m}d!==null&&s.stopPropagation()}else Kr(e,n,s,null,l)}}function ru(e){return e=cs(e),uu(e)}var ya=null;function uu(e){if(ya=null,e=mi(e),e!==null){var n=f(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ya=e,null}function em(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uy()){case sc:return 2;case rc:return 8;case al:case cy:return 32;case uc:return 268435456;default:return 32}default:return 32}}var cu=!1,Vn=null,Pn=null,zn=null,Wo=new Map,jo=new Map,Bn=[],A0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tm(e,n){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Wo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(n.pointerId)}}function el(e,n,l,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=hi(n),n!==null&&Wp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function R0(e,n,l,s,d){switch(n){case"focusin":return Vn=el(Vn,e,n,l,s,d),!0;case"dragenter":return Pn=el(Pn,e,n,l,s,d),!0;case"mouseover":return zn=el(zn,e,n,l,s,d),!0;case"pointerover":var m=d.pointerId;return Wo.set(m,el(Wo.get(m)||null,e,n,l,s,d)),!0;case"gotpointercapture":return m=d.pointerId,jo.set(m,el(jo.get(m)||null,e,n,l,s,d)),!0}return!1}function nm(e){var n=mi(e.target);if(n!==null){var l=f(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,hc(e.priority,function(){jp(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,hc(e.priority,function(){jp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function va(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=ru(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);us=s,l.target.dispatchEvent(s),us=null}else return n=hi(l),n!==null&&Wp(n),e.blockedOn=l,!1;n.shift()}return!0}function im(e,n,l){va(e)&&l.delete(n)}function N0(){cu=!1,Vn!==null&&va(Vn)&&(Vn=null),Pn!==null&&va(Pn)&&(Pn=null),zn!==null&&va(zn)&&(zn=null),Wo.forEach(im),jo.forEach(im)}function Sa(e,n){e.blockedOn===n&&(e.blockedOn=null,cu||(cu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,N0)))}var Ta=null;function om(e){Ta!==e&&(Ta=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ta===e&&(Ta=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(uu(s||l)===null)continue;break}var m=hi(l);m!==null&&(e.splice(n,3),n-=3,rr(m,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function Zi(e){function n(A){return Sa(A,e)}Vn!==null&&Sa(Vn,e),Pn!==null&&Sa(Pn,e),zn!==null&&Sa(zn,e),Wo.forEach(n),jo.forEach(n);for(var l=0;l<Bn.length;l++){var s=Bn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Bn.length&&(l=Bn[0],l.blockedOn===null);)nm(l),l.blockedOn===null&&Bn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],m=l[s+1],S=d[ct]||null;if(typeof m=="function")S||om(l);else if(S){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,S=m[ct]||null)_=S.formAction;else if(uu(d)!==null)continue}else _=S.action;typeof _=="function"?l[s+1]=_:(l.splice(s,3),s-=3),om(l)}}}function lm(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function fu(e){this._internalRoot=e}Ea.prototype.render=fu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=Mt();Zp(l,s,e,n,null,null)},Ea.prototype.unmount=fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Zp(e.current,2,null,e,null,null),ta(),n[pi]=null}};function Ea(e){this._internalRoot=e}Ea.prototype.unstable_scheduleHydration=function(e){if(e){var n=mc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Bn.length&&n!==0&&n<Bn[l].priority;l++);Bn.splice(l,0,e),l===0&&nm(e)}};var am=t.version;if(am!=="19.2.1")throw Error(a(527,am,"19.2.1"));Y.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var M0={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{ro=_a.inject(M0),St=_a}catch{}}return nl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",d=pd,m=md,S=hd;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Xp(e,1,!1,null,null,l,s,null,d,m,S,lm),e[pi]=n.current,Yr(e),new fu(n)},nl.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,d="",m=pd,S=md,_=hd,A=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),n=Xp(e,1,!0,n,l??null,s,d,A,m,S,_,lm),n.context=Qp(null),l=n.current,s=Mt(),s=ts(s),d=Nn(s),d.callback=null,Mn(l,d,s),l=s,n.current.lanes=l,co(n,l),Qt(n),e[pi]=n.current,Yr(e),new Ea(n)},nl.version="19.2.1",nl}var gm;function V0(){if(gm)return mu.exports;gm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),mu.exports=q0(),mu.exports}var P0=V0();const z0=tg(P0);var B0={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let k0,O0;function F0(){return{geminiUrl:k0,vertexUrl:O0}}function J0(i,t,o,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=F0();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gn{}function Q(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(f+1),o[h])}else for(const h of y)c(h,t.slice(f+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function Y0(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}Cu(i,r,f,0,p)}}function Cu(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Cu(y,t,o,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const T=[];for(const E of o.slice(a))E==="*"?T.push(h):T.push(E);c(p,T,v)}for(const h of g)delete p[h]}}else{const p=i;f in p&&Cu(p[f],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K0(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function X0(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],Z0(p)),t}function Q0(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],$0(p)),t}function Z0(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>W0(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function $0(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>j0(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function W0(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],lS(o)),t}function j0(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],aS(o)),t}function eS(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function tS(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function nS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],iS(p)),t}function iS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function ng(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],oS(p)),t}function oS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function lS(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],zu(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function aS(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],zu(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ym;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ym||(ym={}));var vm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(vm||(vm={}));var Sm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Sm||(Sm={}));var On;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(On||(On={}));var Tm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Tm||(Tm={}));var Em;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Em||(Em={}));var _m;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(_m||(_m={}));var Cm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Cm||(Cm={}));var Am;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Am||(Am={}));var Rm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(Rm||(Rm={}));var Nm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Nm||(Nm={}));var Mm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Mm||(Mm={}));var xm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(xm||(xm={}));var Im;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Im||(Im={}));var wm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(wm||(wm={}));var Dm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Dm||(Dm={}));var bm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(bm||(bm={}));var Um;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Um||(Um={}));var Lm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Lm||(Lm={}));var La;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(La||(La={}));var Gm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Gm||(Gm={}));var Hm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Hm||(Hm={}));var qm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(qm||(qm={}));var Au;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Au||(Au={}));var Vm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Vm||(Vm={}));var Pm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Pm||(Pm={}));var zm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(zm||(zm={}));var Bm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Bm||(Bm={}));var km;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(km||(km={}));var Om;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Om||(Om={}));var Fm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Fm||(Fm={}));var Jm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Jm||(Jm={}));var Ym;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Ym||(Ym={}));var Km;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Km||(Km={}));var Xm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Xm||(Xm={}));var Qm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Qm||(Qm={}));var Zm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Zm||(Zm={}));var $m;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($m||($m={}));var Wm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Wm||(Wm={}));var jm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(jm||(jm={}));var eh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(eh||(eh={}));var th;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(th||(th={}));var nh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(nh||(nh={}));var ih;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(ih||(ih={}));var oh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(oh||(oh={}));var lh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(lh||(lh={}));var ah;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ah||(ah={}));var sh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(sh||(sh={}));var rh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(rh||(rh={}));var uh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(uh||(uh={}));var ch;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ch||(ch={}));var fh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(fh||(fh={}));var dh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(dh||(dh={}));var ph;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ph||(ph={}));var mh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(mh||(mh={}));var Wi;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Wi||(Wi={}));class Ru{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class il{get text(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const T=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,I]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(I!==null||I!==void 0)&&T.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const T of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(T))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,a,r,f,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,a,r,f,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class hh{}class gh{}class sS{}class rS{}class uS{}class cS{}class yh{}class vh{}class Sh{}class fS{}class Ga{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ga;let r;const f=t;return o?r=Q0(f):r=X0(f),Object.assign(a,r),a}}class Th{}class Eh{}class _h{}class Ch{}class dS{}class pS{}class mS{}class Bu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Bu,f=nS(t);return Object.assign(a,f),a}}class hS{}class gS{}class yS{}class Ah{}class vS{get text(){var t,o,a;let r="",f=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,o,a;let r="";const f=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class SS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ku{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new ku,f=ng(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ce(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function ig(i,t){const o=Ce(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function og(i){return Array.isArray(i)?i.map(t=>Ha(t)):[Ha(i)]}function Ha(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function lg(i){const t=Ha(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ag(i){const t=Ha(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Rh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function sg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Rh(t)):[Rh(i)]}function Nu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Nh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Mh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function lt(i){if(i==null)throw new Error("ContentUnion is required");return Nu(i)?i:{role:"user",parts:sg(i)}}function Ou(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=lt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=lt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>lt(o)):[lt(t)]}function Vt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Nh(i)||Mh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[lt(i)]}const t=[],o=[],a=Nu(i[0]);for(const r of i){const f=Nu(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(Nh(r)||Mh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:sg(o)}),t}function TS(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(On).includes(o[0].toUpperCase())?o[0].toUpperCase():On.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(On).includes(a.toUpperCase())?a.toUpperCase():On.TYPE_UNSPECIFIED})}}function eo(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&TS(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(On).includes(g.toUpperCase())?g.toUpperCase():On.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=eo(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(eo(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=eo(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Fu(i){return eo(i)}function Ju(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Yu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function oo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=eo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=eo(t.response));return i}function lo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function ES(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function yn(i,t){if(typeof t!="string")throw new Error("name must be a string");return ES(i,t,"cachedContents")}function rg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Jn(i){return zu(i)}function _S(i){return i!=null&&typeof i=="object"&&"name"in i}function CS(i){return i!=null&&typeof i=="object"&&"video"in i}function AS(i){return i!=null&&typeof i=="object"&&"uri"in i}function ug(i){var t;let o;if(_S(i)&&(o=i.name),!(AS(i)&&(o=i.uri,o===void 0))&&!(CS(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function cg(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function fg(i){for(const t of["models","tunedModels","publisherModels"])if(RS(i,t))return i[t];return[]}function RS(i,t){return i!==null&&typeof i=="object"&&t in i}function NS(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function MS(i,t={}){const o=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=NS(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function dg(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function xS(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function pg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function ao(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function mg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>uT(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function wS(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function DS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function wa(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],mg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],IS(pg(h))),t}function Mu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],mg(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const T=u(i,["inputConfig"]);T!=null&&c(t,["src"],bS(T));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],wS(pg(E)));const C=u(i,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function bS(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function US(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>rT(i,p))),c(o,["requests","requests"],f)}return o}function LS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function GS(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function HS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ao(i,a)),o}function qS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ao(i,a)),o}function VS(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],PS(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function PS(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function hg(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>gT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function zS(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function BS(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],DS(xS(r))),o}function xh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],US(i,dg(i,r)));const f=u(t,["config"]);return f!=null&&zS(f,o),o}function kS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Ce(i,a));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],LS(dg(i,r)));const f=u(t,["config"]);return f!=null&&BS(f,o),o}function OS(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function FS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],$S(i,r));const f=u(t,["config"]);return f!=null&&OS(f,o),o}function JS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ao(i,a)),o}function YS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ao(i,a)),o}function KS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function XS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function QS(i,t){const o={},a=u(t,["contents"]);if(a!=null){let f=Ou(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],ZS(r,o)),Y0(o,{"requests[].*":"requests[].request.*"})),o}function ZS(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function $S(i,t){const o={},a=u(t,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],QS(i,r)),o}function WS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function jS(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function eT(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function tT(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],hg(lt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const B=u(t,["responseSchema"]);B!=null&&c(a,["responseSchema"],Fu(B));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(a,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let ve=O;Array.isArray(ve)&&(ve=ve.map(He=>yT(He))),c(o,["safetySettings"],ve)}const K=u(t,["tools"]);if(o!==void 0&&K!=null){let ve=lo(K);Array.isArray(ve)&&(ve=ve.map(He=>ST(oo(He)))),c(o,["tools"],ve)}const j=u(t,["toolConfig"]);if(o!==void 0&&j!=null&&c(o,["toolConfig"],vT(j)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(t,["cachedContent"]);o!==void 0&&te!=null&&c(o,["cachedContent"],yn(i,te));const J=u(t,["responseModalities"]);J!=null&&c(a,["responseModalities"],J);const fe=u(t,["mediaResolution"]);fe!=null&&c(a,["mediaResolution"],fe);const W=u(t,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],Ju(W)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=u(t,["thinkingConfig"]);ue!=null&&c(a,["thinkingConfig"],ue);const ye=u(t,["imageConfig"]);ye!=null&&c(a,["imageConfig"],sT(ye));const Ne=u(t,["enableEnhancedCivicAnswers"]);return Ne!=null&&c(a,["enableEnhancedCivicAnswers"],Ne),a}function nT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>VS(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function iT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ao(i,a)),o}function oT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ao(i,a)),o}function lT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function aT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function sT(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function rT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["request","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let g=Vt(r);Array.isArray(g)&&(g=g.map(y=>hg(y))),c(o,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],tT(i,p,u(o,["request"],{}))),o}function uT(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],nT(o));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function cT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function fT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),o}function dT(i){const t={},o=u(i,["config"]);return o!=null&&cT(o,t),t}function pT(i){const t={},o=u(i,["config"]);return o!=null&&fT(o,t),t}function mT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>wa(p))),c(t,["batchJobs"],f)}return t}function hT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Mu(p))),c(t,["batchJobs"],f)}return t}function gT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],WS(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],jS(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],GS(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function yT(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function vT(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],eT(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function ST(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],lT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],aT(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(hn||(hn={}));class di{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TT extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(hn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=xh(this.apiClient,t),a=o._url,r=Q("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=E,T.request=C}h.push(T)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=kS(this.apiClient,t);return g=Q("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const h=xh(this.apiClient,t);return g=Q("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>wa(v))}}async createEmbeddingsInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=FS(this.apiClient,t);return f=Q("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>wa(y))}}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=oT(this.apiClient,t);return g=Q("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const h=iT(this.apiClient,t);return g=Q("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>wa(v))}}async cancel(t){var o,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=qS(this.apiClient,t);p=Q("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=HS(this.apiClient,t);p=Q("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=pT(t);return g=Q("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=hT(v),E=new Ah;return Object.assign(E,T),E})}else{const h=dT(t);return g=Q("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=mT(v),E=new Ah;return Object.assign(E,T),E})}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=YS(this.apiClient,t);return g=Q("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>XS(v))}else{const h=JS(this.apiClient,t);return g=Q("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>KS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ET(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Ih(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>FT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function _T(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=Vt(p);Array.isArray(v)&&(v=v.map(T=>Ih(T))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Ih(lt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>YT(T))),c(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],JT(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function CT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let T=Vt(p);Array.isArray(T)&&(T=T.map(E=>E)),c(t,["contents"],T)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],lt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>KT(E))),c(t,["tools"],T)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function AT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],ig(i,a));const r=u(t,["config"]);return r!=null&&_T(r,o),o}function RT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],ig(i,a));const r=u(t,["config"]);return r!=null&&CT(r,o),o}function NT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],yn(i,a)),o}function MT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],yn(i,a)),o}function xT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function IT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function wT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function DT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function bT(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function UT(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function LT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],yn(i,a)),o}function GT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],yn(i,a)),o}function HT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function qT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function VT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function PT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function zT(i){const t={},o=u(i,["config"]);return o!=null&&VT(o,t),t}function BT(i){const t={},o=u(i,["config"]);return o!=null&&PT(o,t),t}function kT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function OT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function FT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],wT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],DT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],ET(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function JT(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],bT(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function YT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],HT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],qT(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function KT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>UT(E))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function XT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function QT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function ZT(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],yn(i,a));const r=u(t,["config"]);return r!=null&&XT(r,o),o}function $T(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],yn(i,a));const r=u(t,["config"]);return r!=null&&QT(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WT extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(hn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=RT(this.apiClient,t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=AT(this.apiClient,t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=GT(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=LT(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=MT(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=IT(v),E=new _h;return Object.assign(E,T),E})}else{const h=NT(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=xT(v),E=new _h;return Object.assign(E,T),E})}}async update(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=$T(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=ZT(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=BT(t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=OT(v),E=new Ch;return Object.assign(E,T),E})}else{const h=zT(t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=kT(v),E=new Ch;return Object.assign(E,T),E})}}}function qa(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function wh(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ae(i){return this instanceof ae?(this.v=i,this):new ae(i)}function Ot(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(I){return Promise.resolve(I).then(C,T)}}function g(C,I){a[C]&&(r[C]=function(L){return new Promise(function(U,B){f.push([C,L,U,B])>1||y(C,L)})},I&&(r[C]=I(r[C])))}function y(C,I){try{h(a[C](I))}catch(L){E(f[0][3],L)}}function h(C){C.value instanceof ae?Promise.resolve(C.value.v).then(v,T):E(f[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function E(C,I){C(I),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Ft(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof wh=="function"?wh(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:gg(o)}function gg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function eE(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Dh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),f&&!gg(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class tE{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new nE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class nE{constructor(t,o,a,r={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),eE(f)}async sendMessage(t){var o;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,h=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(T))!==null&&g!==void 0?g:[]);const C=h?[h]:[];this.recordHistory(a,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const o=t?Dh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Ot(this,arguments,function*(){var r,f,p,g,y,h;const v=[];try{for(var T=!0,E=Ft(t),C;C=yield ae(E.next()),r=C.done,!r;T=!0){g=C.value,T=!1;const I=g;if(jT(I)){const L=(h=(y=I.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;L!==void 0&&v.push(L)}yield yield ae(I)}}catch(I){f={error:I}}finally{try{!T&&!r&&(p=E.return)&&(yield ae(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Dh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ba extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ba.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iE(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function oE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function lE(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],ug(o)),t}function aE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function sE(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],ug(o)),t}function rE(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function uE(i){const t={},o=u(i,["config"]);return o!=null&&rE(o,t),t}function cE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fE extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(hn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=uE(t);return f=Q("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=cE(y),v=new hS;return Object.assign(v,h),v})}}async createInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=iE(t);return f=Q("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=oE(y),v=new gS;return Object.assign(v,h),v})}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sE(t);return f=Q("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lE(t);return f=Q("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=aE(y),v=new yS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Da(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function dE(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>xE(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function pE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function mE(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function gE(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const I=u(i,["responseModalities"]);I!=null&&c(t,["responseModalities"],I);const L=u(i,["responseSchema"]);L!=null&&c(t,["responseSchema"],L);const U=u(i,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const B=u(i,["seed"]);B!=null&&c(t,["seed"],B);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],yg(X));const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const K=u(i,["temperature"]);K!=null&&c(t,["temperature"],K);const j=u(i,["thinkingConfig"]);j!=null&&c(t,["thinkingConfig"],j);const te=u(i,["topK"]);te!=null&&c(t,["topK"],te);const J=u(i,["topP"]);if(J!=null&&c(t,["topP"],J),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function yE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function vE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function SE(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Yu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],dE(lt(I)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let te=lo(L);Array.isArray(te)&&(te=te.map(J=>wE(oo(J)))),c(t,["setup","tools"],te)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],IE(U));const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&c(t,["setup","inputAudioTranscription"],B);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const K=u(i,["contextWindowCompression"]);t!==void 0&&K!=null&&c(t,["setup","contextWindowCompression"],K);const j=u(i,["proactivity"]);if(t!==void 0&&j!=null&&c(t,["setup","proactivity"],j),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function TE(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],gE(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],yg(Yu(T)));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],lt(I));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let J=lo(L);Array.isArray(J)&&(J=J.map(fe=>DE(oo(fe)))),c(t,["setup","tools"],J)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],U);const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&c(t,["setup","inputAudioTranscription"],B);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const K=u(i,["contextWindowCompression"]);t!==void 0&&K!=null&&c(t,["setup","contextWindowCompression"],K);const j=u(i,["proactivity"]);t!==void 0&&j!=null&&c(t,["setup","proactivity"],j);const te=u(i,["explicitVadSignal"]);return t!==void 0&&te!=null&&c(t,["setup","explicitVadSignal"],te),o}function EE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ce(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],SE(r,o)),o}function _E(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ce(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],TE(r,o)),o}function CE(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function AE(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function RE(i){const t={},o=u(i,["media"]);if(o!=null){let h=og(o);Array.isArray(h)&&(h=h.map(v=>Da(v))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Da(ag(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Da(lg(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function NE(i){const t={},o=u(i,["media"]);if(o!=null){let h=og(o);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],ag(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],lg(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function ME(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],bE(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function xE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],pE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],mE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Da(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function IE(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function yg(i){const t={},o=u(i,["voiceConfig"]);o!=null&&c(t,["voiceConfig"],o);const a=u(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function wE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],yE(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],vE(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function DE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>hE(E))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function bE(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(I=>I)),c(t,["promptTokensDetails"],C)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(I=>I)),c(t,["cacheTokensDetails"],C)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(I=>I)),c(t,["responseTokensDetails"],C)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(I=>I)),c(t,["toolUsePromptTokensDetails"],C)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UE(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function LE(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],GE(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function GE(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function HE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let f=Vt(r);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["contents"],f)}return o}function qE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function VE(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],PE(a)),t}function PE(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function ka(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>X_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function zE(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function BE(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function kE(i,t){const o={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],lt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>_g(g))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],U_(f)),o}function OE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>ka(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&BE(f),o}function FE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&kE(f,o),o}function JE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function YE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function KE(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ce(i,a)),o}function XE(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ce(i,a)),o}function QE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function ZE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function $E(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","mimeType"],I);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","compressionQuality"],L);const U=u(i,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const B=u(i,["labels"]);t!==void 0&&B!=null&&c(t,["labels"],B);const X=u(i,["editMode"]);t!==void 0&&X!=null&&c(t,["parameters","editMode"],X);const O=u(i,["baseSteps"]);return t!==void 0&&O!=null&&c(t,["parameters","editConfig","baseSteps"],O),o}function WE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>eC(y))),c(o,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&$E(p,o),o}function jE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Oa(f))),c(t,["generatedImages"],r)}return t}function e_(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function t_(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function n_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let g=Ou(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&e_(f,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],Ce(i,p)),o}function i_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let p=Ou(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&t_(f,o),o}function o_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function l_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>VE(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function a_(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function s_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function r_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function u_(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function c_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function f_(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],ka(lt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const B=u(t,["responseSchema"]);B!=null&&c(a,["responseSchema"],Fu(B));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(a,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let ve=O;Array.isArray(ve)&&(ve=ve.map(He=>tC(He))),c(o,["safetySettings"],ve)}const K=u(t,["tools"]);if(o!==void 0&&K!=null){let ve=lo(K);Array.isArray(ve)&&(ve=ve.map(He=>rC(oo(He)))),c(o,["tools"],ve)}const j=u(t,["toolConfig"]);if(o!==void 0&&j!=null&&c(o,["toolConfig"],sC(j)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(t,["cachedContent"]);o!==void 0&&te!=null&&c(o,["cachedContent"],yn(i,te));const J=u(t,["responseModalities"]);J!=null&&c(a,["responseModalities"],J);const fe=u(t,["mediaResolution"]);fe!=null&&c(a,["mediaResolution"],fe);const W=u(t,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],Ju(W)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=u(t,["thinkingConfig"]);ue!=null&&c(a,["thinkingConfig"],ue);const ye=u(t,["imageConfig"]);ye!=null&&c(a,["imageConfig"],V_(ye));const Ne=u(t,["enableEnhancedCivicAnswers"]);return Ne!=null&&c(a,["enableEnhancedCivicAnswers"],Ne),a}function d_(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],lt(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const B=u(t,["responseSchema"]);B!=null&&c(a,["responseSchema"],Fu(B));const X=u(t,["responseJsonSchema"]);X!=null&&c(a,["responseJsonSchema"],X);const O=u(t,["routingConfig"]);O!=null&&c(a,["routingConfig"],O);const K=u(t,["modelSelectionConfig"]);K!=null&&c(a,["modelConfig"],K);const j=u(t,["safetySettings"]);if(o!==void 0&&j!=null){let H=j;Array.isArray(H)&&(H=H.map(Y=>Y)),c(o,["safetySettings"],H)}const te=u(t,["tools"]);if(o!==void 0&&te!=null){let H=lo(te);Array.isArray(H)&&(H=H.map(Y=>_g(oo(Y)))),c(o,["tools"],H)}const J=u(t,["toolConfig"]);o!==void 0&&J!=null&&c(o,["toolConfig"],J);const fe=u(t,["labels"]);o!==void 0&&fe!=null&&c(o,["labels"],fe);const W=u(t,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],yn(i,W));const ue=u(t,["responseModalities"]);ue!=null&&c(a,["responseModalities"],ue);const ye=u(t,["mediaResolution"]);ye!=null&&c(a,["mediaResolution"],ye);const Ne=u(t,["speechConfig"]);Ne!=null&&c(a,["speechConfig"],Eg(Ju(Ne)));const ve=u(t,["audioTimestamp"]);ve!=null&&c(a,["audioTimestamp"],ve);const He=u(t,["thinkingConfig"]);He!=null&&c(a,["thinkingConfig"],He);const it=u(t,["imageConfig"]);if(it!=null&&c(a,["imageConfig"],P_(it)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function bh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>ka(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],f_(i,f,o)),o}function Uh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],d_(i,f,o)),o}function Lh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>LE(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Gh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function p_(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function m_(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","mimeType"],I);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","compressionQuality"],L);const U=u(i,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const B=u(i,["labels"]);t!==void 0&&B!=null&&c(t,["labels"],B);const X=u(i,["imageSize"]);t!==void 0&&X!=null&&c(t,["parameters","sampleImageSize"],X);const O=u(i,["enhancePrompt"]);return t!==void 0&&O!=null&&c(t,["parameters","enhancePrompt"],O),o}function h_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&p_(f,o),o}function g_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&m_(f,o),o}function y_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>I_(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Sg(r)),t}function v_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Oa(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Tg(r)),t}function S_(i,t){const o={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Fa(v));const T=u(i,["referenceImages"]);if(t!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(C=>EC(C))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function T_(i,t){const o={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const I=u(i,["generateAudio"]);t!==void 0&&I!=null&&c(t,["parameters","generateAudio"],I);const L=u(i,["lastFrame"]);t!==void 0&&L!=null&&c(t,["instances[0]","lastFrame"],Jt(L));const U=u(i,["referenceImages"]);if(t!==void 0&&U!=null){let O=U;Array.isArray(O)&&(O=O.map(K=>_C(K))),c(t,["instances[0]","referenceImages"],O)}const B=u(i,["mask"]);t!==void 0&&B!=null&&c(t,["instances[0]","mask"],TC(B));const X=u(i,["compressionQuality"]);return t!==void 0&&X!=null&&c(t,["parameters","compressionQuality"],X),o}function E_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],R_(p)),t}function __(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],N_(p)),t}function C_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Fa(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],Cg(p));const g=u(t,["source"]);g!=null&&M_(g,o);const y=u(t,["config"]);return y!=null&&S_(y,o),o}function A_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Jt(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],Ag(p));const g=u(t,["source"]);g!=null&&x_(g,o);const y=u(t,["config"]);return y!=null&&T_(y,o),o}function R_(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>D_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function N_(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>b_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function M_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Fa(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Cg(f)),o}function x_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Jt(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Ag(f)),o}function I_(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],z_(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],Sg(r)),t}function Oa(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],vg(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],Tg(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function w_(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],vg(o));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function D_(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],vC(o)),t}function b_(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],SC(o)),t}function U_(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const I=u(i,["responseModalities"]);I!=null&&c(t,["responseModalities"],I);const L=u(i,["responseSchema"]);L!=null&&c(t,["responseSchema"],L);const U=u(i,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const B=u(i,["seed"]);B!=null&&c(t,["seed"],B);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],Eg(X));const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const K=u(i,["temperature"]);K!=null&&c(t,["temperature"],K);const j=u(i,["thinkingConfig"]);j!=null&&c(t,["thinkingConfig"],j);const te=u(i,["topK"]);te!=null&&c(t,["topK"],te);const J=u(i,["topP"]);if(J!=null&&c(t,["topP"],J),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function L_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ce(i,a)),o}function G_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ce(i,a)),o}function H_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function q_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function V_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function P_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const f=u(i,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function z_(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Jn(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function vg(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Fa(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Jn(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Jt(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function B_(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],cg(i,g)),a}function k_(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],cg(i,g)),a}function O_(i,t){const o={},a=u(t,["config"]);return a!=null&&B_(i,a,o),o}function F_(i,t){const o={},a=u(t,["config"]);return a!=null&&k_(i,a,o),o}function J_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=fg(r);Array.isArray(f)&&(f=f.map(p=>xu(p))),c(t,["models"],f)}return t}function Y_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=fg(r);Array.isArray(f)&&(f=f.map(p=>Iu(p))),c(t,["models"],f)}return t}function K_(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function xu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],uC(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const T=u(i,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const C=u(i,["topK"]);C!=null&&c(t,["topK"],C);const I=u(i,["thinking"]);return I!=null&&c(t,["thinking"],I),t}function Iu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>a_(E))),c(t,["endpoints"],T)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],cC(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>E)),c(t,["checkpoints"],T)}return t}function X_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],s_(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],r_(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],UE(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function Q_(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],Jt(o)),t}function Z_(i,t){const o={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const T=u(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const C=u(i,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),o}function $_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["source"]);r!=null&&j_(r,o);const f=u(t,["config"]);return f!=null&&Z_(f,o),o}function W_(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>Oa(r))),c(t,["generatedImages"],a)}return t}function j_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Jt(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Q_(g))),c(t,["instances[0]","productImages"],p)}return o}function eC(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],Jt(o));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],K_(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],zE(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Sg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Tg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function tC(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function nC(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],Jt(o)),t}function iC(i,t){const o={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function oC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["source"]);r!=null&&aC(r,o);const f=u(t,["config"]);return f!=null&&iC(f,o),o}function lC(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>w_(r))),c(t,["generatedMasks"],a)}return t}function aC(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Jt(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],nC(f)),o}function Eg(i){const t={},o=u(i,["voiceConfig"]);o!=null&&c(t,["voiceConfig"],o);const a=u(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function sC(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],u_(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function rC(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],H_(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],q_(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function _g(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>c_(E))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function uC(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function cC(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function fC(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function dC(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function pC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","name"],Ce(i,a));const r=u(t,["config"]);return r!=null&&fC(r,o),o}function mC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["config"]);return r!=null&&dC(r,o),o}function hC(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const C=u(i,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),o}function gC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Jt(r));const f=u(t,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&hC(p,o),o}function yC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Oa(f))),c(t,["generatedImages"],r)}return t}function vC(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Jn(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function SC(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function TC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],Jt(o));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function EC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Fa(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function _C(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Jt(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Cg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function Ag(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CC(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function AC(i){const t={},o=u(i,["config"]);return o!=null&&CC(o,t),t}function RC(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function NC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&RC(a,t),t}function MC(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function xC(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function IC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],DC(p)),t}function wC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&xC(r,t),t}function DC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function bC(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function UC(i){const t={},o=u(i,["config"]);return o!=null&&bC(o,t),t}function LC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function Rg(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function GC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&Rg(a,t),t}function HC(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qC="Content-Type",VC="X-Server-Timeout",PC="User-Agent",wu="x-goog-api-client",zC="1.33.0",BC=`google-genai-sdk/${zC}`,kC="v1beta1",OC="v1beta";class FC{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:kC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:OC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(o))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const f=new AbortController,p=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>f.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return o&&o.extraBody!==null&&JC(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Hh(r),new Ru(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Hh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Ot(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield ae(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=f.decode(v,{stream:!0});try{const I=JSON.parse(T);if("error"in I){const L=JSON.parse(JSON.stringify(I.error)),U=L.status,B=L.code,X=`got status: ${U}. ${JSON.stringify(I)}`;if(B>=400&&B<600)throw new Ba({message:X,status:B})}}catch(I){if(I.name==="ApiError")throw I}p+=T;let E=-1,C=0;for(;;){E=-1,C=0;for(const U of y){const B=p.indexOf(U);B!==-1&&(E===-1||B<E)&&(E=B,C=U.length)}if(E===-1)break;const I=p.substring(0,E);p=p.substring(E+C);const L=I.trim();if(L.startsWith(g)){const U=L.substring(g.length).trim();try{const B=new Response(U,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ae(new Ru(B))}catch(B){throw new Error(`exception parsing stream chunk ${U}. ${B}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=BC+" "+this.clientOptions.userAgentExtra;return t[PC]=o,t[wu]=o,t[qC]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(VC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=Q("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,o==null?void 0:o.httpOptions);return f.upload(t,T,this)}async uploadFileToFileSearchStore(t,o,a){var r;const f=this.clientOptions.uploader,p=await f.stat(o),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),T={};a!=null&&Rg(a,T);const E=await this.fetchUploadUrl(h,g,y,v,T,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Hh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new Ba({message:r,status:o}):new Error(r)}}function JC(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YC="mcp_used/unknown";let KC=!1;function Ng(i){for(const t of i)if(XC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return KC}function Mg(i){var t;const o=(t=i[wu])!==null&&t!==void 0?t:"";i[wu]=(o+` ${YC}`).trimStart()}function XC(i){return i!==null&&typeof i=="object"&&i instanceof Ku}function QC(i){return Ot(this,arguments,function*(o,a=100){let r,f=0;for(;f<a;){const p=yield ae(o.listTools({cursor:r}));for(const g of p.tools)yield yield ae(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class Ku{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Ku(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Ft(QC(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const T=r;p.push(T);const E=T.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=v}}catch(T){o={error:T}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),MS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ZC(i,t,o){const a=new SS;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class $C{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=eA(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(O=>{h=O}),T=t.callbacks,E=function(){h({})},C=this.apiClient,I={onopen:E,onmessage:O=>{ZC(C,T.onmessage,O)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(O){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(O){}},L=this.webSocketFactory.create(y,jC(p),I);L.connect(),await v;const X={setup:{model:Ce(this.apiClient,t.model)}};return L.send(JSON.stringify(X)),new WC(L,this.apiClient)}}class WC{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=AE(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=CE(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Wi.PLAY)}pause(){this.sendPlaybackControl(Wi.PAUSE)}stop(){this.sendPlaybackControl(Wi.STOP)}resetContext(){this.sendPlaybackControl(Wi.RESET_CONTEXT)}close(){this.conn.close()}}function jC(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function eA(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function nA(i,t,o){const a=new vS;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=ME(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class iA{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new $C(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&Ng(t.config.tools)&&Mg(T);const E=sA(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const W=this.apiClient.getApiKey();let ue="BidiGenerateContent",ye="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",ye="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ue}?${ye}=${W}`}let C=()=>{};const I=new Promise(W=>{C=W}),L=t.callbacks,U=function(){var W;(W=L==null?void 0:L.onopen)===null||W===void 0||W.call(L),C({})},B=this.apiClient,X={onopen:U,onmessage:W=>{nA(B,L.onmessage,W)},onerror:(o=L==null?void 0:L.onerror)!==null&&o!==void 0?o:function(W){},onclose:(a=L==null?void 0:L.onclose)!==null&&a!==void 0?a:function(W){}},O=this.webSocketFactory.create(v,aA(E),X);O.connect(),await I;let K=Ce(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const W=this.apiClient.getProject(),ue=this.apiClient.getLocation();K=`projects/${W}/locations/${ue}/`+K}let j={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[La.AUDIO]}:t.config.responseModalities=[La.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],J=[];for(const W of te)if(this.isCallableTool(W)){const ue=W;J.push(await ue.tool())}else J.push(W);J.length>0&&(t.config.tools=J);const fe={model:K,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?j=_E(this.apiClient,fe):j=EE(this.apiClient,fe),delete j.config,O.send(JSON.stringify(j)),new lA(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const oA={turnComplete:!0};class lA{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Vt(o.turns),t.isVertexAI()||(a=a.map(r=>ka(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(tA)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},oA),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:NE(t)}:o={realtimeInput:RE(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function aA(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function sA(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qh=10;function Vh(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(to(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function to(i){return"callTool"in i&&typeof i.callTool=="function"}function rA(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>to(r)))!==null&&a!==void 0?a:!1}function Ph(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(to(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function zh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uA extends gn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!rA(o)||Vh(o.config))return await this.generateContentInternal(y);const h=Ph(o);if(h.length>0){const L=h.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let v,T;const E=Vt(y.contents),C=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:qh;let I=0;for(;I<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const L=v.candidates[0].content,U=[];for(const B of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(to(B)){const O=await B.callTool(v.functionCalls);U.push(...O)}I++,T={role:"user",parts:U},y.contents=Vt(y.contents),y.contents.push(L),y.contents.push(T),zh(y.config)&&(E.push(L),E.push(T))}return zh(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(o),Vh(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const y=Ph(o);if(y.length>0){const T=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new di(hn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,f,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>to(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Ng(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Mg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,a,r;const f=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(to(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(t){var o,a,r;const f=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:qh;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,T){return Ot(this,arguments,function*(){for(var E,C,I,L,U,B;g<f;){p&&(g++,p=!1);const j=yield ae(h.processParamsMaybeAddMcpUsage(T)),te=yield ae(h.generateContentStreamInternal(j)),J=[],fe=[];try{for(var X=!0,O=(C=void 0,Ft(te)),K;K=yield ae(O.next()),E=K.done,!E;X=!0){L=K.value,X=!1;const W=L;if(yield yield ae(W),W.candidates&&(!((U=W.candidates[0])===null||U===void 0)&&U.content)){fe.push(W.candidates[0].content);for(const ue of(B=W.candidates[0].content.parts)!==null&&B!==void 0?B:[])if(g<f&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ue.functionCall.name)){const ye=yield ae(v.get(ue.functionCall.name).callTool([ue.functionCall]));J.push(...ye)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(W){C={error:W}}finally{try{!X&&!E&&(I=O.return)&&(yield ae(I.call(O)))}finally{if(C)throw C.error}}if(J.length>0){p=!0;const W=new il;W.candidates=[{content:{role:"user",parts:J}}],yield yield ae(W);const ue=[];ue.push(...fe),ue.push({role:"user",parts:J});const ye=Vt(T.contents).concat(ue);T.contents=ye}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Uh(this.apiClient,t);return g=Q("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Gh(v),E=new il;return Object.assign(E,T),E})}else{const h=bh(this.apiClient,t);return g=Q("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Lh(v),E=new il;return Object.assign(E,T),E})}}async generateContentStreamInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Uh(this.apiClient,t);return g=Q("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(T){return Ot(this,arguments,function*(){var E,C,I,L;try{for(var U=!0,B=Ft(T),X;X=yield ae(B.next()),E=X.done,!E;U=!0){L=X.value,U=!1;const O=L,K=Gh(yield ae(O.json()));K.sdkHttpResponse={headers:O.headers};const j=new il;Object.assign(j,K),yield yield ae(j)}}catch(O){C={error:O}}finally{try{!U&&!E&&(I=B.return)&&(yield ae(I.call(B)))}finally{if(C)throw C.error}}})})}else{const h=bh(this.apiClient,t);return g=Q("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(T){return Ot(this,arguments,function*(){var E,C,I,L;try{for(var U=!0,B=Ft(T),X;X=yield ae(B.next()),E=X.done,!E;U=!0){L=X.value,U=!1;const O=L,K=Lh(yield ae(O.json()));K.sdkHttpResponse={headers:O.headers};const j=new il;Object.assign(j,K),yield yield ae(j)}}catch(O){C={error:O}}finally{try{!U&&!E&&(I=B.return)&&(yield ae(I.call(B)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=i_(this.apiClient,t);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=l_(v),E=new hh;return Object.assign(E,T),E})}else{const h=n_(this.apiClient,t);return g=Q("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=o_(v),E=new hh;return Object.assign(E,T),E})}}async generateImagesInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=g_(this.apiClient,t);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=v_(v),E=new gh;return Object.assign(E,T),E})}else{const h=h_(this.apiClient,t);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=y_(v),E=new gh;return Object.assign(E,T),E})}}async editImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=WE(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=jE(y),v=new sS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=gC(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=yC(y),v=new rS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=$_(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=W_(y),v=new uS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=oC(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=lC(y),v=new cS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=G_(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Iu(v))}else{const h=L_(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=F_(this.apiClient,t);return g=Q("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Y_(v),E=new yh;return Object.assign(E,T),E})}else{const h=O_(this.apiClient,t);return g=Q("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=J_(v),E=new yh;return Object.assign(E,T),E})}}async update(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=mC(this.apiClient,t);return g=Q("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Iu(v))}else{const h=pC(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=XE(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=ZE(v),E=new vh;return Object.assign(E,T),E})}else{const h=KE(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=QE(v),E=new vh;return Object.assign(E,T),E})}}async countTokens(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=FE(this.apiClient,t);return g=Q("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=YE(v),E=new Sh;return Object.assign(E,T),E})}else{const h=OE(this.apiClient,t);return g=Q("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=JE(v),E=new Sh;return Object.assign(E,T),E})}}async computeTokens(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=HE(this.apiClient,t);return f=Q("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=qE(y),v=new fS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=A_(this.apiClient,t);return g=Q("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const T=__(v),E=new Ga;return Object.assign(E,T),E})}else{const h=C_(this.apiClient,t);return g=Q("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const T=E_(v),E=new Ga;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cA extends gn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=tS(t);return g=Q("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=eS(t);return g=Q("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=K0(t);return f=Q("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fA(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function dA(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>EA(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function pA(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],TA(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function mA(i,t){const o={},a=u(t,["config"]);return a!=null&&c(o,["config"],pA(i,a,o)),o}function hA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function gA(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function yA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function vA(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function SA(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Yu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],dA(lt(I)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let te=lo(L);Array.isArray(te)&&(te=te.map(J=>CA(oo(J)))),c(t,["setup","tools"],te)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],_A(U));const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&c(t,["setup","inputAudioTranscription"],B);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const K=u(i,["contextWindowCompression"]);t!==void 0&&K!=null&&c(t,["setup","contextWindowCompression"],K);const j=u(i,["proactivity"]);if(t!==void 0&&j!=null&&c(t,["setup","proactivity"],j),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function TA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ce(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],SA(r,o)),o}function EA(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],hA(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],gA(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],fA(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function _A(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function CA(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],yA(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],vA(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AA(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${o}.${f}`);t.push(...r)}else t.push(o)}return t.join(",")}function RA(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const f=AA(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class NA extends gn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=mA(this.apiClient,t);f=Q("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=RA(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MA(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function xA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&MA(a,t),t}function IA(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function wA(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function DA(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&wA(a,t),t}function bA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UA extends gn{constructor(t){super(),this.apiClient=t,this.list=async o=>new di(hn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IA(t);return f=Q("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=xA(t);r=Q("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DA(t);return f=Q("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=bA(y),v=new dS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LA extends gn{constructor(t,o=new UA(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new di(hn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=AC(t);return f=Q("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=MC(t);return f=Q("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=NC(t);r=Q("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=UC(t);return f=Q("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=LC(y),v=new pS;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GC(t);return f=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=HC(y),v=new mS;return Object.assign(v,h),v})}}async importFile(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wC(t);return f=Q("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=IC(y),v=new Bu;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return xg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const GA=()=>xg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Du(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const bu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pt extends Error{}class ut extends Pt{constructor(t,o,a,r){super(`${ut.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new Ja({message:a,cause:bu(o)});const f=o;return t===400?new wg(t,f,a,r):t===401?new Dg(t,f,a,r):t===403?new bg(t,f,a,r):t===404?new Ug(t,f,a,r):t===409?new Lg(t,f,a,r):t===422?new Gg(t,f,a,r):t===429?new Hg(t,f,a,r):t>=500?new qg(t,f,a,r):new ut(t,f,a,r)}}class Uu extends ut{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ja extends ut{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class Ig extends Ja{constructor({message:t}={}){super({message:t??"Request timed out."})}}class wg extends ut{}class Dg extends ut{}class bg extends ut{}class Ug extends ut{}class Lg extends ut{}class Gg extends ut{}class Hg extends ut{}class qg extends ut{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HA=/^[a-z][a-z0-9+.-]*:/i,qA=i=>HA.test(i);let Lu=i=>(Lu=Array.isArray,Lu(i));const VA=Lu;let PA=VA;const Bh=PA;function zA(i){if(!i)return!0;for(const t in i)return!1;return!0}function BA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const kA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Pt(`${i} must be an integer`);if(t<0)throw new Pt(`${i} must be a positive integer`);return t},OA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $i="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const YA=()=>{var i,t,o,a,r;const f=JA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":Oh(Deno.build.os),"X-Stainless-Arch":kh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":Oh((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":kh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=KA();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function KA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const kh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Oh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ca;const XA=()=>Ca??(Ca=YA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Vg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function ZA(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Vg({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Pg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function $A(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WA=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function vu(i,t,o){return zg(),new File(i,t??"unknown_file",o)}function jA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const eR=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",tR=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Bg(i),nR=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function iR(i,t,o){if(zg(),i=await i,tR(i))return i instanceof File?i:vu([await i.arrayBuffer()],i.name);if(nR(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),vu(await Gu(r),t,o)}const a=await Gu(i);if(t||(t=jA(i)),!(o!=null&&o.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return vu(a,t,o)}async function Gu(i){var t,o,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Bg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(eR(i))try{for(var g=!0,y=Ft(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;p.push(...await Gu(v))}}catch(v){o={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${oR(i)}`)}return p}function oR(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kg{constructor(t){this._client=t}}kg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Og(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Fh=Object.freeze(Object.create(null)),lR=(i=Og)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const f=[],p=o.reduce((v,T,E)=>{var C,I,L;/[?#]/.test(T)&&(r=!0);const U=a[E];let B=(r?encodeURIComponent:i)(""+U);return E!==a.length&&(U==null||typeof U=="object"&&U.toString===((L=Object.getPrototypeOf((I=Object.getPrototypeOf((C=U.hasOwnProperty)!==null&&C!==void 0?C:Fh))!==null&&I!==void 0?I:Fh))===null||L===void 0?void 0:L.toString))&&(B=U+"",f.push({start:v.length+T.length,length:B.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),v+T+(E===a.length?"":B)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)f.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(f.sort((v,T)=>v.start-T.start),f.length>0){let v=0;const T=f.reduce((E,C)=>{const I=" ".repeat(C.start-v),L="^".repeat(C.length);return v=C.start+C.length,E+I+L},"");throw new Pt(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${p}
${T}`)}return p}),Aa=lR(Og);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fg extends kg{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,f=qa(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Pt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Pt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Aa`/${r}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Aa`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Aa`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const f=o??{},{api_version:p=this._client.apiVersion}=f,g=qa(f,["api_version"]);return this._client.get(Aa`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Fg._key=Object.freeze(["interactions"]);class Jg extends Fg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aR(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Ra;function Xu(i){let t;return(Ra??(t=new globalThis.TextEncoder,Ra=t.encode.bind(t)))(i)}let Na;function Jh(i){let t;return(Na??(t=new globalThis.TextDecoder,Na=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ya{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Xu(t):t;this.buffer=aR([this.buffer,o]);const a=[];let r;for(;(r=sR(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Jh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Jh(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Ya.NEWLINE_CHARS=new Set([`
`,"\r"]);Ya.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function sR(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function rR(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Va={off:0,error:200,warn:300,info:400,debug:500},Yh=(i,t,o)=>{if(i){if(BA(Va,i))return i;st(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Va))}`)}};function ol(){}function Ma(i,t,o){return!t||Va[i]>Va[o]?ol:t[i].bind(t)}const uR={error:ol,warn:ol,info:ol,debug:ol};let Kh=new WeakMap;function st(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return uR;const r=Kh.get(o);if(r&&r[0]===a)return r[1];const f={error:Ma("error",o,a),warn:Ma("warn",o,a),info:Ma("info",o,a),debug:Ma("debug",o,a)};return Kh.set(o,[a,f]),f}const fi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ji{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const f=a?st(a):console;function p(){return Ot(this,arguments,function*(){var y,h,v,T;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,I=Ft(cR(t,o)),L;L=yield ae(I.next()),y=L.done,!y;C=!0){T=L.value,C=!1;const U=T;if(!E)if(U.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield ae(JSON.parse(U.data))}catch(B){throw f.error("Could not parse message into JSON:",U.data),f.error("From chunk:",U.raw),B}}}catch(U){h={error:U}}finally{try{!C&&!y&&(v=I.return)&&(yield ae(v.call(I)))}finally{if(h)throw h.error}}E=!0}catch(U){if(Du(U))return yield ae(void 0);throw U}finally{E||o.abort()}})}return new ji(p,o,a)}static fromReadableStream(t,o,a){let r=!1;function f(){return Ot(this,arguments,function*(){var y,h,v,T;const E=new Ya,C=Pg(t);try{for(var I=!0,L=Ft(C),U;U=yield ae(L.next()),y=U.done,!y;I=!0){T=U.value,I=!1;const B=T;for(const X of E.decode(B))yield yield ae(X)}}catch(B){h={error:B}}finally{try{!I&&!y&&(v=L.return)&&(yield ae(v.call(L)))}finally{if(h)throw h.error}}for(const B of E.flush())yield yield ae(B)})}function p(){return Ot(this,arguments,function*(){var y,h,v,T;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,I=Ft(f()),L;L=yield ae(I.next()),y=L.done,!y;C=!0){T=L.value,C=!1;const U=T;E||U&&(yield yield ae(JSON.parse(U)))}}catch(U){h={error:U}}finally{try{!C&&!y&&(v=I.return)&&(yield ae(v.call(I)))}finally{if(h)throw h.error}}E=!0}catch(U){if(Du(U))return yield ae(void 0);throw U}finally{E||o.abort()}})}return new ji(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),o.push(p)}return f.shift()}});return[new ji(()=>r(t),this.controller,this.client),new ji(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Vg({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await o.next();if(f)return a.close();const p=Xu(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function cR(i,t){return Ot(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Pt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Pt("Attempted to iterate over a response with no body");const g=new dR,y=new Ya,h=Pg(i.body);try{for(var v=!0,T=Ft(fR(h)),E;E=yield ae(T.next()),a=E.done,!a;v=!0){p=E.value,v=!1;const C=p;for(const I of y.decode(C)){const L=g.decode(I);L&&(yield yield ae(L))}}}catch(C){r={error:C}}finally{try{!v&&!a&&(f=T.return)&&(yield ae(f.call(T)))}finally{if(r)throw r.error}}for(const C of y.flush()){const I=g.decode(C);I&&(yield yield ae(I))}})}function fR(i){return Ot(this,arguments,function*(){var o,a,r,f;let p=new Uint8Array;try{for(var g=!0,y=Ft(i),h;h=yield ae(y.next()),o=h.done,!o;g=!0){f=h.value,g=!1;const v=f;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Xu(v):v;let E=new Uint8Array(p.length+T.length);E.set(p),E.set(T,p.length),p=E;let C;for(;(C=rR(p))!==-1;)yield yield ae(p.slice(0,C)),p=p.slice(C)}}catch(v){a={error:v}}finally{try{!g&&!o&&(r=y.return)&&(yield ae(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield ae(p))})}class dR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=pR(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function pR(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function mR(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return st(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):ji.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await o.json():await o.text()})();return st(i).debug(`[${a}] response parsed`,fi({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qu extends Promise{constructor(t,o,a=mR){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Qu(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yg=Symbol("brand.privateNullableHeaders");function*hR(i){if(!i)return;if(Yg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,o;i instanceof Headers?o=i.entries():Bh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Bh(a[1])?a[1]:[a[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const Su=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[f,p]of hR(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),o.add(g)):(t.append(f,p),o.delete(g))}}return{[Yg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tu=i=>{var t,o,a,r,f,p;if(typeof globalThis.process<"u")return(a=(o=(t=B0)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kg;class Ka{constructor(t){var o,a,r,f,p,g,y,h=t===void 0?{}:t,{baseURL:v=Tu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:T=(o=Tu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:E="v1beta"}=h,C=qa(h,["baseURL","apiKey","apiVersion"]);const I=Object.assign(Object.assign({apiKey:T,apiVersion:E},C),{baseURL:v||"https://generativelanguage.googleapis.com"});this.baseURL=I.baseURL,this.timeout=(a=I.timeout)!==null&&a!==void 0?a:Ka.DEFAULT_TIMEOUT,this.logger=(r=I.logger)!==null&&r!==void 0?r:console;const L="warn";this.logLevel=L,this.logLevel=(p=(f=Yh(I.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Yh(Tu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:L,this.fetchOptions=I.fetchOptions,this.maxRetries=(g=I.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=I.fetch)!==null&&y!==void 0?y:QA(),this.encoder=WA,this._options=I,this.apiKey=T,this.apiVersion=E}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){if(this.apiKey!=null)return Su([{"x-goog-api-key":this.apiKey}])}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new Pt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${$i}`}defaultIdempotencyKey(){return`stainless-node-retry-${GA()}`}makeStatusError(t,o,a,r){return ut.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=qA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return zA(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(t){}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new Qu(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,f,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:h,url:v,timeout:T}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(h,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,I=Date.now();if(st(this).debug(`[${E}] sending request`,fi({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Uu;const L=new AbortController,U=await this.fetchWithTimeout(v,h,T,L).catch(bu),B=Date.now();if(U instanceof globalThis.Error){const O=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Uu;const K=Du(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(o)return st(this).info(`[${E}] connection ${K?"timed out":"failed"} - ${O}`),st(this).debug(`[${E}] connection ${K?"timed out":"failed"} (${O})`,fi({retryOfRequestLogID:a,url:v,durationMs:B-I,message:U.message})),this.retryRequest(g,o,a??E);throw st(this).info(`[${E}] connection ${K?"timed out":"failed"} - error; no more retries left`),st(this).debug(`[${E}] connection ${K?"timed out":"failed"} (error; no more retries left)`,fi({retryOfRequestLogID:a,url:v,durationMs:B-I,message:U.message})),K?new Ig:new Ja({cause:U})}const X=`[${E}${C}] ${h.method} ${v} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${B-I}ms`;if(!U.ok){const O=await this.shouldRetry(U);if(o&&O){const W=`retrying, ${o} attempts remaining`;return await $A(U.body),st(this).info(`${X} - ${W}`),st(this).debug(`[${E}] response error (${W})`,fi({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:B-I})),this.retryRequest(g,o,a??E,U.headers)}const K=O?"error; no more retries left":"error; not retryable";st(this).info(`${X} - ${K}`);const j=await U.text().catch(W=>bu(W).message),te=OA(j),J=te?void 0:j;throw st(this).debug(`[${E}] response error (${K})`,fi({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,message:J,durationMs:Date.now()-I})),this.makeStatusError(U.status,te,J,U.headers)}return st(this).info(X),st(this).debug(`[${E}] response start`,fi({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:B-I})),{response:U,options:g,controller:L,requestLogID:E,retryOfRequestLogID:a,startTime:I}}async fetchWithTimeout(t,o,a,r){const f=o||{},{signal:p,method:g}=f,y=qa(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(T.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(h)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,h)}return await FA(p),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const f=o-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,f;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=p,T=this.buildURL(y,h,v);"timeout"in p&&kA("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:C}=this.buildBody({options:p}),I=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:I},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:T,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=Su([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),XA()),await this.authHeaders(t),this._options.defaultHeaders,a,t.headers]);return this.validateHeaders(p),p.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=Su([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:ZA(t)}:this.encoder({body:t,headers:a})}}Ka.DEFAULT_TIMEOUT=6e4;class Ze extends Ka{constructor(){super(...arguments),this.interactions=new Jg(this)}}Kg=Ze;Ze.GeminiNextGenAPIClient=Kg;Ze.GeminiNextGenAPIClientError=Pt;Ze.APIError=ut;Ze.APIConnectionError=Ja;Ze.APIConnectionTimeoutError=Ig;Ze.APIUserAbortError=Uu;Ze.NotFoundError=Ug;Ze.ConflictError=Lg;Ze.RateLimitError=Hg;Ze.BadRequestError=wg;Ze.AuthenticationError=Dg;Ze.InternalServerError=qg;Ze.PermissionDeniedError=bg;Ze.UnprocessableEntityError=Gg;Ze.toFile=iR;Ze.Interactions=Jg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function yR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function vR(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function SR(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function TR(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function ER(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],Xh(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],Xh(C))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(h==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function _R(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&UR(f);const p=u(i,["config"]);return p!=null&&TR(p,o),o}function CR(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&LR(f,o,t);const p=u(i,["config"]);return p!=null&&ER(p,o,t),o}function AR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function RR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function NR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function MR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function xR(i,t){const o={},a=u(i,["config"]);return a!=null&&NR(a,o),o}function IR(i,t){const o={},a=u(i,["config"]);return a!=null&&MR(a,o),o}function wR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Xg(g))),c(o,["tuningJobs"],p)}return o}function DR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Hu(g))),c(o,["tuningJobs"],p)}return o}function bR(i,t){const o={},a=u(i,["name"]);a!=null&&c(o,["model"],a);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function UR(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function LR(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Xg(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],rg(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(o,["description"],v);const T=u(i,["baseModel"]);T!=null&&c(o,["baseModel"],T);const E=u(i,["_self"]);return E!=null&&c(o,["tunedModel"],bR(E)),o}function Hu(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],rg(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(o,["error"],v);const T=u(i,["description"]);T!=null&&c(o,["description"],T);const E=u(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const C=u(i,["tunedModel"]);C!=null&&c(o,["tunedModel"],C);const I=u(i,["preTunedModel"]);I!=null&&c(o,["preTunedModel"],I);const L=u(i,["supervisedTuningSpec"]);L!=null&&c(o,["supervisedTuningSpec"],L);const U=u(i,["preferenceOptimizationSpec"]);U!=null&&c(o,["preferenceOptimizationSpec"],U);const B=u(i,["tuningDataStats"]);B!=null&&c(o,["tuningDataStats"],B);const X=u(i,["encryptionSpec"]);X!=null&&c(o,["encryptionSpec"],X);const O=u(i,["partnerModelTuningSpec"]);O!=null&&c(o,["partnerModelTuningSpec"],O);const K=u(i,["customBaseModel"]);K!=null&&c(o,["customBaseModel"],K);const j=u(i,["experiment"]);j!=null&&c(o,["experiment"],j);const te=u(i,["labels"]);te!=null&&c(o,["labels"],te);const J=u(i,["outputUri"]);J!=null&&c(o,["outputUri"],J);const fe=u(i,["pipelineJob"]);fe!=null&&c(o,["pipelineJob"],fe);const W=u(i,["serviceAccount"]);W!=null&&c(o,["serviceAccount"],W);const ue=u(i,["tunedModelDisplayName"]);ue!=null&&c(o,["tunedModelDisplayName"],ue);const ye=u(i,["veoTuningSpec"]);return ye!=null&&c(o,["veoTuningSpec"],ye),o}function GR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function Xh(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HR extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(hn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:Au.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=RR(t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Hu(v))}else{const h=AR(t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Xg(v))}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=IR(t);return g=Q("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=DR(v),E=new Th;return Object.assign(E,T),E})}else{const h=xR(t);return g=Q("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=wR(v),E=new Th;return Object.assign(E,T),E})}}async cancel(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=yR(t);return g=Q("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=SR(v),E=new Eh;return Object.assign(E,T),E})}else{const h=gR(t);return g=Q("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=vR(v),E=new Eh;return Object.assign(E,T),E})}}async tuneInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=CR(t,t);return f=Q("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Hu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_R(t);return f=Q("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>GR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qR{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const VR=1024*1024*8,PR=3,zR=1e3,BR=2,Pa="x-goog-upload-status";async function kR(i,t,o){var a;const r=await Qg(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Pa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function OR(i,t,o){var a;const r=await Qg(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Pa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=ng(f),g=new ku;return Object.assign(g,p),g}async function Qg(i,t,o){var a,r;let f=0,p=0,g=new Ru(new Response),y="upload";for(f=i.size;p<f;){const h=Math.min(VR,f-p),v=i.slice(p,p+h);p+h>=f&&(y+=", finalize");let T=0,E=zR;for(;T<PR&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Pa]));)T++,await JR(E),E=E*BR;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Pa])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function FR(i){return{size:i.size,type:i.type}}function JR(i){return new Promise(t=>setTimeout(t,i))}class YR{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await kR(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await OR(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await FR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KR{create(t,o,a){return new XR(t,o,a)}}class XR{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qh="x-goog-api-key";class QR{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Qh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Qh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZR="gl-node/";class $R{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new Ze({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=J0(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new QR(this.apiKey);this.apiClient=new FC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ZR+"web",uploader:new YR,downloader:new qR}),this.models=new uA(this.apiClient),this.live=new iA(this.apiClient,r,new KR),this.batches=new TT(this.apiClient),this.chats=new tE(this.models,this.apiClient),this.caches=new WT(this.apiClient),this.files=new fE(this.apiClient),this.operations=new cA(this.apiClient),this.authTokens=new NA(this.apiClient),this.tunings=new HR(this.apiClient),this.fileSearchStores=new LA(this.apiClient)}}let Zg="";function WR(i){Zg=i.defaultAnimationPrompt}const io={textGeneration:"gemini-2.5-flash",imageEdit:"gemini-2.5-flash-image",videoGeneration:"veo-3.1-fast-generate-preview"};function Zu(i){if(!i)throw new Error("API Key is missing.");return new $R({apiKey:i})}function $u(i,t){const o=i.message||(typeof i=="string"?i:JSON.stringify(i));throw o.includes("404")||o.includes("NOT_FOUND")||o.includes("Requested entity was not found")||o.includes("[5,")?new Error(`Model not found (${t}). Ensure your API key project has access to this model. Veo requires a paid account.`):i}async function jR(i,t,o,a){try{return(await Zu(o).models.generateContent({model:io.textGeneration,contents:{parts:[{inlineData:{data:i,mimeType:t}},{text:a||Zg}]}})).text||"Cinematic subtle movement"}catch(r){return $u(r,io.textGeneration)}}async function eN(i,t,o,a){try{const r=Zu(a),f=[{inlineData:{data:i,mimeType:t}},{text:o||"Enhance this image"}],g=(await r.models.generateContent({model:io.imageEdit,contents:{parts:f}})).candidates;if(!g||g.length===0)throw new Error("No candidates returned from Gemini.");for(const y of g[0].content.parts)if(y.inlineData&&y.inlineData.data)return`data:${y.inlineData.mimeType||"image/png"};base64,${y.inlineData.data}`;throw new Error("No image data found in the response.")}catch(r){return $u(r,io.imageEdit)}}async function tN(i,t,o,a,r={}){var E,C,I,L;const{aspectRatio:f="16:9",resolution:p="720p",numberOfVideos:g=1}=r,y=Zu(a);let h;try{h=await y.models.generateVideos({model:io.videoGeneration,prompt:o,image:{imageBytes:i,mimeType:t},config:{numberOfVideos:g,resolution:p,aspectRatio:f}})}catch(U){return $u(U,io.videoGeneration)}for(;!h.done;){await new Promise(U=>setTimeout(U,1e4));try{h=await y.operations.getVideosOperation({operation:h}),console.log("Polling Veo operation...",h)}catch(U){const B=U.message||(typeof U=="string"?U:JSON.stringify(U));throw B.includes("404")||B.includes("NOT_FOUND")||B.includes("Requested entity was not found")||B.includes("[5,")?new Error("Video generation operation lost (404). Please try again."):U}}if(h.error)throw new Error(`Video generation failed: ${h.error.message||"Unknown error"}`);const v=(L=(I=(C=(E=h.response)==null?void 0:E.generatedVideos)==null?void 0:C[0])==null?void 0:I.video)==null?void 0:L.uri;if(!v)throw console.error("Operation completed but no video URI found.",h),new Error("No video URI returned after operation completion. This may be due to safety filters or service load.");return`${v}&key=${a}`}const nN=`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkmiMIW3fkXUnKjhAthrq
4G0esmDh0un0DJoPAqiji+rA0suGMq0pJwFOJWA5zLNk/Ial9+16PkswIxOaIpU/
2yoX1WhFblU3YwfuGwxcfgHDFRZ1CGDWoEHZ7+Q8CHeW3N4Jt1YOPXXx9WeNFQQs
65CX7FU9XBrh++2gx+CObGi+iGSmK1+d6hPnNIClmxzXtW9qEBUo7JP6qfWFPjYx
CPjW8Rgmmz1luyAROfe3PKbBDG/doHTJK+Wxq8FQMkQthmWwEQsHB8MMzN/CLQwC
9Ux3JDj8lVx37PvZs3bUTwHkQ5QZhgycaMa9afghcG67vey2rDYxq4undL0dN4XT
LQIDAQAB
-----END PUBLIC KEY-----`;let iN=nN;async function oN(){const i=iN.replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace(/\s/g,""),t=Uint8Array.from(atob(i),o=>o.charCodeAt(0));return await crypto.subtle.importKey("spki",t.buffer,{name:"RSA-OAEP",hash:"SHA-256"},!1,["encrypt"])}async function lN(i){const t=await oN(),a=new TextEncoder().encode(i);if(a.length>190){const r=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt"]),f=crypto.getRandomValues(new Uint8Array(12)),p=await crypto.subtle.encrypt({name:"AES-GCM",iv:f},r,a),g=await crypto.subtle.exportKey("raw",r),y=await crypto.subtle.encrypt({name:"RSA-OAEP"},t,g),h={type:"hybrid",key:btoa(String.fromCharCode(...new Uint8Array(y))),iv:btoa(String.fromCharCode(...f)),data:btoa(String.fromCharCode(...new Uint8Array(p)))};return btoa(JSON.stringify(h))}else{const r=await crypto.subtle.encrypt({name:"RSA-OAEP"},t,a),f={type:"direct",data:btoa(String.fromCharCode(...new Uint8Array(r)))};return btoa(JSON.stringify(f))}}let Wu="animateimage_userid",$g="animateimage_user";const aN=365,sN=2;function rN(i){i.cookieName&&(Wu=i.cookieName),i.dbName&&($g=i.dbName)}let Eu=null;function uN(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";const o=new Uint8Array(20);crypto.getRandomValues(o);for(let a=0;a<20;a++)t+=i[o[a]%i.length];return t}function Zh(i){const t=new Date;t.setTime(t.getTime()+aN*24*60*60*1e3);const o=`expires=${t.toUTCString()}`;document.cookie=`${Wu}=${i};${o};path=/;SameSite=Lax`}function cN(){const i=`${Wu}=`,o=decodeURIComponent(document.cookie).split(";");for(let a of o)if(a=a.trim(),a.indexOf(i)===0)return a.substring(i.length);return null}function Wg(){return new Promise((i,t)=>{const o=indexedDB.open($g,sN);o.onerror=()=>t(o.error),o.onsuccess=()=>i(o.result),o.onupgradeneeded=a=>{const r=a.target.result;r.objectStoreNames.contains("user")&&r.deleteObjectStore("user"),r.createObjectStore("user")}})}async function fN(){try{const i=await Wg();return new Promise(t=>{const r=i.transaction(["user"],"readonly").objectStore("user").get("user_id");r.onsuccess=()=>{t(r.result||null)},r.onerror=()=>t(null)})}catch{return null}}async function $h(i){try{const t=await Wg();return new Promise(o=>{const a=t.transaction(["user"],"readwrite");a.objectStore("user").put(i,"user_id"),a.oncomplete=()=>o(),a.onerror=()=>o()})}catch{}}async function ju(){if(Eu)return Eu;let i=await fN();return i||(i=cN(),i&&await $h(i)),i||(i=uN(),await $h(i)),Zh(i),Eu=i,i}let jg="animateimage_events";function dN(i){jg=i.dbName}const pN=2;let xa=null;async function ec(){return xa||new Promise((i,t)=>{const o=indexedDB.open(jg,pN);o.onerror=()=>t(o.error),o.onsuccess=()=>{xa=o.result,i(xa)},o.onupgradeneeded=a=>{const r=a.target.result;r.objectStoreNames.contains("events")&&r.deleteObjectStore("events"),r.createObjectStore("events",{autoIncrement:!0})}})}async function mN(i){const t=await ec();return new Promise((o,a)=>{const r=t.transaction(["events"],"readwrite"),p=r.objectStore("events").add(i);p.onsuccess=()=>o(),p.onerror=()=>a(p.error),r.onerror=()=>a(r.error)})}async function hN(){const i=await ec();return new Promise((t,o)=>{const f=i.transaction(["events"],"readonly").objectStore("events").getAll();f.onsuccess=()=>{const p=f.result;t(p)},f.onerror=()=>o(f.error)})}async function gN(){const i=await ec();return new Promise((t,o)=>{const f=i.transaction(["events"],"readwrite").objectStore("events").clear();f.onsuccess=()=>t(),f.onerror=()=>o(f.error)})}async function Ia(i,t){try{const o=await ju(),a={type:i,mode:t,timestamp:new Date().toISOString(),website_url:window.location.href},f=await lN(JSON.stringify({userId:o,events:[a]}));await mN(f)}catch{}}let ey="https://jebin2-apigateway.hf.space/blink";function yN(i){ey=i.syncUrl}async function vN(){try{const i=await ju(),t=await hN();if(t.length===0)return;const o=t.join(","),a=`${ey}?userid=${i}${o}`;fetch(a,{method:"GET",mode:"no-cors"}).catch(()=>{}),await gN()}catch{}}async function SN(){const i=await ju();return vN(),i}const TN=i=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[N.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),N.jsx("polyline",{points:"17 8 12 3 7 8"}),N.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),Wh=i=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[N.jsx("path",{d:"m22 8-6 4 6 4V8Z"}),N.jsx("rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2"})]}),jh=i=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[N.jsx("path",{d:"M15 4V2"}),N.jsx("path",{d:"M15 16v-2"}),N.jsx("path",{d:"M8 9h2"}),N.jsx("path",{d:"M20 9h2"}),N.jsx("path",{d:"M17.8 11.8 19 13"}),N.jsx("path",{d:"M15 9h0"}),N.jsx("path",{d:"M17.8 6.2 19 5"}),N.jsx("path",{d:"m3 21 9-9"}),N.jsx("path",{d:"M12.2 6.2 11 5"})]}),EN=i=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[N.jsx("path",{d:"M3 6h18"}),N.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),N.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),ty=i=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[N.jsx("circle",{cx:"12",cy:"12",r:"10"}),N.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),N.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]}),ba=i=>N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:N.jsx("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"})}),_N=i=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[N.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.39a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),N.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),ny=i=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[N.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),N.jsx("line",{x1:"2",x2:"22",y1:"10",y2:"10"})]}),CN=i=>N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[N.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),N.jsx("polyline",{points:"16 17 21 12 16 7"}),N.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),AN=i=>N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:N.jsx("path",{d:"m6 9 6 6 6-6"})}),RN=({message:i,subMessage:t})=>N.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4 animate-in fade-in duration-300",children:[N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"w-12 h-12 rounded-full absolute border-4 border-solid border-gray-600"}),N.jsx("div",{className:"w-12 h-12 rounded-full animate-spin absolute border-4 border-solid border-indigo-500 border-t-transparent shadow-md"}),N.jsx("div",{className:"w-12 h-12"})]}),N.jsxs("div",{className:"text-center",children:[N.jsx("p",{className:"text-lg font-semibold text-slate-200",children:i||"Processing..."}),t&&N.jsx("p",{className:"text-sm text-slate-400 mt-1 max-w-xs",children:t})]})]});let yt={clientId:"",apiBaseUrl:"",storagePrefix:"auth"};function rt(){return{accessToken:`${yt.storagePrefix}_access_token`,user:`${yt.storagePrefix}_user`,tokenExpiry:`${yt.storagePrefix}_token_expiry`,avatarCache:`${yt.storagePrefix}_avatar_cache`}}function NN(){return`${yt.storagePrefix}_db`}const MN=1,Fn="auth",xN=30,IN=1380*60*1e3;function iy(i,t){const o=new Date;o.setTime(o.getTime()+xN*24*60*60*1e3);const a=`expires=${o.toUTCString()}`;document.cookie=`${i}=${encodeURIComponent(t)};${a};path=/;SameSite=Lax`}function wN(i){const t=`${i}=`,a=decodeURIComponent(document.cookie).split(";");for(let r of a)if(r=r.trim(),r.indexOf(t)===0)return r.substring(t.length);return null}function DN(i){document.cookie=`${i}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}function tc(){return new Promise((i,t)=>{const o=indexedDB.open(NN(),MN);o.onerror=()=>t(o.error),o.onsuccess=()=>i(o.result),o.onupgradeneeded=a=>{const r=a.target.result;r.objectStoreNames.contains(Fn)||r.createObjectStore(Fn)}})}async function bN(i,t){try{const o=await tc();return new Promise(a=>{const r=o.transaction([Fn],"readwrite");r.objectStore(Fn).put(t,i),r.oncomplete=()=>a(),r.onerror=()=>a()})}catch{}}async function UN(i){try{const t=await tc();return new Promise(o=>{const f=t.transaction([Fn],"readonly").objectStore(Fn).get(i);f.onsuccess=()=>o(f.result||null),f.onerror=()=>o(null)})}catch{return null}}async function LN(i){try{const t=await tc();return new Promise(o=>{const a=t.transaction([Fn],"readwrite");a.objectStore(Fn).delete(i),a.oncomplete=()=>o(),a.onerror=()=>o()})}catch{}}async function no(i,t){localStorage.setItem(i,t),iy(i,t),await bN(i,t)}async function nc(i){let t=localStorage.getItem(i);return t||(t=wN(i),t?(localStorage.setItem(i,t),t):(t=await UN(i),t?(localStorage.setItem(i,t),iy(i,t),t):null))}async function _u(i){localStorage.removeItem(i),DN(i),await LN(i)}async function GN(){await _u(rt().accessToken),await _u(rt().user),await _u(rt().tokenExpiry)}let Ua=[];function HN(i){yt.clientId=i.clientId,yt.apiBaseUrl=i.apiBaseUrl,i.storagePrefix&&(yt.storagePrefix=i.storagePrefix)}function qu(){return rt().avatarCache}function qN(i){return Ua.push(i),()=>{Ua=Ua.filter(t=>t!==i)}}function za(i){Ua.forEach(t=>t(i))}function VN(){return new Promise((i,t)=>{if(!yt.clientId){t(new Error("Google Client ID not configured. Call configureGoogleAuth first."));return}const o=()=>{var a,r;(r=(a=window.google)==null?void 0:a.accounts)!=null&&r.id?(window.google.accounts.id.initialize({client_id:yt.clientId,callback:PN,auto_select:!1,cancel_on_tap_outside:!0}),i()):setTimeout(o,100)};o(),setTimeout(()=>{t(new Error("Google Identity Services failed to load"))},1e4)})}async function PN(i){try{const t=await zN(i.credential);if(t.success){const o={userId:t.user_id,email:t.email,name:t.name,credits:t.credits,isNewUser:t.is_new_user},a=Date.now()+1440*60*1e3;await no(rt().accessToken,t.access_token),await no(rt().user,JSON.stringify(o)),await no(rt().tokenExpiry,a.toString()),za(o)}}catch(t){console.error("Google authentication failed:",t),za(null)}}async function zN(i){const t=await fetch(`${yt.apiBaseUrl}/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_token:i,temp_user_id:null})});if(!t.ok){const o=await t.json().catch(()=>({detail:"Authentication failed"}));throw new Error(o.detail||"Authentication failed")}return t.json()}function oy(i,t){var o,a;if(!((a=(o=window.google)==null?void 0:o.accounts)!=null&&a.id)){console.error("Google Identity Services not loaded");return}window.google.accounts.id.renderButton(i,{type:"standard",theme:"filled_black",size:"large",text:"signin_with",shape:"pill",...t})}async function ic(){var o,a;const i=kN(),t=BN();await GN(),(a=(o=window.google)==null?void 0:o.accounts)!=null&&a.id&&(window.google.accounts.id.disableAutoSelect(),i!=null&&i.email&&window.google.accounts.id.revoke(i.email,()=>{console.log("Google session revoked")}));try{t&&await fetch(`${yt.apiBaseUrl}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${t}`}})}catch{}za(null)}function BN(){return localStorage.getItem(rt().accessToken)}async function oc(){return await nc(rt().accessToken)}function kN(){const i=localStorage.getItem(rt().user);if(!i)return null;try{return JSON.parse(i)}catch{return null}}async function ON(){const i=await nc(rt().user);if(!i)return null;try{return JSON.parse(i)}catch{return null}}async function FN(){const i=await nc(rt().tokenExpiry);if(!i)return!1;const o=parseInt(i,10)-Date.now();return o<IN&&o>0}async function JN(){const i=await oc();if(!i)return!1;try{const t=await fetch(`${yt.apiBaseUrl}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:i})});if(!t.ok)return await ic(),!1;const o=await t.json();return o.success&&o.access_token?(await no(rt().accessToken,o.access_token),await no(rt().tokenExpiry,(Date.now()+1440*60*1e3).toString()),!0):!1}catch(t){return console.error("Token refresh failed:",t),!1}}async function YN(){const i=await oc();if(!i)return null;try{const t=await fetch(`${yt.apiBaseUrl}/auth/me`,{headers:{Authorization:`Bearer ${i}`}});if(!t.ok)return t.status===401&&await ic(),null;const o=await t.json(),a={userId:o.user_id,email:o.email,name:o.name,profilePicture:o.profile_picture,credits:o.credits,isNewUser:!1};return await no(rt().user,JSON.stringify(a)),za(a),a}catch(t){return console.error("Failed to fetch user info:",t),null}}async function KN(){const i=await ON(),t=await oc();if(i&&t){await FN()&&await JN();const o=await YN();if(o)return o}try{await VN()}catch(o){console.error("Failed to initialize Google Auth:",o)}return null}async function XN(i,t){try{const o=await fetch(i);if(!o.ok)return null;const a=await o.blob();return new Promise(r=>{const f=new FileReader;f.onloadend=()=>{const p=f.result;try{localStorage.setItem(t,p)}catch{}r(p)},f.onerror=()=>r(null),f.readAsDataURL(a)})}catch{return null}}function QN(i){try{return localStorage.getItem(i)}catch{return null}}function ZN(){try{localStorage.removeItem(qu())}catch{}}const Vu=({src:i,name:t,email:o,size:a="md",className:r=""})=>{const[f,p]=_e.useState(i||null),[g,y]=_e.useState(!1),h={sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg"},v=()=>t?t.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2):o[0].toUpperCase(),T=()=>{const C=["bg-indigo-600","bg-purple-600","bg-pink-600","bg-blue-600","bg-teal-600","bg-emerald-600","bg-orange-600"],I=o.charCodeAt(0)%C.length;return C[I]};_e.useEffect(()=>{if(i&&!g){const C=qu();XN(i,C).catch(()=>{})}},[i,g]);const E=()=>{const C=qu(),I=QN(C);I&&I!==f?p(I):y(!0)};return f&&!g?N.jsx("img",{src:f,alt:t||o,className:`${h[a]} rounded-full border-2 border-slate-700 ${r}`,onError:E}):N.jsx("div",{className:`${h[a]} rounded-full ${T()} flex items-center justify-center text-white font-medium border-2 border-slate-700 ${r}`,children:v()})},$N=({isOpen:i,onClose:t,onSubmit:o,errorMessage:a,user:r})=>{const[f,p]=_e.useState(""),[g,y]=_e.useState(!1),[h,v]=_e.useState(null),T=_e.useRef(null);_e.useEffect(()=>{i&&(p(""),v(null),y(!!r))},[i,r]),_e.useEffect(()=>{if(i&&!r&&g&&T.current){const L=setTimeout(()=>{if(T.current){T.current.innerHTML="";try{oy(T.current,{theme:"filled_black",size:"large",text:"signin_with",shape:"pill",width:280})}catch(U){console.error("Failed to render Google button:",U)}}},100);return()=>clearTimeout(L)}},[i,r,g]);const E=L=>{y(L),v(null)},C=()=>{g&&r?o("USE_CREDITS"):!g&&f.trim()&&o(f.trim())},I=()=>g?!!r:!!f.trim();return i?N.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:N.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 w-full max-w-md shadow-2xl scale-100 animate-in zoom-in-95 duration-200",children:[N.jsxs("div",{className:"flex items-center justify-between mb-4 text-white",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-8 h-8 bg-indigo-500/10 rounded-lg flex items-center justify-center",children:N.jsx(ba,{className:"w-5 h-5 text-indigo-400"})}),N.jsx("h2",{className:"text-xl font-bold",children:"Settings"})]}),r&&g&&N.jsxs("div",{className:"bg-indigo-500/20 text-indigo-300 px-3 py-1 rounded-full text-xs font-medium border border-indigo-500/30",children:[r.credits," Credits"]})]}),(a||h)&&N.jsxs("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-900/50 rounded-lg flex items-start gap-2 max-h-32 overflow-y-auto",children:[N.jsx(ty,{className:"w-5 h-5 text-red-400 shrink-0 mt-0.5"}),N.jsx("p",{className:"text-sm text-red-200 font-medium break-all",children:h||a})]}),N.jsxs("div",{className:`mb-6 flex items-center gap-3 p-3 rounded-xl border transition-colors ${g?"bg-indigo-900/20 border-indigo-500/30":"bg-slate-950/50 border-slate-800 hover:bg-slate-900/50"}`,children:[N.jsx("input",{type:"checkbox",id:"useCredit",checked:g,onChange:L=>E(L.target.checked),className:"w-4 h-4 rounded border-slate-600 text-indigo-600 focus:ring-indigo-500 bg-slate-900"}),N.jsxs("div",{className:"flex items-center gap-2 flex-1 cursor-pointer select-none",onClick:()=>E(!g),children:[N.jsx(ny,{className:`w-4 h-4 ${g?"text-indigo-400":"text-slate-500"}`}),N.jsx("label",{htmlFor:"useCredit",className:`text-sm font-medium cursor-pointer ${g?"text-indigo-200":"text-slate-300"}`,children:"Use Credit System"})]}),r&&g&&N.jsxs("span",{className:"text-xs text-green-400 flex items-center gap-1",children:[N.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Signed in"]})]}),g?r?N.jsxs("div",{className:"mb-6 p-4 bg-slate-950/50 rounded-xl border border-slate-800",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx(Vu,{src:r.profilePicture,name:r.name,email:r.email,size:"md"}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("p",{className:"text-white font-medium truncate",children:r.name||"User"}),N.jsx("p",{className:"text-sm text-slate-400 truncate",children:r.email})]})]}),N.jsx("p",{className:"mt-3 text-sm text-slate-400",children:"You'll use credits from your account for image generation."})]}):N.jsxs("div",{className:"mb-6 p-4 bg-slate-950/50 rounded-xl border border-slate-800",children:[N.jsx("p",{className:"text-slate-400 text-sm mb-4 text-center",children:"Sign in with Google to use the credit system"}),N.jsx("div",{ref:T,className:"flex justify-center"})]}):N.jsxs("div",{className:"space-y-2 mb-6",children:[N.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Gemini API Key"}),N.jsx("input",{type:"password",value:f,onChange:L=>p(L.target.value),placeholder:"AIzaSy...",className:`w-full bg-slate-950 border rounded-xl p-3 text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 transition-all ${a?"border-red-500/50 focus:ring-red-500/50":"border-slate-700 focus:ring-indigo-500/50"}`,autoFocus:!0}),N.jsxs("p",{className:"text-xs text-slate-500",children:["Don't have a key? ",N.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-indigo-400 hover:text-indigo-300 hover:underline",children:"Get one here"})]})]}),N.jsxs("div",{className:"flex gap-3 justify-end",children:[N.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-colors font-medium text-sm",children:"Cancel"}),N.jsx("button",{onClick:C,disabled:!I(),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-all text-sm shadow-lg shadow-indigo-500/20",children:a?"Retry":"Save"})]})]})}):null},WN=({user:i,onSignOut:t})=>{const[o,a]=_e.useState(!1),r=_e.useRef(null);_e.useEffect(()=>{const p=g=>{r.current&&!r.current.contains(g.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const f=async()=>{a(!1),ZN(),await ic(),t()};return N.jsxs("div",{className:"relative",ref:r,children:[N.jsxs("button",{onClick:()=>a(!o),className:"flex items-center gap-2 p-1.5 rounded-full hover:bg-slate-800 transition-colors",children:[N.jsx(Vu,{src:i.profilePicture,name:i.name,email:i.email,size:"sm"}),N.jsx(AN,{className:`w-4 h-4 text-slate-400 transition-transform ${o?"rotate-180":""}`})]}),o&&N.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-slate-900 border border-slate-700 rounded-xl shadow-xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[N.jsx("div",{className:"p-4 bg-slate-800/50 border-b border-slate-700",children:N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx(Vu,{src:i.profilePicture,name:i.name,email:i.email,size:"lg",className:"border-slate-600"}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("p",{className:"font-medium text-white truncate",children:i.name||"User"}),N.jsx("p",{className:"text-sm text-slate-400 truncate",children:i.email})]})]})}),N.jsx("div",{className:"p-3 border-b border-slate-700/50",children:N.jsxs("div",{className:"flex items-center gap-3 p-2 bg-indigo-950/30 rounded-lg border border-indigo-500/20",children:[N.jsx("div",{className:"w-8 h-8 bg-indigo-500/20 rounded-lg flex items-center justify-center",children:N.jsx(ny,{className:"w-4 h-4 text-indigo-400"})}),N.jsxs("div",{children:[N.jsx("p",{className:"text-sm text-slate-400",children:"Credits Available"}),N.jsx("p",{className:"text-lg font-bold text-indigo-300",children:i.credits})]})]})}),N.jsx("div",{className:"p-2",children:N.jsxs("button",{onClick:f,className:"w-full flex items-center gap-3 px-3 py-2.5 text-left text-slate-300 hover:bg-slate-800 hover:text-white rounded-lg transition-colors",children:[N.jsx(CN,{className:"w-4 h-4"}),N.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})})]})]})},jN=()=>{const[i,t]=_e.useState(""),[o,a]=_e.useState(!1),[r,f]=_e.useState(""),[p,g]=_e.useState(!1),[y,h]=_e.useState("animate"),[v,T]=_e.useState(null),[E,C]=_e.useState(""),[I,L]=_e.useState(""),[U,B]=_e.useState(!1),[X,O]=_e.useState("16:9"),[K,j]=_e.useState({isLoading:!1,statusMessage:""}),[te,J]=_e.useState(null),[fe,W]=_e.useState(null),ue=_e.useRef(null),ye=_e.useRef(null),[Ne,ve]=_e.useState(null),[He,it]=_e.useState(!0);_e.useEffect(()=>{const k=localStorage.getItem("gemini_api_key");k&&t(k),SN().catch(console.error),(async()=>{try{const ie=await KN();ie&&ve(ie)}catch(ie){console.error("Auth initialization failed:",ie)}finally{it(!1)}})();const Z=qN(ie=>{ve(ie)});return()=>Z()},[]),_e.useEffect(()=>{if(!He&&!Ne&&ye.current){const k=setTimeout(()=>{if(ye.current)try{oy(ye.current,{theme:"filled_black",size:"medium",shape:"pill"})}catch(F){console.error("Failed to render Google button:",F)}},100);return()=>clearTimeout(k)}},[He,Ne]);const H=async k=>{J(null),W(null),j({isLoading:!0,statusMessage:"Initializing AI model..."}),f("");try{if(y==="edit"){j({isLoading:!0,statusMessage:"Enhancing image with AI..."});const F=await eN(v,E,I,k);J(F),Ia("generate_success",y).catch(console.error),j({isLoading:!1,statusMessage:"Done!"})}else{let F=I;if(!F.trim()){j({isLoading:!0,statusMessage:"Analyzing image for loopable animation..."});try{F=await jR(v,E,k),L(F),B(!0)}catch(ie){console.warn("Failed to generate prompt",ie),F="Animate this image with cinematic movement",L(F)}}j({isLoading:!0,statusMessage:"Generating video. This may take 1-2 minutes..."});const Z=await tN(v,E,F,k,{aspectRatio:X});W(Z),Ia("generate_success",y).catch(console.error),j({isLoading:!1,statusMessage:"Done!"})}}catch(F){console.error(F),Ia("generate_failure",y).catch(()=>{});const Z=F.message||(typeof F=="string"?F:JSON.stringify(F));if(Z.includes("API key")||Z.includes("403")||Z.includes("400")||Z.includes("404")||Z.includes("NOT_FOUND")||Z.includes("Requested entity was not found")||Z.includes("Model not found")||Z.includes("requires a paid account")||Z.includes("UNAUTHENTICATED")||Z.includes("[5,")){j({isLoading:!1,statusMessage:""});let Se=Z;(Z.includes("404")||Z.includes("NOT_FOUND")||Z.includes("Requested entity was not found")||Z.includes("[5,"))&&(Se="Model or resource not found. This usually means your API Key does not have access to the required models (Requires Paid Project)."),f(Se),a(!0),g(!0)}else j({isLoading:!1,statusMessage:"",error:Z||"An unexpected error occurred."})}},Y=k=>{if(k==="USE_CREDITS"){a(!1),f("");return}t(k),localStorage.setItem("gemini_api_key",k),a(!1),f(""),p&&v&&(g(!1),H(k))},le=()=>{f(""),g(!1),a(!0)},Re=k=>{var Z;const F=(Z=k.target.files)==null?void 0:Z[0];if(F){if(!F.type.startsWith("image/")){alert("Please upload a valid image file.");return}const ie=new FileReader;ie.onloadend=()=>{const $e=ie.result.split(",")[1];T($e),C(F.type),J(null),W(null)},ie.readAsDataURL(F)}},Me=()=>{if(v){if(Ia("generate_click",y).catch(console.error),!i){g(!0),a(!0);return}H(i)}},M=()=>{T(null),C(""),J(null),W(null),L(""),B(!1),j({isLoading:!1,statusMessage:""}),ue.current&&(ue.current.value="")},z=k=>{h(k),B(!1)};return N.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-200 font-sans selection:bg-indigo-500/30 relative",children:[N.jsx("header",{className:"border-b border-slate-800/50 bg-slate-900/50 backdrop-blur-md sticky top-0 z-50",children:N.jsxs("div",{className:"max-w-6xl mx-auto px-4 h-16 flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-8 h-8 bg-gradient-to-tr from-indigo-500 to-purple-500 rounded-lg flex items-center justify-center",children:N.jsx(ba,{className:"w-5 h-5 text-white"})}),N.jsxs("span",{className:"font-bold text-lg tracking-tight text-white",children:["Animate",N.jsx("span",{className:"text-indigo-400",children:"Image"})]})]}),N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("div",{className:"flex items-center gap-1 bg-slate-800/50 p-1 rounded-lg border border-slate-700/50",children:[N.jsx("button",{onClick:()=>z("animate"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${y==="animate"?"bg-indigo-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx(Wh,{className:"w-4 h-4"})," Animate"]})}),N.jsx("button",{onClick:()=>z("edit"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${y==="edit"?"bg-indigo-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx(jh,{className:"w-4 h-4"})," Edit Image"]})})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("button",{onClick:le,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-full transition-colors",title:"API Key Settings",children:N.jsx(_N,{className:"w-5 h-5"})}),He?N.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 animate-pulse"}):Ne?N.jsx(WN,{user:Ne,onSignOut:()=>ve(null)}):N.jsx("div",{ref:ye,className:"min-w-[120px]"})]})]})]})}),N.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[N.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[N.jsx("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-1 overflow-hidden",children:N.jsxs("div",{className:`relative group aspect-[4/3] rounded-xl border-2 border-dashed transition-all duration-300 flex flex-col items-center justify-center
                  ${v?"border-transparent bg-slate-950":"border-slate-700 bg-slate-800/30 hover:border-indigo-500/50 hover:bg-slate-800/50 cursor-pointer"}`,onClick:()=>{var k;return!v&&((k=ue.current)==null?void 0:k.click())},children:[v?N.jsxs(N.Fragment,{children:[N.jsx("img",{src:`data:${E};base64,${v}`,alt:"Selected",className:"w-full h-full object-contain rounded-xl"}),N.jsx("button",{onClick:k=>{k.stopPropagation(),M()},className:"absolute top-2 right-2 p-2 bg-slate-900/80 text-red-400 hover:text-red-300 rounded-lg backdrop-blur-sm border border-slate-700 transition-colors",children:N.jsx(EN,{className:"w-4 h-4"})})]}):N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:N.jsx(TN,{className:"w-8 h-8 text-slate-400 group-hover:text-indigo-400"})}),N.jsx("p",{className:"text-slate-300 font-medium",children:"Click to upload image"}),N.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"JPG, PNG supported"})]}),N.jsx("input",{type:"file",ref:ue,className:"hidden",accept:"image/*",onChange:Re})]})}),N.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 space-y-6",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:y==="animate"?"Animation Description":"Edit Instructions"}),y==="animate"&&U?N.jsxs("div",{className:"relative animate-in fade-in zoom-in-95 duration-200",children:[N.jsxs("div",{className:"w-full bg-indigo-950/30 border border-indigo-500/30 rounded-xl p-4 text-indigo-100 h-32 overflow-y-auto shadow-inner",children:[N.jsx("div",{className:"flex items-center gap-2 mb-2 sticky top-0 bg-transparent",children:N.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-indigo-500/20 text-indigo-300 text-xs font-semibold border border-indigo-500/30",children:[N.jsx(ba,{className:"w-3 h-3"})," AI Generated"]})}),N.jsx("p",{className:"text-sm leading-relaxed opacity-90",children:I})]}),N.jsx("div",{className:"absolute top-3 right-3",children:N.jsx("button",{onClick:()=>B(!1),className:"px-3 py-1 bg-slate-800/80 hover:bg-slate-700 text-slate-300 hover:text-white text-xs font-medium rounded-lg border border-slate-700 transition-all backdrop-blur-sm",children:"Edit"})})]}):N.jsx("textarea",{value:I,onChange:k=>L(k.target.value),placeholder:y==="animate"?"Leave empty for AI auto-description, or describe the movement...":"E.g., Add a cyberpunk neon glow, remove background...",className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-4 text-slate-200 placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 transition-all resize-none h-32"})]}),y==="animate"&&N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Output Aspect Ratio"}),N.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[N.jsx("button",{onClick:()=>O("16:9"),className:`py-3 px-4 rounded-xl border text-sm font-medium transition-all ${X==="16:9"?"bg-indigo-600/10 border-indigo-500 text-indigo-400":"bg-slate-950 border-slate-700 text-slate-400 hover:border-slate-600"}`,children:"Landscape (16:9)"}),N.jsx("button",{onClick:()=>O("9:16"),className:`py-3 px-4 rounded-xl border text-sm font-medium transition-all ${X==="9:16"?"bg-indigo-600/10 border-indigo-500 text-indigo-400":"bg-slate-950 border-slate-700 text-slate-400 hover:border-slate-600"}`,children:"Portrait (9:16)"})]})]}),K.error&&N.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-900/50 rounded-xl flex items-start gap-3",children:[N.jsx(ty,{className:"w-5 h-5 text-red-400 shrink-0 mt-0.5"}),N.jsx("p",{className:"text-sm text-red-200",children:K.error})]}),N.jsx("button",{onClick:Me,disabled:!v||K.isLoading,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2 transition-all
                  ${!v||K.isLoading?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white hover:shadow-indigo-500/25 active:scale-[0.99]"}`,children:K.isLoading?"Processing...":N.jsxs(N.Fragment,{children:[N.jsx(ba,{className:"w-5 h-5"}),y==="animate"?"Generate Video":"Generate Edit"]})})]})]}),N.jsx("div",{className:"lg:col-span-7",children:N.jsx("div",{className:"h-full bg-slate-900 border border-slate-800 rounded-2xl p-1 overflow-hidden min-h-[500px] flex flex-col",children:N.jsxs("div",{className:"flex-1 bg-slate-950 rounded-xl flex items-center justify-center relative overflow-hidden",children:[!K.isLoading&&!te&&!fe&&N.jsxs("div",{className:"text-center p-8 opacity-40",children:[N.jsx("div",{className:"w-24 h-24 bg-slate-900 rounded-full flex items-center justify-center mx-auto mb-4 border border-slate-800",children:y==="animate"?N.jsx(Wh,{className:"w-10 h-10"}):N.jsx(jh,{className:"w-10 h-10"})}),N.jsx("p",{className:"text-lg font-medium",children:"Ready to create"}),N.jsx("p",{className:"text-sm",children:"Upload an image and click Generate"})]}),K.isLoading&&N.jsx(RN,{message:K.statusMessage,subMessage:y==="animate"?"Crafting your frames...":"Painting pixels..."}),!K.isLoading&&te&&N.jsxs("div",{className:"w-full h-full flex flex-col animate-in zoom-in-95 duration-300",children:[N.jsx("div",{className:"flex-1 p-4 flex items-center justify-center",children:N.jsx("img",{src:te,alt:"Edited Result",className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl"})}),N.jsxs("div",{className:"p-4 bg-slate-900 border-t border-slate-800 flex justify-between items-center",children:[N.jsx("span",{className:"text-sm text-slate-400",children:"Enhanced Image Result"}),N.jsx("a",{href:te,download:"edited-image.png",className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm font-medium transition-colors",children:"Download Image"})]})]}),!K.isLoading&&fe&&N.jsxs("div",{className:"w-full h-full flex flex-col animate-in zoom-in-95 duration-300",children:[N.jsx("div",{className:"flex-1 bg-black flex items-center justify-center",children:N.jsx("video",{src:fe,controls:!0,loop:!0,autoPlay:!0,className:"max-w-full max-h-full",style:{aspectRatio:X.replace(":","/")}})}),N.jsxs("div",{className:"p-4 bg-slate-900 border-t border-slate-800 flex justify-between items-center",children:[N.jsxs("div",{className:"flex flex-col",children:[N.jsx("span",{className:"text-sm text-slate-300 font-medium",children:"Video Generation Result"}),N.jsx("span",{className:"text-xs text-slate-500",children:"Loop enabled"})]}),N.jsx("a",{href:fe,target:"_blank",rel:"noreferrer",className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm font-medium transition-colors",children:"Download Video"})]})]})]})})})]})}),N.jsx($N,{isOpen:o,onClose:()=>a(!1),onSubmit:Y,errorMessage:r,user:Ne})]})},eg="http://localhost:8000",eM="212074481946-sadifngeab8njbmvf1u8a6ilnvcugm7b.apps.googleusercontent.com";function tM(){rN({cookieName:"animateimage_userid",dbName:"animateimage_user"}),dN({dbName:"animateimage_events"}),yN({syncUrl:`${eg}/blink`}),WR({defaultAnimationPrompt:"Analyze this image and create a concise prompt for a video generation model to create a cinematic, loopable animation. Identify the most interesting moving element (e.g., flowing water, swaying trees, flickering light, clouds) and describe the motion. Output ONLY the description, under 30 words."}),HN({clientId:eM,apiBaseUrl:eg,storagePrefix:"animateimage_auth"})}tM();const ly=document.getElementById("root");if(!ly)throw new Error("Could not find root element to mount to");const nM=z0.createRoot(ly);nM.render(N.jsx(b0.StrictMode,{children:N.jsx(jN,{})}));
