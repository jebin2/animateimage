(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();function _g(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bu={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function eS(){if(Mm)return fl;Mm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(s,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:s,key:p,ref:r!==void 0?r:null,props:f}}return fl.Fragment=t,fl.jsx=o,fl.jsxs=o,fl}var Im;function tS(){return Im||(Im=1,bu.exports=eS()),bu.exports}var T=tS(),Ru={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function nS(){if(Dm)return de;Dm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),_=Symbol.iterator;function C(b){return b===null||typeof b!="object"?null:(b=_&&b[_]||b["@@iterator"],typeof b=="function"?b:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,L={};function G(b,q,X){this.props=b,this.context=q,this.refs=L,this.updater=X||w}G.prototype.isReactComponent={},G.prototype.setState=function(b,q){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,q,"setState")},G.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function J(){}J.prototype=G.prototype;function O(b,q,X){this.props=b,this.context=q,this.refs=L,this.updater=X||w}var Y=O.prototype=new J;Y.constructor=O,I(Y,G.prototype),Y.isPureReactComponent=!0;var te=Array.isArray;function F(){}var z={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function W(b,q,X){var ee=X.ref;return{$$typeof:i,type:b,key:q,ref:ee!==void 0?ee:null,props:X}}function fe(b,q){return W(b.type,q,b.props)}function Ee(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function ke(b){var q={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(X){return q[X]})}var _e=/\/+/g;function Ge(b,q){return typeof b=="object"&&b!==null&&b.key!=null?ke(""+b.key):q.toString(36)}function Fe(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(F,F):(b.status="pending",b.then(function(q){b.status==="pending"&&(b.status="fulfilled",b.value=q)},function(q){b.status==="pending"&&(b.status="rejected",b.reason=q)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function H(b,q,X,ee,ue){var Q=typeof b;(Q==="undefined"||Q==="boolean")&&(b=null);var re=!1;if(b===null)re=!0;else switch(Q){case"bigint":case"string":case"number":re=!0;break;case"object":switch(b.$$typeof){case i:case t:re=!0;break;case v:return re=b._init,H(re(b._payload),q,X,ee,ue)}}if(re)return ue=ue(b),re=ee===""?"."+Ge(b,0):ee,te(ue)?(X="",re!=null&&(X=re.replace(_e,"$&/")+"/"),H(ue,q,X,"",function(Yt){return Yt})):ue!=null&&(Ee(ue)&&(ue=fe(ue,X+(ue.key==null||b&&b.key===ue.key?"":(""+ue.key).replace(_e,"$&/")+"/")+re)),q.push(ue)),1;re=0;var he=ee===""?".":ee+":";if(te(b))for(var oe=0;oe<b.length;oe++)ee=b[oe],Q=he+Ge(ee,oe),re+=H(ee,q,X,Q,ue);else if(oe=C(b),typeof oe=="function")for(b=oe.call(b),oe=0;!(ee=b.next()).done;)ee=ee.value,Q=he+Ge(ee,oe++),re+=H(ee,q,X,Q,ue);else if(Q==="object"){if(typeof b.then=="function")return H(Fe(b),q,X,ee,ue);throw q=String(b),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return re}function K(b,q,X){if(b==null)return b;var ee=[],ue=0;return H(b,ee,"","",function(Q){return q.call(X,Q,ue++)}),ee}function ae(b){if(b._status===-1){var q=b._result;q=q(),q.then(function(X){(b._status===0||b._status===-1)&&(b._status=1,b._result=X)},function(X){(b._status===0||b._status===-1)&&(b._status=2,b._result=X)}),b._status===-1&&(b._status=0,b._result=q)}if(b._status===1)return b._result.default;throw b._result}var xe=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},be={map:K,forEach:function(b,q,X){K(b,function(){q.apply(this,arguments)},X)},count:function(b){var q=0;return K(b,function(){q++}),q},toArray:function(b){return K(b,function(q){return q})||[]},only:function(b){if(!Ee(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return de.Activity=E,de.Children=be,de.Component=G,de.Fragment=o,de.Profiler=r,de.PureComponent=O,de.StrictMode=s,de.Suspense=y,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,de.__COMPILER_RUNTIME={__proto__:null,c:function(b){return z.H.useMemoCache(b)}},de.cache=function(b){return function(){return b.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(b,q,X){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var ee=I({},b.props),ue=b.key;if(q!=null)for(Q in q.key!==void 0&&(ue=""+q.key),q)!le.call(q,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&q.ref===void 0||(ee[Q]=q[Q]);var Q=arguments.length-2;if(Q===1)ee.children=X;else if(1<Q){for(var re=Array(Q),he=0;he<Q;he++)re[he]=arguments[he+2];ee.children=re}return W(b.type,ue,ee)},de.createContext=function(b){return b={$$typeof:p,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},de.createElement=function(b,q,X){var ee,ue={},Q=null;if(q!=null)for(ee in q.key!==void 0&&(Q=""+q.key),q)le.call(q,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ue[ee]=q[ee]);var re=arguments.length-2;if(re===1)ue.children=X;else if(1<re){for(var he=Array(re),oe=0;oe<re;oe++)he[oe]=arguments[oe+2];ue.children=he}if(b&&b.defaultProps)for(ee in re=b.defaultProps,re)ue[ee]===void 0&&(ue[ee]=re[ee]);return W(b,Q,ue)},de.createRef=function(){return{current:null}},de.forwardRef=function(b){return{$$typeof:g,render:b}},de.isValidElement=Ee,de.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:ae}},de.memo=function(b,q){return{$$typeof:h,type:b,compare:q===void 0?null:q}},de.startTransition=function(b){var q=z.T,X={};z.T=X;try{var ee=b(),ue=z.S;ue!==null&&ue(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(F,xe)}catch(Q){xe(Q)}finally{q!==null&&X.types!==null&&(q.types=X.types),z.T=q}},de.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},de.use=function(b){return z.H.use(b)},de.useActionState=function(b,q,X){return z.H.useActionState(b,q,X)},de.useCallback=function(b,q){return z.H.useCallback(b,q)},de.useContext=function(b){return z.H.useContext(b)},de.useDebugValue=function(){},de.useDeferredValue=function(b,q){return z.H.useDeferredValue(b,q)},de.useEffect=function(b,q){return z.H.useEffect(b,q)},de.useEffectEvent=function(b){return z.H.useEffectEvent(b)},de.useId=function(){return z.H.useId()},de.useImperativeHandle=function(b,q,X){return z.H.useImperativeHandle(b,q,X)},de.useInsertionEffect=function(b,q){return z.H.useInsertionEffect(b,q)},de.useLayoutEffect=function(b,q){return z.H.useLayoutEffect(b,q)},de.useMemo=function(b,q){return z.H.useMemo(b,q)},de.useOptimistic=function(b,q){return z.H.useOptimistic(b,q)},de.useReducer=function(b,q,X){return z.H.useReducer(b,q,X)},de.useRef=function(b){return z.H.useRef(b)},de.useState=function(b){return z.H.useState(b)},de.useSyncExternalStore=function(b,q,X){return z.H.useSyncExternalStore(b,q,X)},de.useTransition=function(){return z.H.useTransition()},de.version="19.2.1",de}var Um;function rc(){return Um||(Um=1,Ru.exports=nS()),Ru.exports}var $=rc();const iS=_g($);var Mu={exports:{}},dl={},Iu={exports:{}},Du={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function oS(){return Lm||(Lm=1,(function(i){function t(H,K){var ae=H.length;H.push(K);e:for(;0<ae;){var xe=ae-1>>>1,be=H[xe];if(0<r(be,K))H[xe]=K,H[ae]=be,ae=xe;else break e}}function o(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var K=H[0],ae=H.pop();if(ae!==K){H[0]=ae;e:for(var xe=0,be=H.length,b=be>>>1;xe<b;){var q=2*(xe+1)-1,X=H[q],ee=q+1,ue=H[ee];if(0>r(X,ae))ee<be&&0>r(ue,X)?(H[xe]=ue,H[ee]=ae,xe=ee):(H[xe]=X,H[q]=ae,xe=q);else if(ee<be&&0>r(ue,ae))H[xe]=ue,H[ee]=ae,xe=ee;else break e}}return K}function r(H,K){var ae=H.sortIndex-K.sortIndex;return ae!==0?ae:H.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,E=null,_=3,C=!1,w=!1,I=!1,L=!1,G=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function Y(H){for(var K=o(h);K!==null;){if(K.callback===null)s(h);else if(K.startTime<=H)s(h),K.sortIndex=K.expirationTime,t(y,K);else break;K=o(h)}}function te(H){if(I=!1,Y(H),!w)if(o(y)!==null)w=!0,F||(F=!0,ke());else{var K=o(h);K!==null&&Fe(te,K.startTime-H)}}var F=!1,z=-1,le=5,W=-1;function fe(){return L?!0:!(i.unstable_now()-W<le)}function Ee(){if(L=!1,F){var H=i.unstable_now();W=H;var K=!0;try{e:{w=!1,I&&(I=!1,J(z),z=-1),C=!0;var ae=_;try{t:{for(Y(H),E=o(y);E!==null&&!(E.expirationTime>H&&fe());){var xe=E.callback;if(typeof xe=="function"){E.callback=null,_=E.priorityLevel;var be=xe(E.expirationTime<=H);if(H=i.unstable_now(),typeof be=="function"){E.callback=be,Y(H),K=!0;break t}E===o(y)&&s(y),Y(H)}else s(y);E=o(y)}if(E!==null)K=!0;else{var b=o(h);b!==null&&Fe(te,b.startTime-H),K=!1}}break e}finally{E=null,_=ae,C=!1}K=void 0}}finally{K?ke():F=!1}}}var ke;if(typeof O=="function")ke=function(){O(Ee)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Ge=_e.port2;_e.port1.onmessage=Ee,ke=function(){Ge.postMessage(null)}}else ke=function(){G(Ee,0)};function Fe(H,K){z=G(function(){H(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(H){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var ae=_;_=K;try{return H()}finally{_=ae}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=_;_=H;try{return K()}finally{_=ae}},i.unstable_scheduleCallback=function(H,K,ae){var xe=i.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?xe+ae:xe):ae=xe,H){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ae+be,H={id:v++,callback:K,priorityLevel:H,startTime:ae,expirationTime:be,sortIndex:-1},ae>xe?(H.sortIndex=ae,t(h,H),o(y)===null&&H===o(h)&&(I?(J(z),z=-1):I=!0,Fe(te,ae-xe))):(H.sortIndex=be,t(y,H),w||C||(w=!0,F||(F=!0,ke()))),H},i.unstable_shouldYield=fe,i.unstable_wrapCallback=function(H){var K=_;return function(){var ae=_;_=K;try{return H.apply(this,arguments)}finally{_=ae}}}})(Du)),Du}var km;function lS(){return km||(km=1,Iu.exports=oS()),Iu.exports}var Uu={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function sS(){if(Gm)return ot;Gm=1;var i=rc();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ot.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return f(y,h,null,v)},ot.flushSync=function(y){var h=p.T,v=s.p;try{if(p.T=null,s.p=2,y)return y()}finally{p.T=h,s.p=v,s.d.f()}},ot.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(y,h))},ot.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ot.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?s.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:E,integrity:_,fetchPriority:C}):v==="script"&&s.d.X(y,{crossOrigin:E,integrity:_,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ot.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(y)},ot.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin);s.d.L(y,v,{crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ot.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);s.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(y)},ot.requestFormReset=function(y){s.d.r(y)},ot.unstable_batchedUpdates=function(y,h){return y(h)},ot.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},ot.useFormStatus=function(){return p.H.useHostTransitionStatus()},ot.version="19.2.1",ot}var Hm;function xg(){if(Hm)return Uu.exports;Hm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Uu.exports=sS(),Uu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function aS(){if(Vm)return dl;Vm=1;var i=lS(),t=rc(),o=xg();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(s(188))}function h(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,a=n;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(a=d.return,a!==null){l=a;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return y(d),e;if(m===a)return y(d),n;m=m.sibling}throw Error(s(188))}if(l.return!==a.return)l=d,a=m;else{for(var S=!1,x=d.child;x;){if(x===l){S=!0,l=d,a=m;break}if(x===a){S=!0,a=d,l=m;break}x=x.sibling}if(!S){for(x=m.child;x;){if(x===l){S=!0,l=m,a=d;break}if(x===a){S=!0,a=m,l=d;break}x=x.sibling}if(!S)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,_=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),O=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function ke(e){return e===null||typeof e!="object"?null:(e=Ee&&e[Ee]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Symbol.for("react.client.reference");function Ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I:return"Fragment";case G:return"Profiler";case L:return"StrictMode";case te:return"Suspense";case F:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case O:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case Y:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return n=e.displayName||null,n!==null?n:Ge(e.type)||"Memo";case le:n=e._payload,e=e._init;try{return Ge(e(n))}catch{}}return null}var Fe=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},xe=[],be=-1;function b(e){return{current:e}}function q(e){0>be||(e.current=xe[be],xe[be]=null,be--)}function X(e,n){be++,xe[be]=e.current,e.current=n}var ee=b(null),ue=b(null),Q=b(null),re=b(null);function he(e,n){switch(X(Q,n),X(ue,e),X(ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?jp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=jp(n),e=em(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(ee),X(ee,e)}function oe(){q(ee),q(ue),q(Q)}function Yt(e){e.memoizedState!==null&&X(re,e);var n=ee.current,l=em(n,e.type);n!==l&&(X(ue,e),X(ee,l))}function wt(e){ue.current===e&&(q(ee),q(ue)),re.current===e&&(q(re),al._currentValue=ae)}var vo,bc;function Qn(e){if(vo===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);vo=n&&n[1]||"",bc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vo+e+bc}var fa=!1;function da(e,n){if(!e||fa)return"";fa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(k){var U=k}Reflect.construct(e,[],B)}else{try{B.call()}catch(k){U=k}e.call(B.prototype)}}else{try{throw Error()}catch(k){U=k}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(k){if(k&&U&&typeof k.stack=="string")return[k.stack,U.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=a.DetermineComponentFrameRoot(),S=m[0],x=m[1];if(S&&x){var A=S.split(`
`),D=x.split(`
`);for(d=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(a===A.length||d===D.length)for(a=A.length-1,d=D.length-1;1<=a&&0<=d&&A[a]!==D[d];)d--;for(;1<=a&&0<=d;a--,d--)if(A[a]!==D[d]){if(a!==1||d!==1)do if(a--,d--,0>d||A[a]!==D[d]){var V=`
`+A[a].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=a&&0<=d);break}}}finally{fa=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Qn(l):""}function I0(e,n){switch(e.tag){case 26:case 27:case 5:return Qn(e.type);case 16:return Qn("Lazy");case 13:return e.child!==n&&n!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return da(e.type,!1);case 11:return da(e.type.render,!1);case 1:return da(e.type,!0);case 31:return Qn("Activity");default:return""}}function Rc(e){try{var n="",l=null;do n+=I0(e,l),l=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var pa=Object.prototype.hasOwnProperty,ma=i.unstable_scheduleCallback,ha=i.unstable_cancelCallback,D0=i.unstable_shouldYield,U0=i.unstable_requestPaint,gt=i.unstable_now,L0=i.unstable_getCurrentPriorityLevel,Mc=i.unstable_ImmediatePriority,Ic=i.unstable_UserBlockingPriority,Sl=i.unstable_NormalPriority,k0=i.unstable_LowPriority,Dc=i.unstable_IdlePriority,G0=i.log,H0=i.unstable_setDisableYieldValue,So=null,yt=null;function Tn(e){if(typeof G0=="function"&&H0(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(So,e)}catch{}}var vt=Math.clz32?Math.clz32:B0,V0=Math.log,P0=Math.LN2;function B0(e){return e>>>=0,e===0?32:31-(V0(e)/P0|0)|0}var Tl=256,El=262144,_l=4194304;function Zn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xl(e,n,l){var a=e.pendingLanes;if(a===0)return 0;var d=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var x=a&134217727;return x!==0?(a=x&~m,a!==0?d=Zn(a):(S&=x,S!==0?d=Zn(S):l||(l=x&~e,l!==0&&(d=Zn(l))))):(x=a&~m,x!==0?d=Zn(x):S!==0?d=Zn(S):l||(l=a&~e,l!==0&&(d=Zn(l)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:d}function To(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function q0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uc(){var e=_l;return _l<<=1,(_l&62914560)===0&&(_l=4194304),e}function ga(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Eo(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function z0(e,n,l,a,d,m){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var x=e.entanglements,A=e.expirationTimes,D=e.hiddenUpdates;for(l=S&~l;0<l;){var V=31-vt(l),B=1<<V;x[V]=0,A[V]=-1;var U=D[V];if(U!==null)for(D[V]=null,V=0;V<U.length;V++){var k=U[V];k!==null&&(k.lane&=-536870913)}l&=~B}a!==0&&Lc(e,a,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~n))}function Lc(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-vt(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function kc(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var a=31-vt(l),d=1<<a;d&n|e[a]&n&&(e[a]|=n),l&=~d}}function Gc(e,n){var l=n&-n;return l=(l&42)!==0?1:ya(l),(l&(e.suspendedLanes|n))!==0?0:l}function ya(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function va(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hc(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:xm(e.type))}function Vc(e,n){var l=K.p;try{return K.p=e,n()}finally{K.p=l}}var En=Math.random().toString(36).slice(2),je="__reactFiber$"+En,ut="__reactProps$"+En,Ti="__reactContainer$"+En,Sa="__reactEvents$"+En,O0="__reactListeners$"+En,F0="__reactHandles$"+En,Pc="__reactResources$"+En,_o="__reactMarker$"+En;function Ta(e){delete e[je],delete e[ut],delete e[Sa],delete e[O0],delete e[F0]}function Ei(e){var n=e[je];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Ti]||l[je]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=am(e);e!==null;){if(l=e[je])return l;e=am(e)}return n}e=l,l=e.parentNode}return null}function _i(e){if(e=e[je]||e[Ti]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function xi(e){var n=e[Pc];return n||(n=e[Pc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ze(e){e[_o]=!0}var Bc=new Set,qc={};function $n(e,n){Ci(e,n),Ci(e+"Capture",n)}function Ci(e,n){for(qc[e]=n,e=0;e<n.length;e++)Bc.add(n[e])}var J0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Oc={};function Y0(e){return pa.call(Oc,e)?!0:pa.call(zc,e)?!1:J0.test(e)?Oc[e]=!0:(zc[e]=!0,!1)}function Cl(e,n,l){if(Y0(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Al(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function Wt(e,n,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+a)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function K0(e,n,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ea(e){if(!e._valueTracker){var n=Fc(e)?"checked":"value";e._valueTracker=K0(e,n,""+e[n])}}function Jc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),a="";return e&&(a=Fc(e)?e.checked?"true":"false":e.value),e=a,e!==l?(n.setValue(e),!0):!1}function wl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var X0=/[\n"\\]/g;function bt(e){return e.replace(X0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _a(e,n,l,a,d,m,S,x){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Nt(n)):e.value!==""+Nt(n)&&(e.value=""+Nt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?xa(e,S,Nt(n)):l!=null?xa(e,S,Nt(l)):a!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Nt(x):e.removeAttribute("name")}function Yc(e,n,l,a,d,m,S,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Ea(e);return}l=l!=null?""+Nt(l):"",n=n!=null?""+Nt(n):l,x||n===e.value||(e.value=n),e.defaultValue=n}a=a??d,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=x?e.checked:!!a,e.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Ea(e)}function xa(e,n,l){n==="number"&&wl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ai(e,n,l,a){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Nt(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Kc(e,n,l){if(n!=null&&(n=""+Nt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Nt(l):""}function Xc(e,n,l,a){if(n==null){if(a!=null){if(l!=null)throw Error(s(92));if(Fe(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),n=l}l=Nt(n),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Ea(e)}function wi(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Q0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qc(e,n,l){var a=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,l):typeof l!="number"||l===0||Q0.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Zc(e,n,l){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var d in n)a=n[d],n.hasOwnProperty(d)&&l[d]!==a&&Qc(e,d,a)}else for(var m in n)n.hasOwnProperty(m)&&Qc(e,m,n[m])}function Ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(e){return $0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jt(){}var Aa=null;function wa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,bi=null;function $c(e){var n=_i(e);if(n&&(e=n.stateNode)){var l=e[ut]||null;e:switch(e=n.stateNode,n.type){case"input":if(_a(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+bt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var a=l[n];if(a!==e&&a.form===e.form){var d=a[ut]||null;if(!d)throw Error(s(90));_a(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)a=l[n],a.form===e.form&&Jc(a)}break e;case"textarea":Kc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Ai(e,!!l.multiple,n,!1)}}}var Na=!1;function Wc(e,n,l){if(Na)return e(n,l);Na=!0;try{var a=e(n);return a}finally{if(Na=!1,(Ni!==null||bi!==null)&&(ms(),Ni&&(n=Ni,e=bi,bi=Ni=null,$c(n),e)))for(n=0;n<e.length;n++)$c(e[n])}}function Co(e,n){var l=e.stateNode;if(l===null)return null;var a=l[ut]||null;if(a===null)return null;l=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(en)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){ba=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{ba=!1}var _n=null,Ra=null,bl=null;function jc(){if(bl)return bl;var e,n=Ra,l=n.length,a,d="value"in _n?_n.value:_n.textContent,m=d.length;for(e=0;e<l&&n[e]===d[e];e++);var S=l-e;for(a=1;a<=S&&n[l-a]===d[m-a];a++);return bl=d.slice(e,1<a?1-a:void 0)}function Rl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function ef(){return!1}function ct(e){function n(l,a,d,m,S){this._reactName=l,this._targetInst=d,this.type=a,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(l=e[x],this[x]=l?l(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ml:ef,this.isPropagationStopped=ef,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),n}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=ct(Wn),wo=E({},Wn,{view:0,detail:0}),W0=ct(wo),Ma,Ia,No,Dl=E({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==No&&(No&&e.type==="mousemove"?(Ma=e.screenX-No.screenX,Ia=e.screenY-No.screenY):Ia=Ma=0,No=e),Ma)},movementY:function(e){return"movementY"in e?e.movementY:Ia}}),tf=ct(Dl),j0=E({},Dl,{dataTransfer:0}),ey=ct(j0),ty=E({},wo,{relatedTarget:0}),Da=ct(ty),ny=E({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),iy=ct(ny),oy=E({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ly=ct(oy),sy=E({},Wn,{data:0}),nf=ct(sy),ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ry={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uy[e])?!!n[e]:!1}function Ua(){return cy}var fy=E({},wo,{key:function(e){if(e.key){var n=ay[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ry[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(e){return e.type==="keypress"?Rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dy=ct(fy),py=E({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=ct(py),my=E({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),hy=ct(my),gy=E({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),yy=ct(gy),vy=E({},Dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sy=ct(vy),Ty=E({},Wn,{newState:0,oldState:0}),Ey=ct(Ty),_y=[9,13,27,32],La=en&&"CompositionEvent"in window,bo=null;en&&"documentMode"in document&&(bo=document.documentMode);var xy=en&&"TextEvent"in window&&!bo,lf=en&&(!La||bo&&8<bo&&11>=bo),sf=" ",af=!1;function rf(e,n){switch(e){case"keyup":return _y.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ri=!1;function Cy(e,n){switch(e){case"compositionend":return uf(n);case"keypress":return n.which!==32?null:(af=!0,sf);case"textInput":return e=n.data,e===sf&&af?null:e;default:return null}}function Ay(e,n){if(Ri)return e==="compositionend"||!La&&rf(e,n)?(e=jc(),bl=Ra=_n=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return lf&&n.locale!=="ko"?null:n.data;default:return null}}var wy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!wy[e.type]:n==="textarea"}function ff(e,n,l,a){Ni?bi?bi.push(a):bi=[a]:Ni=a,n=Es(n,"onChange"),0<n.length&&(l=new Il("onChange","change",null,l,a),e.push({event:l,listeners:n}))}var Ro=null,Mo=null;function Ny(e){Kp(e,0)}function Ul(e){var n=xo(e);if(Jc(n))return e}function df(e,n){if(e==="change")return n}var pf=!1;if(en){var ka;if(en){var Ga="oninput"in document;if(!Ga){var mf=document.createElement("div");mf.setAttribute("oninput","return;"),Ga=typeof mf.oninput=="function"}ka=Ga}else ka=!1;pf=ka&&(!document.documentMode||9<document.documentMode)}function hf(){Ro&&(Ro.detachEvent("onpropertychange",gf),Mo=Ro=null)}function gf(e){if(e.propertyName==="value"&&Ul(Mo)){var n=[];ff(n,Mo,e,wa(e)),Wc(Ny,n)}}function by(e,n,l){e==="focusin"?(hf(),Ro=n,Mo=l,Ro.attachEvent("onpropertychange",gf)):e==="focusout"&&hf()}function Ry(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ul(Mo)}function My(e,n){if(e==="click")return Ul(n)}function Iy(e,n){if(e==="input"||e==="change")return Ul(n)}function Dy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var St=typeof Object.is=="function"?Object.is:Dy;function Io(e,n){if(St(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),a=Object.keys(n);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var d=l[a];if(!pa.call(n,d)||!St(e[d],n[d]))return!1}return!0}function yf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vf(e,n){var l=yf(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=n&&a>=n)return{node:l,offset:n-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=yf(l)}}function Sf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=wl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=wl(e.document)}return n}function Ha(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Uy=en&&"documentMode"in document&&11>=document.documentMode,Mi=null,Va=null,Do=null,Pa=!1;function Ef(e,n,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pa||Mi==null||Mi!==wl(a)||(a=Mi,"selectionStart"in a&&Ha(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Do&&Io(Do,a)||(Do=a,a=Es(Va,"onSelect"),0<a.length&&(n=new Il("onSelect","select",null,n,l),e.push({event:n,listeners:a}),n.target=Mi)))}function jn(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ii={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionrun:jn("Transition","TransitionRun"),transitionstart:jn("Transition","TransitionStart"),transitioncancel:jn("Transition","TransitionCancel"),transitionend:jn("Transition","TransitionEnd")},Ba={},_f={};en&&(_f=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function ei(e){if(Ba[e])return Ba[e];if(!Ii[e])return e;var n=Ii[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in _f)return Ba[e]=n[l];return e}var xf=ei("animationend"),Cf=ei("animationiteration"),Af=ei("animationstart"),Ly=ei("transitionrun"),ky=ei("transitionstart"),Gy=ei("transitioncancel"),wf=ei("transitionend"),Nf=new Map,qa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qa.push("scrollEnd");function Pt(e,n){Nf.set(e,n),$n(n,[e])}var Ll=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rt=[],Di=0,za=0;function kl(){for(var e=Di,n=za=Di=0;n<e;){var l=Rt[n];Rt[n++]=null;var a=Rt[n];Rt[n++]=null;var d=Rt[n];Rt[n++]=null;var m=Rt[n];if(Rt[n++]=null,a!==null&&d!==null){var S=a.pending;S===null?d.next=d:(d.next=S.next,S.next=d),a.pending=d}m!==0&&bf(l,d,m)}}function Gl(e,n,l,a){Rt[Di++]=e,Rt[Di++]=n,Rt[Di++]=l,Rt[Di++]=a,za|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Oa(e,n,l,a){return Gl(e,n,l,a),Hl(e)}function ti(e,n){return Gl(e,null,null,n),Hl(e)}function bf(e,n,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,a=m.alternate,a!==null&&(a.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-vt(l),e=m.hiddenUpdates,a=e[d],a===null?e[d]=[n]:a.push(n),n.lane=l|536870912),m):null}function Hl(e){if(50<el)throw el=0,Wr=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ui={};function Hy(e,n,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,n,l,a){return new Hy(e,n,l,a)}function Fa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tn(e,n){var l=e.alternate;return l===null?(l=Tt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Rf(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Vl(e,n,l,a,d,m){var S=0;if(a=e,typeof e=="function")Fa(e)&&(S=1);else if(typeof e=="string")S=zv(e,l,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Tt(31,l,n,d),e.elementType=W,e.lanes=m,e;case I:return ni(l.children,d,m,n);case L:S=8,d|=24;break;case G:return e=Tt(12,l,n,d|2),e.elementType=G,e.lanes=m,e;case te:return e=Tt(13,l,n,d),e.elementType=te,e.lanes=m,e;case F:return e=Tt(19,l,n,d),e.elementType=F,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:S=10;break e;case J:S=9;break e;case Y:S=11;break e;case z:S=14;break e;case le:S=16,a=null;break e}S=29,l=Error(s(130,e===null?"null":typeof e,"")),a=null}return n=Tt(S,l,n,d),n.elementType=e,n.type=a,n.lanes=m,n}function ni(e,n,l,a){return e=Tt(7,e,a,n),e.lanes=l,e}function Ja(e,n,l){return e=Tt(6,e,null,n),e.lanes=l,e}function Mf(e){var n=Tt(18,null,null,0);return n.stateNode=e,n}function Ya(e,n,l){return n=Tt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var If=new WeakMap;function Mt(e,n){if(typeof e=="object"&&e!==null){var l=If.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Rc(n)},If.set(e,n),n)}return{value:e,source:n,stack:Rc(n)}}var Li=[],ki=0,Pl=null,Uo=0,It=[],Dt=0,xn=null,Kt=1,Xt="";function nn(e,n){Li[ki++]=Uo,Li[ki++]=Pl,Pl=e,Uo=n}function Df(e,n,l){It[Dt++]=Kt,It[Dt++]=Xt,It[Dt++]=xn,xn=e;var a=Kt;e=Xt;var d=32-vt(a)-1;a&=~(1<<d),l+=1;var m=32-vt(n)+d;if(30<m){var S=d-d%5;m=(a&(1<<S)-1).toString(32),a>>=S,d-=S,Kt=1<<32-vt(n)+d|l<<d|a,Xt=m+e}else Kt=1<<m|l<<d|a,Xt=e}function Ka(e){e.return!==null&&(nn(e,1),Df(e,1,0))}function Xa(e){for(;e===Pl;)Pl=Li[--ki],Li[ki]=null,Uo=Li[--ki],Li[ki]=null;for(;e===xn;)xn=It[--Dt],It[Dt]=null,Xt=It[--Dt],It[Dt]=null,Kt=It[--Dt],It[Dt]=null}function Uf(e,n){It[Dt++]=Kt,It[Dt++]=Xt,It[Dt++]=xn,Kt=n.id,Xt=n.overflow,xn=e}var et=null,He=null,Te=!1,Cn=null,Ut=!1,Qa=Error(s(519));function An(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(Mt(n,e)),Qa}function Lf(e){var n=e.stateNode,l=e.type,a=e.memoizedProps;switch(n[je]=e,n[ut]=a,l){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(l=0;l<nl.length;l++)ye(nl[l],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":ye("invalid",n),Yc(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ye("invalid",n);break;case"textarea":ye("invalid",n),Xc(n,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||a.suppressHydrationWarning===!0||$p(n.textContent,l)?(a.popover!=null&&(ye("beforetoggle",n),ye("toggle",n)),a.onScroll!=null&&ye("scroll",n),a.onScrollEnd!=null&&ye("scrollend",n),a.onClick!=null&&(n.onclick=jt),n=!0):n=!1,n||An(e,!0)}function kf(e){for(et=e.return;et;)switch(et.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:et=et.return}}function Gi(e){if(e!==et)return!1;if(!Te)return kf(e),Te=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||pu(e.type,e.memoizedProps)),l=!l),l&&He&&An(e),kf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));He=sm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));He=sm(e)}else n===27?(n=He,Pn(e.type)?(e=vu,vu=null,He=e):He=n):He=et?kt(e.stateNode.nextSibling):null;return!0}function ii(){He=et=null,Te=!1}function Za(){var e=Cn;return e!==null&&(mt===null?mt=e:mt.push.apply(mt,e),Cn=null),e}function Lo(e){Cn===null?Cn=[e]:Cn.push(e)}var $a=b(null),oi=null,on=null;function wn(e,n,l){X($a,n._currentValue),n._currentValue=l}function ln(e){e._currentValue=$a.current,q($a)}function Wa(e,n,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===l)break;e=e.return}}function ja(e,n,l,a){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var S=d.child;m=m.firstContext;e:for(;m!==null;){var x=m;m=d;for(var A=0;A<n.length;A++)if(x.context===n[A]){m.lanes|=l,x=m.alternate,x!==null&&(x.lanes|=l),Wa(m.return,l,e),a||(S=null);break e}m=x.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(s(341));S.lanes|=l,m=S.alternate,m!==null&&(m.lanes|=l),Wa(S,l,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Hi(e,n,l,a){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var x=d.type;St(d.pendingProps.value,S.value)||(e!==null?e.push(x):e=[x])}}else if(d===re.current){if(S=d.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}d=d.return}e!==null&&ja(n,e,l,a),n.flags|=262144}function Bl(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function li(e){oi=e,on=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tt(e){return Gf(oi,e)}function ql(e,n){return oi===null&&li(e),Gf(e,n)}function Gf(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},on===null){if(e===null)throw Error(s(308));on=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else on=on.next=n;return l}var Vy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Py=i.unstable_scheduleCallback,By=i.unstable_NormalPriority,Je={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function er(){return{controller:new Vy,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&Py(By,function(){e.controller.abort()})}var Go=null,tr=0,Vi=0,Pi=null;function qy(e,n){if(Go===null){var l=Go=[];tr=0,Vi=ou(),Pi={status:"pending",value:void 0,then:function(a){l.push(a)}}}return tr++,n.then(Hf,Hf),n}function Hf(){if(--tr===0&&Go!==null){Pi!==null&&(Pi.status="fulfilled");var e=Go;Go=null,Vi=0,Pi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function zy(e,n){var l=[],a={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(a.status="rejected",a.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),a}var Vf=H.S;H.S=function(e,n){Ep=gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&qy(e,n),Vf!==null&&Vf(e,n)};var si=b(null);function nr(){var e=si.current;return e!==null?e:Le.pooledCache}function zl(e,n){n===null?X(si,si.current):X(si,n.pool)}function Pf(){var e=nr();return e===null?null:{parent:Je._currentValue,pool:e}}var Bi=Error(s(460)),ir=Error(s(474)),Ol=Error(s(542)),Fl={then:function(){}};function Bf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qf(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(jt,jt),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Of(e),e;default:if(typeof n.status=="string")n.then(jt,jt);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=a}},function(a){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Of(e),e}throw ri=n,Bi}}function ai(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ri=l,Bi):l}}var ri=null;function zf(){if(ri===null)throw Error(s(459));var e=ri;return ri=null,e}function Of(e){if(e===Bi||e===Ol)throw Error(s(483))}var qi=null,Ho=0;function Jl(e){var n=Ho;return Ho+=1,qi===null&&(qi=[]),qf(qi,e,n)}function Vo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Yl(e,n){throw n.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ff(e){function n(R,N){if(e){var M=R.deletions;M===null?(R.deletions=[N],R.flags|=16):M.push(N)}}function l(R,N){if(!e)return null;for(;N!==null;)n(R,N),N=N.sibling;return null}function a(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function d(R,N){return R=tn(R,N),R.index=0,R.sibling=null,R}function m(R,N,M){return R.index=M,e?(M=R.alternate,M!==null?(M=M.index,M<N?(R.flags|=67108866,N):M):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function S(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function x(R,N,M,P){return N===null||N.tag!==6?(N=Ja(M,R.mode,P),N.return=R,N):(N=d(N,M),N.return=R,N)}function A(R,N,M,P){var ie=M.type;return ie===I?V(R,N,M.props.children,P,M.key):N!==null&&(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===le&&ai(ie)===N.type)?(N=d(N,M.props),Vo(N,M),N.return=R,N):(N=Vl(M.type,M.key,M.props,null,R.mode,P),Vo(N,M),N.return=R,N)}function D(R,N,M,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==M.containerInfo||N.stateNode.implementation!==M.implementation?(N=Ya(M,R.mode,P),N.return=R,N):(N=d(N,M.children||[]),N.return=R,N)}function V(R,N,M,P,ie){return N===null||N.tag!==7?(N=ni(M,R.mode,P,ie),N.return=R,N):(N=d(N,M),N.return=R,N)}function B(R,N,M){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ja(""+N,R.mode,M),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return M=Vl(N.type,N.key,N.props,null,R.mode,M),Vo(M,N),M.return=R,M;case w:return N=Ya(N,R.mode,M),N.return=R,N;case le:return N=ai(N),B(R,N,M)}if(Fe(N)||ke(N))return N=ni(N,R.mode,M,null),N.return=R,N;if(typeof N.then=="function")return B(R,Jl(N),M);if(N.$$typeof===O)return B(R,ql(R,N),M);Yl(R,N)}return null}function U(R,N,M,P){var ie=N!==null?N.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ie!==null?null:x(R,N,""+M,P);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return M.key===ie?A(R,N,M,P):null;case w:return M.key===ie?D(R,N,M,P):null;case le:return M=ai(M),U(R,N,M,P)}if(Fe(M)||ke(M))return ie!==null?null:V(R,N,M,P,null);if(typeof M.then=="function")return U(R,N,Jl(M),P);if(M.$$typeof===O)return U(R,N,ql(R,M),P);Yl(R,M)}return null}function k(R,N,M,P,ie){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return R=R.get(M)||null,x(N,R,""+P,ie);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return R=R.get(P.key===null?M:P.key)||null,A(N,R,P,ie);case w:return R=R.get(P.key===null?M:P.key)||null,D(N,R,P,ie);case le:return P=ai(P),k(R,N,M,P,ie)}if(Fe(P)||ke(P))return R=R.get(M)||null,V(N,R,P,ie,null);if(typeof P.then=="function")return k(R,N,M,Jl(P),ie);if(P.$$typeof===O)return k(R,N,M,ql(N,P),ie);Yl(N,P)}return null}function j(R,N,M,P){for(var ie=null,Ce=null,ne=N,me=N=0,Se=null;ne!==null&&me<M.length;me++){ne.index>me?(Se=ne,ne=null):Se=ne.sibling;var Ae=U(R,ne,M[me],P);if(Ae===null){ne===null&&(ne=Se);break}e&&ne&&Ae.alternate===null&&n(R,ne),N=m(Ae,N,me),Ce===null?ie=Ae:Ce.sibling=Ae,Ce=Ae,ne=Se}if(me===M.length)return l(R,ne),Te&&nn(R,me),ie;if(ne===null){for(;me<M.length;me++)ne=B(R,M[me],P),ne!==null&&(N=m(ne,N,me),Ce===null?ie=ne:Ce.sibling=ne,Ce=ne);return Te&&nn(R,me),ie}for(ne=a(ne);me<M.length;me++)Se=k(ne,R,me,M[me],P),Se!==null&&(e&&Se.alternate!==null&&ne.delete(Se.key===null?me:Se.key),N=m(Se,N,me),Ce===null?ie=Se:Ce.sibling=Se,Ce=Se);return e&&ne.forEach(function(Fn){return n(R,Fn)}),Te&&nn(R,me),ie}function se(R,N,M,P){if(M==null)throw Error(s(151));for(var ie=null,Ce=null,ne=N,me=N=0,Se=null,Ae=M.next();ne!==null&&!Ae.done;me++,Ae=M.next()){ne.index>me?(Se=ne,ne=null):Se=ne.sibling;var Fn=U(R,ne,Ae.value,P);if(Fn===null){ne===null&&(ne=Se);break}e&&ne&&Fn.alternate===null&&n(R,ne),N=m(Fn,N,me),Ce===null?ie=Fn:Ce.sibling=Fn,Ce=Fn,ne=Se}if(Ae.done)return l(R,ne),Te&&nn(R,me),ie;if(ne===null){for(;!Ae.done;me++,Ae=M.next())Ae=B(R,Ae.value,P),Ae!==null&&(N=m(Ae,N,me),Ce===null?ie=Ae:Ce.sibling=Ae,Ce=Ae);return Te&&nn(R,me),ie}for(ne=a(ne);!Ae.done;me++,Ae=M.next())Ae=k(ne,R,me,Ae.value,P),Ae!==null&&(e&&Ae.alternate!==null&&ne.delete(Ae.key===null?me:Ae.key),N=m(Ae,N,me),Ce===null?ie=Ae:Ce.sibling=Ae,Ce=Ae);return e&&ne.forEach(function(jv){return n(R,jv)}),Te&&nn(R,me),ie}function Ue(R,N,M,P){if(typeof M=="object"&&M!==null&&M.type===I&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case C:e:{for(var ie=M.key;N!==null;){if(N.key===ie){if(ie=M.type,ie===I){if(N.tag===7){l(R,N.sibling),P=d(N,M.props.children),P.return=R,R=P;break e}}else if(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===le&&ai(ie)===N.type){l(R,N.sibling),P=d(N,M.props),Vo(P,M),P.return=R,R=P;break e}l(R,N);break}else n(R,N);N=N.sibling}M.type===I?(P=ni(M.props.children,R.mode,P,M.key),P.return=R,R=P):(P=Vl(M.type,M.key,M.props,null,R.mode,P),Vo(P,M),P.return=R,R=P)}return S(R);case w:e:{for(ie=M.key;N!==null;){if(N.key===ie)if(N.tag===4&&N.stateNode.containerInfo===M.containerInfo&&N.stateNode.implementation===M.implementation){l(R,N.sibling),P=d(N,M.children||[]),P.return=R,R=P;break e}else{l(R,N);break}else n(R,N);N=N.sibling}P=Ya(M,R.mode,P),P.return=R,R=P}return S(R);case le:return M=ai(M),Ue(R,N,M,P)}if(Fe(M))return j(R,N,M,P);if(ke(M)){if(ie=ke(M),typeof ie!="function")throw Error(s(150));return M=ie.call(M),se(R,N,M,P)}if(typeof M.then=="function")return Ue(R,N,Jl(M),P);if(M.$$typeof===O)return Ue(R,N,ql(R,M),P);Yl(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,N!==null&&N.tag===6?(l(R,N.sibling),P=d(N,M),P.return=R,R=P):(l(R,N),P=Ja(M,R.mode,P),P.return=R,R=P),S(R)):l(R,N)}return function(R,N,M,P){try{Ho=0;var ie=Ue(R,N,M,P);return qi=null,ie}catch(ne){if(ne===Bi||ne===Ol)throw ne;var Ce=Tt(29,ne,null,R.mode);return Ce.lanes=P,Ce.return=R,Ce}finally{}}}var ui=Ff(!0),Jf=Ff(!1),Nn=!1;function or(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rn(e,n,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ne&2)!==0){var d=a.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),a.pending=n,n=Hl(e),bf(e,null,l),n}return Gl(e,a,n,l),Hl(e)}function Po(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,kc(e,l)}}function sr(e,n){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?d=m=n:m=m.next=n}else d=m=n;l={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var ar=!1;function Bo(){if(ar){var e=Pi;if(e!==null)throw e}}function qo(e,n,l,a){ar=!1;var d=e.updateQueue;Nn=!1;var m=d.firstBaseUpdate,S=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var A=x,D=A.next;A.next=null,S===null?m=D:S.next=D,S=A;var V=e.alternate;V!==null&&(V=V.updateQueue,x=V.lastBaseUpdate,x!==S&&(x===null?V.firstBaseUpdate=D:x.next=D,V.lastBaseUpdate=A))}if(m!==null){var B=d.baseState;S=0,V=D=A=null,x=m;do{var U=x.lane&-536870913,k=U!==x.lane;if(k?(ve&U)===U:(a&U)===U){U!==0&&U===Vi&&(ar=!0),V!==null&&(V=V.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var j=e,se=x;U=n;var Ue=l;switch(se.tag){case 1:if(j=se.payload,typeof j=="function"){B=j.call(Ue,B,U);break e}B=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=se.payload,U=typeof j=="function"?j.call(Ue,B,U):j,U==null)break e;B=E({},B,U);break e;case 2:Nn=!0}}U=x.callback,U!==null&&(e.flags|=64,k&&(e.flags|=8192),k=d.callbacks,k===null?d.callbacks=[U]:k.push(U))}else k={lane:U,tag:x.tag,payload:x.payload,callback:x.callback,next:null},V===null?(D=V=k,A=B):V=V.next=k,S|=U;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;k=x,x=k.next,k.next=null,d.lastBaseUpdate=k,d.shared.pending=null}}while(!0);V===null&&(A=B),d.baseState=A,d.firstBaseUpdate=D,d.lastBaseUpdate=V,m===null&&(d.shared.lanes=0),Ln|=S,e.lanes=S,e.memoizedState=B}}function Yf(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Kf(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Yf(l[e],n)}var zi=b(null),Kl=b(0);function Xf(e,n){e=mn,X(Kl,e),X(zi,n),mn=e|n.baseLanes}function rr(){X(Kl,mn),X(zi,zi.current)}function ur(){mn=Kl.current,q(zi),q(Kl)}var Et=b(null),Lt=null;function Mn(e){var n=e.alternate;X(ze,ze.current&1),X(Et,e),Lt===null&&(n===null||zi.current!==null||n.memoizedState!==null)&&(Lt=e)}function cr(e){X(ze,ze.current),X(Et,e),Lt===null&&(Lt=e)}function Qf(e){e.tag===22?(X(ze,ze.current),X(Et,e),Lt===null&&(Lt=e)):In()}function In(){X(ze,ze.current),X(Et,Et.current)}function _t(e){q(Et),Lt===e&&(Lt=null),q(ze)}var ze=b(0);function Xl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||gu(l)||yu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var sn=0,pe=null,Ie=null,Ye=null,Ql=!1,Oi=!1,ci=!1,Zl=0,zo=0,Fi=null,Oy=0;function Be(){throw Error(s(321))}function fr(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!St(e[l],n[l]))return!1;return!0}function dr(e,n,l,a,d,m){return sn=m,pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Dd:Nr,ci=!1,m=l(a,d),ci=!1,Oi&&(m=$f(n,l,a,d)),Zf(e),m}function Zf(e){H.H=Jo;var n=Ie!==null&&Ie.next!==null;if(sn=0,Ye=Ie=pe=null,Ql=!1,zo=0,Fi=null,n)throw Error(s(300));e===null||Ke||(e=e.dependencies,e!==null&&Bl(e)&&(Ke=!0))}function $f(e,n,l,a){pe=e;var d=0;do{if(Oi&&(Fi=null),zo=0,Oi=!1,25<=d)throw Error(s(301));if(d+=1,Ye=Ie=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=Ud,m=n(l,a)}while(Oi);return m}function Fy(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Oo(n):n,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(pe.flags|=1024),n}function pr(){var e=Zl!==0;return Zl=0,e}function mr(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function hr(e){if(Ql){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ql=!1}sn=0,Ye=Ie=pe=null,Oi=!1,zo=Zl=0,Fi=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?pe.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Oe(){if(Ie===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var n=Ye===null?pe.memoizedState:Ye.next;if(n!==null)Ye=n,Ie=e;else{if(e===null)throw pe.alternate===null?Error(s(467)):Error(s(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ye===null?pe.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function $l(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(e){var n=zo;return zo+=1,Fi===null&&(Fi=[]),e=qf(Fi,e,n),n=pe,(Ye===null?n.memoizedState:Ye.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Dd:Nr),e}function Wl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Oo(e);if(e.$$typeof===O)return tt(e)}throw Error(s(438,String(e)))}function gr(e){var n=null,l=pe.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var a=pe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=$l(),pe.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),a=0;a<e;a++)l[a]=fe;return n.index++,l}function an(e,n){return typeof n=="function"?n(e):n}function jl(e){var n=Oe();return yr(n,Ie,e)}function yr(e,n,l){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var d=e.baseQueue,m=a.pending;if(m!==null){if(d!==null){var S=d.next;d.next=m.next,m.next=S}n.baseQueue=d=m,a.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var x=S=null,A=null,D=n,V=!1;do{var B=D.lane&-536870913;if(B!==D.lane?(ve&B)===B:(sn&B)===B){var U=D.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),B===Vi&&(V=!0);else if((sn&U)===U){D=D.next,U===Vi&&(V=!0);continue}else B={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(x=A=B,S=m):A=A.next=B,pe.lanes|=U,Ln|=U;B=D.action,ci&&l(m,B),m=D.hasEagerState?D.eagerState:l(m,B)}else U={lane:B,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(x=A=U,S=m):A=A.next=U,pe.lanes|=B,Ln|=B;D=D.next}while(D!==null&&D!==n);if(A===null?S=m:A.next=x,!St(m,e.memoizedState)&&(Ke=!0,V&&(l=Pi,l!==null)))throw l;e.memoizedState=m,e.baseState=S,e.baseQueue=A,a.lastRenderedState=m}return d===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function vr(e){var n=Oe(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var a=l.dispatch,d=l.pending,m=n.memoizedState;if(d!==null){l.pending=null;var S=d=d.next;do m=e(m,S.action),S=S.next;while(S!==d);St(m,n.memoizedState)||(Ke=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,a]}function Wf(e,n,l){var a=pe,d=Oe(),m=Te;if(m){if(l===void 0)throw Error(s(407));l=l()}else l=n();var S=!St((Ie||d).memoizedState,l);if(S&&(d.memoizedState=l,Ke=!0),d=d.queue,Er(td.bind(null,a,d,e),[e]),d.getSnapshot!==n||S||Ye!==null&&Ye.memoizedState.tag&1){if(a.flags|=2048,Ji(9,{destroy:void 0},ed.bind(null,a,d,l,n),null),Le===null)throw Error(s(349));m||(sn&127)!==0||jf(a,n,l)}return l}function jf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=pe.updateQueue,n===null?(n=$l(),pe.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function ed(e,n,l,a){n.value=l,n.getSnapshot=a,nd(n)&&id(e)}function td(e,n,l){return l(function(){nd(n)&&id(e)})}function nd(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!St(e,l)}catch{return!0}}function id(e){var n=ti(e,2);n!==null&&ht(n,e,2)}function Sr(e){var n=st();if(typeof e=="function"){var l=e;if(e=l(),ci){Tn(!0);try{l()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:e},n}function od(e,n,l,a){return e.baseState=l,yr(e,Ie,typeof a=="function"?a:an)}function Jy(e,n,l,a,d){if(ns(e))throw Error(s(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};H.T!==null?l(!0):m.isTransition=!1,a(m),l=n.pending,l===null?(m.next=n.pending=m,ld(n,m)):(m.next=l.next,n.pending=l.next=m)}}function ld(e,n){var l=n.action,a=n.payload,d=e.state;if(n.isTransition){var m=H.T,S={};H.T=S;try{var x=l(d,a),A=H.S;A!==null&&A(S,x),sd(e,n,x)}catch(D){Tr(e,n,D)}finally{m!==null&&S.types!==null&&(m.types=S.types),H.T=m}}else try{m=l(d,a),sd(e,n,m)}catch(D){Tr(e,n,D)}}function sd(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){ad(e,n,a)},function(a){return Tr(e,n,a)}):ad(e,n,l)}function ad(e,n,l){n.status="fulfilled",n.value=l,rd(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,ld(e,l)))}function Tr(e,n,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=l,rd(n),n=n.next;while(n!==a)}e.action=null}function rd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ud(e,n){return n}function cd(e,n){if(Te){var l=Le.formState;if(l!==null){e:{var a=pe;if(Te){if(He){t:{for(var d=He,m=Ut;d.nodeType!==8;){if(!m){d=null;break t}if(d=kt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){He=kt(d.nextSibling),a=d.data==="F!";break e}}An(a)}a=!1}a&&(n=l[0])}}return l=st(),l.memoizedState=l.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ud,lastRenderedState:n},l.queue=a,l=Rd.bind(null,pe,a),a.dispatch=l,a=Sr(!1),m=wr.bind(null,pe,!1,a.queue),a=st(),d={state:n,dispatch:null,action:e,pending:null},a.queue=d,l=Jy.bind(null,pe,d,m,l),d.dispatch=l,a.memoizedState=e,[n,l,!1]}function fd(e){var n=Oe();return dd(n,Ie,e)}function dd(e,n,l){if(n=yr(e,n,ud)[0],e=jl(an)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=Oo(n)}catch(S){throw S===Bi?Ol:S}else a=n;n=Oe();var d=n.queue,m=d.dispatch;return l!==n.memoizedState&&(pe.flags|=2048,Ji(9,{destroy:void 0},Yy.bind(null,d,l),null)),[a,m,e]}function Yy(e,n){e.action=n}function pd(e){var n=Oe(),l=Ie;if(l!==null)return dd(n,l,e);Oe(),n=n.memoizedState,l=Oe();var a=l.queue.dispatch;return l.memoizedState=e,[n,a,!1]}function Ji(e,n,l,a){return e={tag:e,create:l,deps:a,inst:n,next:null},n=pe.updateQueue,n===null&&(n=$l(),pe.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,n.lastEffect=e),e}function md(){return Oe().memoizedState}function es(e,n,l,a){var d=st();pe.flags|=e,d.memoizedState=Ji(1|n,{destroy:void 0},l,a===void 0?null:a)}function ts(e,n,l,a){var d=Oe();a=a===void 0?null:a;var m=d.memoizedState.inst;Ie!==null&&a!==null&&fr(a,Ie.memoizedState.deps)?d.memoizedState=Ji(n,m,l,a):(pe.flags|=e,d.memoizedState=Ji(1|n,m,l,a))}function hd(e,n){es(8390656,8,e,n)}function Er(e,n){ts(2048,8,e,n)}function Ky(e){pe.flags|=4;var n=pe.updateQueue;if(n===null)n=$l(),pe.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function gd(e){var n=Oe().memoizedState;return Ky({ref:n,nextImpl:e}),function(){if((Ne&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function yd(e,n){return ts(4,2,e,n)}function vd(e,n){return ts(4,4,e,n)}function Sd(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Td(e,n,l){l=l!=null?l.concat([e]):null,ts(4,4,Sd.bind(null,n,e),l)}function _r(){}function Ed(e,n){var l=Oe();n=n===void 0?null:n;var a=l.memoizedState;return n!==null&&fr(n,a[1])?a[0]:(l.memoizedState=[e,n],e)}function _d(e,n){var l=Oe();n=n===void 0?null:n;var a=l.memoizedState;if(n!==null&&fr(n,a[1]))return a[0];if(a=e(),ci){Tn(!0);try{e()}finally{Tn(!1)}}return l.memoizedState=[a,n],a}function xr(e,n,l){return l===void 0||(sn&1073741824)!==0&&(ve&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=xp(),pe.lanes|=e,Ln|=e,l)}function xd(e,n,l,a){return St(l,n)?l:zi.current!==null?(e=xr(e,l,a),St(e,n)||(Ke=!0),e):(sn&42)===0||(sn&1073741824)!==0&&(ve&261930)===0?(Ke=!0,e.memoizedState=l):(e=xp(),pe.lanes|=e,Ln|=e,n)}function Cd(e,n,l,a,d){var m=K.p;K.p=m!==0&&8>m?m:8;var S=H.T,x={};H.T=x,wr(e,!1,n,l);try{var A=d(),D=H.S;if(D!==null&&D(x,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=zy(A,a);Fo(e,n,V,At(e))}else Fo(e,n,a,At(e))}catch(B){Fo(e,n,{then:function(){},status:"rejected",reason:B},At())}finally{K.p=m,S!==null&&x.types!==null&&(S.types=x.types),H.T=S}}function Xy(){}function Cr(e,n,l,a){if(e.tag!==5)throw Error(s(476));var d=Ad(e).queue;Cd(e,d,n,ae,l===null?Xy:function(){return wd(e),l(a)})}function Ad(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:ae},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wd(e){var n=Ad(e);n.next===null&&(n=e.alternate.memoizedState),Fo(e,n.next.queue,{},At())}function Ar(){return tt(al)}function Nd(){return Oe().memoizedState}function bd(){return Oe().memoizedState}function Qy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=At();e=bn(l);var a=Rn(n,e,l);a!==null&&(ht(a,n,l),Po(a,n,l)),n={cache:er()},e.payload=n;return}n=n.return}}function Zy(e,n,l){var a=At();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ns(e)?Md(n,l):(l=Oa(e,n,l,a),l!==null&&(ht(l,e,a),Id(l,n,a)))}function Rd(e,n,l){var a=At();Fo(e,n,l,a)}function Fo(e,n,l,a){var d={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ns(e))Md(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var S=n.lastRenderedState,x=m(S,l);if(d.hasEagerState=!0,d.eagerState=x,St(x,S))return Gl(e,n,d,0),Le===null&&kl(),!1}catch{}finally{}if(l=Oa(e,n,d,a),l!==null)return ht(l,e,a),Id(l,n,a),!0}return!1}function wr(e,n,l,a){if(a={lane:2,revertLane:ou(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ns(e)){if(n)throw Error(s(479))}else n=Oa(e,l,a,2),n!==null&&ht(n,e,2)}function ns(e){var n=e.alternate;return e===pe||n!==null&&n===pe}function Md(e,n){Oi=Ql=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Id(e,n,l){if((l&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,kc(e,l)}}var Jo={readContext:tt,use:Wl,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Jo.useEffectEvent=Be;var Dd={readContext:tt,use:Wl,useCallback:function(e,n){return st().memoizedState=[e,n===void 0?null:n],e},useContext:tt,useEffect:hd,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,es(4194308,4,Sd.bind(null,n,e),l)},useLayoutEffect:function(e,n){return es(4194308,4,e,n)},useInsertionEffect:function(e,n){es(4,2,e,n)},useMemo:function(e,n){var l=st();n=n===void 0?null:n;var a=e();if(ci){Tn(!0);try{e()}finally{Tn(!1)}}return l.memoizedState=[a,n],a},useReducer:function(e,n,l){var a=st();if(l!==void 0){var d=l(n);if(ci){Tn(!0);try{l(n)}finally{Tn(!1)}}}else d=n;return a.memoizedState=a.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},a.queue=e,e=e.dispatch=Zy.bind(null,pe,e),[a.memoizedState,e]},useRef:function(e){var n=st();return e={current:e},n.memoizedState=e},useState:function(e){e=Sr(e);var n=e.queue,l=Rd.bind(null,pe,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:_r,useDeferredValue:function(e,n){var l=st();return xr(l,e,n)},useTransition:function(){var e=Sr(!1);return e=Cd.bind(null,pe,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var a=pe,d=st();if(Te){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),Le===null)throw Error(s(349));(ve&127)!==0||jf(a,n,l)}d.memoizedState=l;var m={value:l,getSnapshot:n};return d.queue=m,hd(td.bind(null,a,m,e),[e]),a.flags|=2048,Ji(9,{destroy:void 0},ed.bind(null,a,m,l,n),null),l},useId:function(){var e=st(),n=Le.identifierPrefix;if(Te){var l=Xt,a=Kt;l=(a&~(1<<32-vt(a)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Zl++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=Oy++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ar,useFormState:cd,useActionState:cd,useOptimistic:function(e){var n=st();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=wr.bind(null,pe,!0,l),l.dispatch=n,[e,n]},useMemoCache:gr,useCacheRefresh:function(){return st().memoizedState=Qy.bind(null,pe)},useEffectEvent:function(e){var n=st(),l={impl:e};return n.memoizedState=l,function(){if((Ne&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Nr={readContext:tt,use:Wl,useCallback:Ed,useContext:tt,useEffect:Er,useImperativeHandle:Td,useInsertionEffect:yd,useLayoutEffect:vd,useMemo:_d,useReducer:jl,useRef:md,useState:function(){return jl(an)},useDebugValue:_r,useDeferredValue:function(e,n){var l=Oe();return xd(l,Ie.memoizedState,e,n)},useTransition:function(){var e=jl(an)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:Oo(e),n]},useSyncExternalStore:Wf,useId:Nd,useHostTransitionStatus:Ar,useFormState:fd,useActionState:fd,useOptimistic:function(e,n){var l=Oe();return od(l,Ie,e,n)},useMemoCache:gr,useCacheRefresh:bd};Nr.useEffectEvent=gd;var Ud={readContext:tt,use:Wl,useCallback:Ed,useContext:tt,useEffect:Er,useImperativeHandle:Td,useInsertionEffect:yd,useLayoutEffect:vd,useMemo:_d,useReducer:vr,useRef:md,useState:function(){return vr(an)},useDebugValue:_r,useDeferredValue:function(e,n){var l=Oe();return Ie===null?xr(l,e,n):xd(l,Ie.memoizedState,e,n)},useTransition:function(){var e=vr(an)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:Oo(e),n]},useSyncExternalStore:Wf,useId:Nd,useHostTransitionStatus:Ar,useFormState:pd,useActionState:pd,useOptimistic:function(e,n){var l=Oe();return Ie!==null?od(l,Ie,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:gr,useCacheRefresh:bd};Ud.useEffectEvent=gd;function br(e,n,l,a){n=e.memoizedState,l=l(a,n),l=l==null?n:E({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Rr={enqueueSetState:function(e,n,l){e=e._reactInternals;var a=At(),d=bn(a);d.payload=n,l!=null&&(d.callback=l),n=Rn(e,d,a),n!==null&&(ht(n,e,a),Po(n,e,a))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var a=At(),d=bn(a);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=Rn(e,d,a),n!==null&&(ht(n,e,a),Po(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=At(),a=bn(l);a.tag=2,n!=null&&(a.callback=n),n=Rn(e,a,l),n!==null&&(ht(n,e,l),Po(n,e,l))}};function Ld(e,n,l,a,d,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,m,S):n.prototype&&n.prototype.isPureReactComponent?!Io(l,a)||!Io(d,m):!0}function kd(e,n,l,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,a),n.state!==e&&Rr.enqueueReplaceState(n,n.state,null)}function fi(e,n){var l=n;if("ref"in n){l={};for(var a in n)a!=="ref"&&(l[a]=n[a])}if(e=e.defaultProps){l===n&&(l=E({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function Gd(e){Ll(e)}function Hd(e){console.error(e)}function Vd(e){Ll(e)}function is(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function Pd(e,n,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Mr(e,n,l){return l=bn(l),l.tag=3,l.payload={element:null},l.callback=function(){is(e,n)},l}function Bd(e){return e=bn(e),e.tag=3,e}function qd(e,n,l,a){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=a.value;e.payload=function(){return d(m)},e.callback=function(){Pd(n,l,a)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Pd(n,l,a),typeof d!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function $y(e,n,l,a,d){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=l.alternate,n!==null&&Hi(n,l,d,!0),l=Et.current,l!==null){switch(l.tag){case 31:case 13:return Lt===null?hs():l.alternate===null&&qe===0&&(qe=3),l.flags&=-257,l.flags|=65536,l.lanes=d,a===Fl?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([a]):n.add(a),tu(e,a,d)),!1;case 22:return l.flags|=65536,a===Fl?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([a]):l.add(a)),tu(e,a,d)),!1}throw Error(s(435,l.tag))}return tu(e,a,d),hs(),!1}if(Te)return n=Et.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,a!==Qa&&(e=Error(s(422),{cause:a}),Lo(Mt(e,l)))):(a!==Qa&&(n=Error(s(423),{cause:a}),Lo(Mt(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,a=Mt(a,l),d=Mr(e.stateNode,a,d),sr(e,d),qe!==4&&(qe=2)),!1;var m=Error(s(520),{cause:a});if(m=Mt(m,l),jo===null?jo=[m]:jo.push(m),qe!==4&&(qe=2),n===null)return!0;a=Mt(a,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=Mr(l.stateNode,a,e),sr(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(kn===null||!kn.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=Bd(d),qd(d,e,l,a),sr(l,d),!1}l=l.return}while(l!==null);return!1}var Ir=Error(s(461)),Ke=!1;function nt(e,n,l,a){n.child=e===null?Jf(n,null,l,a):ui(n,e.child,l,a)}function zd(e,n,l,a,d){l=l.render;var m=n.ref;if("ref"in a){var S={};for(var x in a)x!=="ref"&&(S[x]=a[x])}else S=a;return li(n),a=dr(e,n,l,S,m,d),x=pr(),e!==null&&!Ke?(mr(e,n,d),rn(e,n,d)):(Te&&x&&Ka(n),n.flags|=1,nt(e,n,a,d),n.child)}function Od(e,n,l,a,d){if(e===null){var m=l.type;return typeof m=="function"&&!Fa(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,Fd(e,n,m,a,d)):(e=Vl(l.type,null,a,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Pr(e,d)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:Io,l(S,a)&&e.ref===n.ref)return rn(e,n,d)}return n.flags|=1,e=tn(m,a),e.ref=n.ref,e.return=n,n.child=e}function Fd(e,n,l,a,d){if(e!==null){var m=e.memoizedProps;if(Io(m,a)&&e.ref===n.ref)if(Ke=!1,n.pendingProps=a=m,Pr(e,d))(e.flags&131072)!==0&&(Ke=!0);else return n.lanes=e.lanes,rn(e,n,d)}return Dr(e,n,l,a,d)}function Jd(e,n,l,a){var d=a.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(a=n.child=e.child,d=0;a!==null;)d=d|a.lanes|a.childLanes,a=a.sibling;a=d&~m}else a=0,n.child=null;return Yd(e,n,m,l,a)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zl(n,m!==null?m.cachePool:null),m!==null?Xf(n,m):rr(),Qf(n);else return a=n.lanes=536870912,Yd(e,n,m!==null?m.baseLanes|l:l,l,a)}else m!==null?(zl(n,m.cachePool),Xf(n,m),In(),n.memoizedState=null):(e!==null&&zl(n,null),rr(),In());return nt(e,n,d,l),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yd(e,n,l,a,d){var m=nr();return m=m===null?null:{parent:Je._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&zl(n,null),rr(),Qf(n),e!==null&&Hi(e,n,a,!0),n.childLanes=d,null}function os(e,n){return n=ss({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kd(e,n,l){return ui(n,e.child,null,l),e=os(n,n.pendingProps),e.flags|=2,_t(n),n.memoizedState=null,e}function Wy(e,n,l){var a=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Te){if(a.mode==="hidden")return e=os(n,a),n.lanes=536870912,Yo(null,e);if(cr(n),(e=He)?(e=lm(e,Ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xn!==null?{id:Kt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=Mf(e),l.return=n,n.child=l,et=n,He=null)):e=null,e===null)throw An(n);return n.lanes=536870912,null}return os(n,a)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(cr(n),d)if(n.flags&256)n.flags&=-257,n=Kd(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ke||Hi(e,n,l,!1),d=(l&e.childLanes)!==0,Ke||d){if(a=Le,a!==null&&(S=Gc(a,l),S!==0&&S!==m.retryLane))throw m.retryLane=S,ti(e,S),ht(a,e,S),Ir;hs(),n=Kd(e,n,l)}else e=m.treeContext,He=kt(S.nextSibling),et=n,Te=!0,Cn=null,Ut=!1,e!==null&&Uf(n,e),n=os(n,a),n.flags|=4096;return n}return e=tn(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ls(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Dr(e,n,l,a,d){return li(n),l=dr(e,n,l,a,void 0,d),a=pr(),e!==null&&!Ke?(mr(e,n,d),rn(e,n,d)):(Te&&a&&Ka(n),n.flags|=1,nt(e,n,l,d),n.child)}function Xd(e,n,l,a,d,m){return li(n),n.updateQueue=null,l=$f(n,a,l,d),Zf(e),a=pr(),e!==null&&!Ke?(mr(e,n,m),rn(e,n,m)):(Te&&a&&Ka(n),n.flags|=1,nt(e,n,l,m),n.child)}function Qd(e,n,l,a,d){if(li(n),n.stateNode===null){var m=Ui,S=l.contextType;typeof S=="object"&&S!==null&&(m=tt(S)),m=new l(a,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Rr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=a,m.state=n.memoizedState,m.refs={},or(n),S=l.contextType,m.context=typeof S=="object"&&S!==null?tt(S):Ui,m.state=n.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(br(n,l,S,a),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&Rr.enqueueReplaceState(m,m.state,null),qo(n,a,m,d),Bo(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){m=n.stateNode;var x=n.memoizedProps,A=fi(l,x);m.props=A;var D=m.context,V=l.contextType;S=Ui,typeof V=="object"&&V!==null&&(S=tt(V));var B=l.getDerivedStateFromProps;V=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||D!==S)&&kd(n,m,a,S),Nn=!1;var U=n.memoizedState;m.state=U,qo(n,a,m,d),Bo(),D=n.memoizedState,x||U!==D||Nn?(typeof B=="function"&&(br(n,l,B,a),D=n.memoizedState),(A=Nn||Ld(n,l,A,a,U,D,S))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=D),m.props=a,m.state=D,m.context=S,a=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{m=n.stateNode,lr(e,n),S=n.memoizedProps,V=fi(l,S),m.props=V,B=n.pendingProps,U=m.context,D=l.contextType,A=Ui,typeof D=="object"&&D!==null&&(A=tt(D)),x=l.getDerivedStateFromProps,(D=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==B||U!==A)&&kd(n,m,a,A),Nn=!1,U=n.memoizedState,m.state=U,qo(n,a,m,d),Bo();var k=n.memoizedState;S!==B||U!==k||Nn||e!==null&&e.dependencies!==null&&Bl(e.dependencies)?(typeof x=="function"&&(br(n,l,x,a),k=n.memoizedState),(V=Nn||Ld(n,l,V,a,U,k,A)||e!==null&&e.dependencies!==null&&Bl(e.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,k,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,k,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=k),m.props=a,m.state=k,m.context=A,a=V):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),a=!1)}return m=a,ls(e,n),a=(n.flags&128)!==0,m||a?(m=n.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&a?(n.child=ui(n,e.child,null,d),n.child=ui(n,null,l,d)):nt(e,n,l,d),n.memoizedState=m.state,e=n.child):e=rn(e,n,d),e}function Zd(e,n,l,a){return ii(),n.flags|=256,nt(e,n,l,a),n.child}var Ur={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lr(e){return{baseLanes:e,cachePool:Pf()}}function kr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Ct),e}function $d(e,n,l){var a=n.pendingProps,d=!1,m=(n.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(ze.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Te){if(d?Mn(n):In(),(e=He)?(e=lm(e,Ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xn!==null?{id:Kt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=Mf(e),l.return=n,n.child=l,et=n,He=null)):e=null,e===null)throw An(n);return yu(e)?n.lanes=32:n.lanes=536870912,null}var x=a.children;return a=a.fallback,d?(In(),d=n.mode,x=ss({mode:"hidden",children:x},d),a=ni(a,d,l,null),x.return=n,a.return=n,x.sibling=a,n.child=x,a=n.child,a.memoizedState=Lr(l),a.childLanes=kr(e,S,l),n.memoizedState=Ur,Yo(null,a)):(Mn(n),Gr(n,x))}var A=e.memoizedState;if(A!==null&&(x=A.dehydrated,x!==null)){if(m)n.flags&256?(Mn(n),n.flags&=-257,n=Hr(e,n,l)):n.memoizedState!==null?(In(),n.child=e.child,n.flags|=128,n=null):(In(),x=a.fallback,d=n.mode,a=ss({mode:"visible",children:a.children},d),x=ni(x,d,l,null),x.flags|=2,a.return=n,x.return=n,a.sibling=x,n.child=a,ui(n,e.child,null,l),a=n.child,a.memoizedState=Lr(l),a.childLanes=kr(e,S,l),n.memoizedState=Ur,n=Yo(null,a));else if(Mn(n),yu(x)){if(S=x.nextSibling&&x.nextSibling.dataset,S)var D=S.dgst;S=D,a=Error(s(419)),a.stack="",a.digest=S,Lo({value:a,source:null,stack:null}),n=Hr(e,n,l)}else if(Ke||Hi(e,n,l,!1),S=(l&e.childLanes)!==0,Ke||S){if(S=Le,S!==null&&(a=Gc(S,l),a!==0&&a!==A.retryLane))throw A.retryLane=a,ti(e,a),ht(S,e,a),Ir;gu(x)||hs(),n=Hr(e,n,l)}else gu(x)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,He=kt(x.nextSibling),et=n,Te=!0,Cn=null,Ut=!1,e!==null&&Uf(n,e),n=Gr(n,a.children),n.flags|=4096);return n}return d?(In(),x=a.fallback,d=n.mode,A=e.child,D=A.sibling,a=tn(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,D!==null?x=tn(D,x):(x=ni(x,d,l,null),x.flags|=2),x.return=n,a.return=n,a.sibling=x,n.child=a,Yo(null,a),a=n.child,x=e.child.memoizedState,x===null?x=Lr(l):(d=x.cachePool,d!==null?(A=Je._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=Pf(),x={baseLanes:x.baseLanes|l,cachePool:d}),a.memoizedState=x,a.childLanes=kr(e,S,l),n.memoizedState=Ur,Yo(e.child,a)):(Mn(n),l=e.child,e=l.sibling,l=tn(l,{mode:"visible",children:a.children}),l.return=n,l.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=l,n.memoizedState=null,l)}function Gr(e,n){return n=ss({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ss(e,n){return e=Tt(22,e,null,n),e.lanes=0,e}function Hr(e,n,l){return ui(n,e.child,null,l),e=Gr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wd(e,n,l){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Wa(e.return,n,l)}function Vr(e,n,l,a,d,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:d,treeForkCount:m}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=a,S.tail=l,S.tailMode=d,S.treeForkCount=m)}function jd(e,n,l){var a=n.pendingProps,d=a.revealOrder,m=a.tail;a=a.children;var S=ze.current,x=(S&2)!==0;if(x?(S=S&1|2,n.flags|=128):S&=1,X(ze,S),nt(e,n,a,l),a=Te?Uo:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wd(e,l,n);else if(e.tag===19)Wd(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&Xl(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),Vr(n,!1,d,l,m,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Xl(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}Vr(n,!0,l,null,m,a);break;case"together":Vr(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function rn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Ln|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Hi(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=tn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=tn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Pr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Bl(e)))}function jy(e,n,l){switch(n.tag){case 3:he(n,n.stateNode.containerInfo),wn(n,Je,e.memoizedState.cache),ii();break;case 27:case 5:Yt(n);break;case 4:he(n,n.stateNode.containerInfo);break;case 10:wn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cr(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(Mn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?$d(e,n,l):(Mn(n),e=rn(e,n,l),e!==null?e.sibling:null);Mn(n);break;case 19:var d=(e.flags&128)!==0;if(a=(l&n.childLanes)!==0,a||(Hi(e,n,l,!1),a=(l&n.childLanes)!==0),d){if(a)return jd(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(ze,ze.current),a)break;return null;case 22:return n.lanes=0,Jd(e,n,l,n.pendingProps);case 24:wn(n,Je,e.memoizedState.cache)}return rn(e,n,l)}function ep(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ke=!0;else{if(!Pr(e,l)&&(n.flags&128)===0)return Ke=!1,jy(e,n,l);Ke=(e.flags&131072)!==0}else Ke=!1,Te&&(n.flags&1048576)!==0&&Df(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=ai(n.elementType),n.type=e,typeof e=="function")Fa(e)?(a=fi(e,a),n.tag=1,n=Qd(null,n,e,a,l)):(n.tag=0,n=Dr(null,n,e,a,l));else{if(e!=null){var d=e.$$typeof;if(d===Y){n.tag=11,n=zd(null,n,e,a,l);break e}else if(d===z){n.tag=14,n=Od(null,n,e,a,l);break e}}throw n=Ge(e)||e,Error(s(306,n,""))}}return n;case 0:return Dr(e,n,n.type,n.pendingProps,l);case 1:return a=n.type,d=fi(a,n.pendingProps),Qd(e,n,a,d,l);case 3:e:{if(he(n,n.stateNode.containerInfo),e===null)throw Error(s(387));a=n.pendingProps;var m=n.memoizedState;d=m.element,lr(e,n),qo(n,a,null,l);var S=n.memoizedState;if(a=S.cache,wn(n,Je,a),a!==m.cache&&ja(n,[Je],l,!0),Bo(),a=S.element,m.isDehydrated)if(m={element:a,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Zd(e,n,a,l);break e}else if(a!==d){d=Mt(Error(s(424)),n),Lo(d),n=Zd(e,n,a,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=kt(e.firstChild),et=n,Te=!0,Cn=null,Ut=!0,l=Jf(n,null,a,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ii(),a===d){n=rn(e,n,l);break e}nt(e,n,a,l)}n=n.child}return n;case 26:return ls(e,n),e===null?(l=fm(n.type,null,n.pendingProps,null))?n.memoizedState=l:Te||(l=n.type,e=n.pendingProps,a=_s(Q.current).createElement(l),a[je]=n,a[ut]=e,it(a,l,e),Ze(a),n.stateNode=a):n.memoizedState=fm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Yt(n),e===null&&Te&&(a=n.stateNode=rm(n.type,n.pendingProps,Q.current),et=n,Ut=!0,d=He,Pn(n.type)?(vu=d,He=kt(a.firstChild)):He=d),nt(e,n,n.pendingProps.children,l),ls(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Te&&((d=a=He)&&(a=Rv(a,n.type,n.pendingProps,Ut),a!==null?(n.stateNode=a,et=n,He=kt(a.firstChild),Ut=!1,d=!0):d=!1),d||An(n)),Yt(n),d=n.type,m=n.pendingProps,S=e!==null?e.memoizedProps:null,a=m.children,pu(d,m)?a=null:S!==null&&pu(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=dr(e,n,Fy,null,null,l),al._currentValue=d),ls(e,n),nt(e,n,a,l),n.child;case 6:return e===null&&Te&&((e=l=He)&&(l=Mv(l,n.pendingProps,Ut),l!==null?(n.stateNode=l,et=n,He=null,e=!0):e=!1),e||An(n)),null;case 13:return $d(e,n,l);case 4:return he(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=ui(n,null,a,l):nt(e,n,a,l),n.child;case 11:return zd(e,n,n.type,n.pendingProps,l);case 7:return nt(e,n,n.pendingProps,l),n.child;case 8:return nt(e,n,n.pendingProps.children,l),n.child;case 12:return nt(e,n,n.pendingProps.children,l),n.child;case 10:return a=n.pendingProps,wn(n,n.type,a.value),nt(e,n,a.children,l),n.child;case 9:return d=n.type._context,a=n.pendingProps.children,li(n),d=tt(d),a=a(d),n.flags|=1,nt(e,n,a,l),n.child;case 14:return Od(e,n,n.type,n.pendingProps,l);case 15:return Fd(e,n,n.type,n.pendingProps,l);case 19:return jd(e,n,l);case 31:return Wy(e,n,l);case 22:return Jd(e,n,l,n.pendingProps);case 24:return li(n),a=tt(Je),e===null?(d=nr(),d===null&&(d=Le,m=er(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),n.memoizedState={parent:a,cache:d},or(n),wn(n,Je,d)):((e.lanes&l)!==0&&(lr(e,n),qo(n,null,null,l),Bo()),d=e.memoizedState,m=n.memoizedState,d.parent!==a?(d={parent:a,cache:a},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),wn(n,Je,a)):(a=m.cache,wn(n,Je,a),a!==d.cache&&ja(n,[Je],l,!0))),nt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function un(e){e.flags|=4}function Br(e,n,l,a,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Np())e.flags|=8192;else throw ri=Fl,ir}else e.flags&=-16777217}function tp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gm(n))if(Np())e.flags|=8192;else throw ri=Fl,ir}function as(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Uc():536870912,e.lanes|=n,Qi|=n)}function Ko(e,n){if(!Te)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ve(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,a|=d.subtreeFlags&65011712,a|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=l,n}function ev(e,n,l){var a=n.pendingProps;switch(Xa(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(n),null;case 1:return Ve(n),null;case 3:return l=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ln(Je),oe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Gi(n)?un(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Za())),Ve(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(un(n),m!==null?(Ve(n),tp(n,m)):(Ve(n),Br(n,d,null,a,l))):m?m!==e.memoizedState?(un(n),Ve(n),tp(n,m)):(Ve(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&un(n),Ve(n),Br(n,d,e,a,l)),null;case 27:if(wt(n),l=Q.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&un(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Ve(n),null}e=ee.current,Gi(n)?Lf(n):(e=rm(d,a,l),n.stateNode=e,un(n))}return Ve(n),null;case 5:if(wt(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&un(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Ve(n),null}if(m=ee.current,Gi(n))Lf(n);else{var S=_s(Q.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof a.is=="string"?S.createElement("select",{is:a.is}):S.createElement("select"),a.multiple?m.multiple=!0:a.size&&(m.size=a.size);break;default:m=typeof a.is=="string"?S.createElement(d,{is:a.is}):S.createElement(d)}}m[je]=n,m[ut]=a;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=m;e:switch(it(m,d,a),d){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&un(n)}}return Ve(n),Br(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&un(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(s(166));if(e=Q.current,Gi(n)){if(e=n.stateNode,l=n.memoizedProps,a=null,d=et,d!==null)switch(d.tag){case 27:case 5:a=d.memoizedProps}e[je]=n,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||$p(e.nodeValue,l)),e||An(n,!0)}else e=_s(e).createTextNode(a),e[je]=n,n.stateNode=e}return Ve(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(a=Gi(n),l!==null){if(e===null){if(!a)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[je]=n}else ii(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ve(n),e=!1}else l=Za(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(_t(n),n):(_t(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ve(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Gi(n),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[je]=n}else ii(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ve(n),d=!1}else d=Za(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(_t(n),n):(_t(n),null)}return _t(n),(n.flags&128)!==0?(n.lanes=l,n):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=n.child,d=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(d=a.alternate.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==d&&(a.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),as(n,n.updateQueue),Ve(n),null);case 4:return oe(),e===null&&ru(n.stateNode.containerInfo),Ve(n),null;case 10:return ln(n.type),Ve(n),null;case 19:if(q(ze),a=n.memoizedState,a===null)return Ve(n),null;if(d=(n.flags&128)!==0,m=a.rendering,m===null)if(d)Ko(a,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Xl(e),m!==null){for(n.flags|=128,Ko(a,!1),e=m.updateQueue,n.updateQueue=e,as(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Rf(l,e),l=l.sibling;return X(ze,ze.current&1|2),Te&&nn(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&gt()>ds&&(n.flags|=128,d=!0,Ko(a,!1),n.lanes=4194304)}else{if(!d)if(e=Xl(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,as(n,e),Ko(a,!0),a.tail===null&&a.tailMode==="hidden"&&!m.alternate&&!Te)return Ve(n),null}else 2*gt()-a.renderingStartTime>ds&&l!==536870912&&(n.flags|=128,d=!0,Ko(a,!1),n.lanes=4194304);a.isBackwards?(m.sibling=n.child,n.child=m):(e=a.last,e!==null?e.sibling=m:n.child=m,a.last=m)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=gt(),e.sibling=null,l=ze.current,X(ze,d?l&1|2:l&1),Te&&nn(n,a.treeForkCount),e):(Ve(n),null);case 22:case 23:return _t(n),ur(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(l&536870912)!==0&&(n.flags&128)===0&&(Ve(n),n.subtreeFlags&6&&(n.flags|=8192)):Ve(n),l=n.updateQueue,l!==null&&as(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==l&&(n.flags|=2048),e!==null&&q(si),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ln(Je),Ve(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function tv(e,n){switch(Xa(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ln(Je),oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return wt(n),null;case 31:if(n.memoizedState!==null){if(_t(n),n.alternate===null)throw Error(s(340));ii()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_t(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ii()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return q(ze),null;case 4:return oe(),null;case 10:return ln(n.type),null;case 22:case 23:return _t(n),ur(),e!==null&&q(si),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ln(Je),null;case 25:return null;default:return null}}function np(e,n){switch(Xa(n),n.tag){case 3:ln(Je),oe();break;case 26:case 27:case 5:wt(n);break;case 4:oe();break;case 31:n.memoizedState!==null&&_t(n);break;case 13:_t(n);break;case 19:q(ze);break;case 10:ln(n.type);break;case 22:case 23:_t(n),ur(),e!==null&&q(si);break;case 24:ln(Je)}}function Xo(e,n){try{var l=n.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var d=a.next;l=d;do{if((l.tag&e)===e){a=void 0;var m=l.create,S=l.inst;a=m(),S.destroy=a}l=l.next}while(l!==d)}}catch(x){Me(n,n.return,x)}}function Dn(e,n,l){try{var a=n.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var m=d.next;a=m;do{if((a.tag&e)===e){var S=a.inst,x=S.destroy;if(x!==void 0){S.destroy=void 0,d=n;var A=l,D=x;try{D()}catch(V){Me(d,A,V)}}}a=a.next}while(a!==m)}}catch(V){Me(n,n.return,V)}}function ip(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{Kf(n,l)}catch(a){Me(e,e.return,a)}}}function op(e,n,l){l.props=fi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Me(e,n,a)}}function Qo(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(d){Me(e,n,d)}}function Qt(e,n){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(d){Me(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Me(e,n,d)}else l.current=null}function lp(e){var n=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(d){Me(e,e.return,d)}}function qr(e,n,l){try{var a=e.stateNode;xv(a,e.type,l,n),a[ut]=n}catch(d){Me(e,e.return,d)}}function sp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pn(e.type)||e.tag===4}function zr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Or(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=jt));else if(a!==4&&(a===27&&Pn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Or(e,n,l),e=e.sibling;e!==null;)Or(e,n,l),e=e.sibling}function rs(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(a!==4&&(a===27&&Pn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(rs(e,n,l),e=e.sibling;e!==null;)rs(e,n,l),e=e.sibling}function ap(e){var n=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);it(n,a,l),n[je]=e,n[ut]=l}catch(m){Me(e,e.return,m)}}var cn=!1,Xe=!1,Fr=!1,rp=typeof WeakSet=="function"?WeakSet:Set,$e=null;function nv(e,n){if(e=e.containerInfo,fu=Rs,e=Tf(e),Ha(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var d=a.anchorOffset,m=a.focusNode;a=a.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var S=0,x=-1,A=-1,D=0,V=0,B=e,U=null;t:for(;;){for(var k;B!==l||d!==0&&B.nodeType!==3||(x=S+d),B!==m||a!==0&&B.nodeType!==3||(A=S+a),B.nodeType===3&&(S+=B.nodeValue.length),(k=B.firstChild)!==null;)U=B,B=k;for(;;){if(B===e)break t;if(U===l&&++D===d&&(x=S),U===m&&++V===a&&(A=S),(k=B.nextSibling)!==null)break;B=U,U=B.parentNode}B=k}l=x===-1||A===-1?null:{start:x,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(du={focusedElem:e,selectionRange:l},Rs=!1,$e=n;$e!==null;)if(n=$e,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,$e=e;else for(;$e!==null;){switch(n=$e,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,d=m.memoizedProps,m=m.memoizedState,a=l.stateNode;try{var j=fi(l.type,d);e=a.getSnapshotBeforeUpdate(j,m),a.__reactInternalSnapshotBeforeUpdate=e}catch(se){Me(l,l.return,se)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)hu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,$e=e;break}$e=n.return}}function up(e,n,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:dn(e,l),a&4&&Xo(5,l);break;case 1:if(dn(e,l),a&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(S){Me(l,l.return,S)}else{var d=fi(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Me(l,l.return,S)}}a&64&&ip(l),a&512&&Qo(l,l.return);break;case 3:if(dn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Kf(e,n)}catch(S){Me(l,l.return,S)}}break;case 27:n===null&&a&4&&ap(l);case 26:case 5:dn(e,l),n===null&&a&4&&lp(l),a&512&&Qo(l,l.return);break;case 12:dn(e,l);break;case 31:dn(e,l),a&4&&dp(e,l);break;case 13:dn(e,l),a&4&&pp(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=fv.bind(null,l),Iv(e,l))));break;case 22:if(a=l.memoizedState!==null||cn,!a){n=n!==null&&n.memoizedState!==null||Xe,d=cn;var m=Xe;cn=a,(Xe=n)&&!m?pn(e,l,(l.subtreeFlags&8772)!==0):dn(e,l),cn=d,Xe=m}break;case 30:break;default:dn(e,l)}}function cp(e){var n=e.alternate;n!==null&&(e.alternate=null,cp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,ft=!1;function fn(e,n,l){for(l=l.child;l!==null;)fp(e,n,l),l=l.sibling}function fp(e,n,l){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(So,l)}catch{}switch(l.tag){case 26:Xe||Qt(l,n),fn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xe||Qt(l,n);var a=Pe,d=ft;Pn(l.type)&&(Pe=l.stateNode,ft=!1),fn(e,n,l),ol(l.stateNode),Pe=a,ft=d;break;case 5:Xe||Qt(l,n);case 6:if(a=Pe,d=ft,Pe=null,fn(e,n,l),Pe=a,ft=d,Pe!==null)if(ft)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(l.stateNode)}catch(m){Me(l,n,m)}else try{Pe.removeChild(l.stateNode)}catch(m){Me(l,n,m)}break;case 18:Pe!==null&&(ft?(e=Pe,im(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),io(e)):im(Pe,l.stateNode));break;case 4:a=Pe,d=ft,Pe=l.stateNode.containerInfo,ft=!0,fn(e,n,l),Pe=a,ft=d;break;case 0:case 11:case 14:case 15:Dn(2,l,n),Xe||Dn(4,l,n),fn(e,n,l);break;case 1:Xe||(Qt(l,n),a=l.stateNode,typeof a.componentWillUnmount=="function"&&op(l,n,a)),fn(e,n,l);break;case 21:fn(e,n,l);break;case 22:Xe=(a=Xe)||l.memoizedState!==null,fn(e,n,l),Xe=a;break;default:fn(e,n,l)}}function dp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{io(e)}catch(l){Me(n,n.return,l)}}}function pp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{io(e)}catch(l){Me(n,n.return,l)}}function iv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new rp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new rp),n;default:throw Error(s(435,e.tag))}}function us(e,n){var l=iv(e);n.forEach(function(a){if(!l.has(a)){l.add(a);var d=dv.bind(null,e,a);a.then(d,d)}})}function dt(e,n){var l=n.deletions;if(l!==null)for(var a=0;a<l.length;a++){var d=l[a],m=e,S=n,x=S;e:for(;x!==null;){switch(x.tag){case 27:if(Pn(x.type)){Pe=x.stateNode,ft=!1;break e}break;case 5:Pe=x.stateNode,ft=!1;break e;case 3:case 4:Pe=x.stateNode.containerInfo,ft=!0;break e}x=x.return}if(Pe===null)throw Error(s(160));fp(m,S,d),Pe=null,ft=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)mp(n,e),n=n.sibling}var Bt=null;function mp(e,n){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dt(n,e),pt(e),a&4&&(Dn(3,e,e.return),Xo(3,e),Dn(5,e,e.return));break;case 1:dt(n,e),pt(e),a&512&&(Xe||l===null||Qt(l,l.return)),a&64&&cn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var d=Bt;if(dt(n,e),pt(e),a&512&&(Xe||l===null||Qt(l,l.return)),a&4){var m=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(a){case"title":m=d.getElementsByTagName("title")[0],(!m||m[_o]||m[je]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(a),d.head.insertBefore(m,d.querySelector("head > title"))),it(m,a,l),m[je]=e,Ze(m),a=m;break e;case"link":var S=mm("link","href",d).get(a+(l.href||""));if(S){for(var x=0;x<S.length;x++)if(m=S[x],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(x,1);break t}}m=d.createElement(a),it(m,a,l),d.head.appendChild(m);break;case"meta":if(S=mm("meta","content",d).get(a+(l.content||""))){for(x=0;x<S.length;x++)if(m=S[x],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(x,1);break t}}m=d.createElement(a),it(m,a,l),d.head.appendChild(m);break;default:throw Error(s(468,a))}m[je]=e,Ze(m),a=m}e.stateNode=a}else hm(d,e.type,e.stateNode);else e.stateNode=pm(d,a,e.memoizedProps);else m!==a?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,a===null?hm(d,e.type,e.stateNode):pm(d,a,e.memoizedProps)):a===null&&e.stateNode!==null&&qr(e,e.memoizedProps,l.memoizedProps)}break;case 27:dt(n,e),pt(e),a&512&&(Xe||l===null||Qt(l,l.return)),l!==null&&a&4&&qr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(dt(n,e),pt(e),a&512&&(Xe||l===null||Qt(l,l.return)),e.flags&32){d=e.stateNode;try{wi(d,"")}catch(j){Me(e,e.return,j)}}a&4&&e.stateNode!=null&&(d=e.memoizedProps,qr(e,d,l!==null?l.memoizedProps:d)),a&1024&&(Fr=!0);break;case 6:if(dt(n,e),pt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(j){Me(e,e.return,j)}}break;case 3:if(As=null,d=Bt,Bt=xs(n.containerInfo),dt(n,e),Bt=d,pt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{io(n.containerInfo)}catch(j){Me(e,e.return,j)}Fr&&(Fr=!1,hp(e));break;case 4:a=Bt,Bt=xs(e.stateNode.containerInfo),dt(n,e),pt(e),Bt=a;break;case 12:dt(n,e),pt(e);break;case 31:dt(n,e),pt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,us(e,a)));break;case 13:dt(n,e),pt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fs=gt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,us(e,a)));break;case 22:d=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,D=cn,V=Xe;if(cn=D||d,Xe=V||A,dt(n,e),Xe=V,cn=D,pt(e),a&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||A||cn||Xe||di(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(m=A.stateNode,d)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{x=A.stateNode;var B=A.memoizedProps.style,U=B!=null&&B.hasOwnProperty("display")?B.display:null;x.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(j){Me(A,A.return,j)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(j){Me(A,A.return,j)}}}else if(n.tag===18){if(l===null){A=n;try{var k=A.stateNode;d?om(k,!0):om(A.stateNode,!1)}catch(j){Me(A,A.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,us(e,l))));break;case 19:dt(n,e),pt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,us(e,a)));break;case 30:break;case 21:break;default:dt(n,e),pt(e)}}function pt(e){var n=e.flags;if(n&2){try{for(var l,a=e.return;a!==null;){if(sp(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var d=l.stateNode,m=zr(e);rs(e,m,d);break;case 5:var S=l.stateNode;l.flags&32&&(wi(S,""),l.flags&=-33);var x=zr(e);rs(e,x,S);break;case 3:case 4:var A=l.stateNode.containerInfo,D=zr(e);Or(e,D,A);break;default:throw Error(s(161))}}catch(V){Me(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function hp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function dn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)up(e,n.alternate,n),n=n.sibling}function di(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Dn(4,n,n.return),di(n);break;case 1:Qt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&op(n,n.return,l),di(n);break;case 27:ol(n.stateNode);case 26:case 5:Qt(n,n.return),di(n);break;case 22:n.memoizedState===null&&di(n);break;case 30:di(n);break;default:di(n)}e=e.sibling}}function pn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,d=e,m=n,S=m.flags;switch(m.tag){case 0:case 11:case 15:pn(d,m,l),Xo(4,m);break;case 1:if(pn(d,m,l),a=m,d=a.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){Me(a,a.return,D)}if(a=m,d=a.updateQueue,d!==null){var x=a.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Yf(A[d],x)}catch(D){Me(a,a.return,D)}}l&&S&64&&ip(m),Qo(m,m.return);break;case 27:ap(m);case 26:case 5:pn(d,m,l),l&&a===null&&S&4&&lp(m),Qo(m,m.return);break;case 12:pn(d,m,l);break;case 31:pn(d,m,l),l&&S&4&&dp(d,m);break;case 13:pn(d,m,l),l&&S&4&&pp(d,m);break;case 22:m.memoizedState===null&&pn(d,m,l),Qo(m,m.return);break;case 30:break;default:pn(d,m,l)}n=n.sibling}}function Jr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ko(l))}function Yr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e))}function qt(e,n,l,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gp(e,n,l,a),n=n.sibling}function gp(e,n,l,a){var d=n.flags;switch(n.tag){case 0:case 11:case 15:qt(e,n,l,a),d&2048&&Xo(9,n);break;case 1:qt(e,n,l,a);break;case 3:qt(e,n,l,a),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e)));break;case 12:if(d&2048){qt(e,n,l,a),e=n.stateNode;try{var m=n.memoizedProps,S=m.id,x=m.onPostCommit;typeof x=="function"&&x(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Me(n,n.return,A)}}else qt(e,n,l,a);break;case 31:qt(e,n,l,a);break;case 13:qt(e,n,l,a);break;case 23:break;case 22:m=n.stateNode,S=n.alternate,n.memoizedState!==null?m._visibility&2?qt(e,n,l,a):Zo(e,n):m._visibility&2?qt(e,n,l,a):(m._visibility|=2,Yi(e,n,l,a,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Jr(S,n);break;case 24:qt(e,n,l,a),d&2048&&Yr(n.alternate,n);break;default:qt(e,n,l,a)}}function Yi(e,n,l,a,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,S=n,x=l,A=a,D=S.flags;switch(S.tag){case 0:case 11:case 15:Yi(m,S,x,A,d),Xo(8,S);break;case 23:break;case 22:var V=S.stateNode;S.memoizedState!==null?V._visibility&2?Yi(m,S,x,A,d):Zo(m,S):(V._visibility|=2,Yi(m,S,x,A,d)),d&&D&2048&&Jr(S.alternate,S);break;case 24:Yi(m,S,x,A,d),d&&D&2048&&Yr(S.alternate,S);break;default:Yi(m,S,x,A,d)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,a=n,d=a.flags;switch(a.tag){case 22:Zo(l,a),d&2048&&Jr(a.alternate,a);break;case 24:Zo(l,a),d&2048&&Yr(a.alternate,a);break;default:Zo(l,a)}n=n.sibling}}var $o=8192;function Ki(e,n,l){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)yp(e,n,l),e=e.sibling}function yp(e,n,l){switch(e.tag){case 26:Ki(e,n,l),e.flags&$o&&e.memoizedState!==null&&Ov(l,Bt,e.memoizedState,e.memoizedProps);break;case 5:Ki(e,n,l);break;case 3:case 4:var a=Bt;Bt=xs(e.stateNode.containerInfo),Ki(e,n,l),Bt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=$o,$o=16777216,Ki(e,n,l),$o=a):Ki(e,n,l));break;default:Ki(e,n,l)}}function vp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];$e=a,Tp(a,e)}vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sp(e),e=e.sibling}function Sp(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&Dn(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,cs(e)):Wo(e);break;default:Wo(e)}}function cs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];$e=a,Tp(a,e)}vp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Dn(8,n,n.return),cs(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,cs(n));break;default:cs(n)}e=e.sibling}}function Tp(e,n){for(;$e!==null;){var l=$e;switch(l.tag){case 0:case 11:case 15:Dn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ko(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,$e=a;else e:for(l=e;$e!==null;){a=$e;var d=a.sibling,m=a.return;if(cp(a),a===l){$e=null;break e}if(d!==null){d.return=m,$e=d;break e}$e=m}}}var ov={getCacheForType:function(e){var n=tt(Je),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return tt(Je).controller.signal}},lv=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Le=null,ge=null,ve=0,Re=0,xt=null,Un=!1,Xi=!1,Kr=!1,mn=0,qe=0,Ln=0,pi=0,Xr=0,Ct=0,Qi=0,jo=null,mt=null,Qr=!1,fs=0,Ep=0,ds=1/0,ps=null,kn=null,Qe=0,Gn=null,Zi=null,hn=0,Zr=0,$r=null,_p=null,el=0,Wr=null;function At(){return(Ne&2)!==0&&ve!==0?ve&-ve:H.T!==null?ou():Hc()}function xp(){if(Ct===0)if((ve&536870912)===0||Te){var e=El;El<<=1,(El&3932160)===0&&(El=262144),Ct=e}else Ct=536870912;return e=Et.current,e!==null&&(e.flags|=32),Ct}function ht(e,n,l){(e===Le&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&($i(e,0),Hn(e,ve,Ct,!1)),Eo(e,l),((Ne&2)===0||e!==Le)&&(e===Le&&((Ne&2)===0&&(pi|=l),qe===4&&Hn(e,ve,Ct,!1)),Zt(e))}function Cp(e,n,l){if((Ne&6)!==0)throw Error(s(327));var a=!l&&(n&127)===0&&(n&e.expiredLanes)===0||To(e,n),d=a?rv(e,n):eu(e,n,!0),m=a;do{if(d===0){Xi&&!a&&Hn(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!sv(l)){d=eu(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var x=e;d=jo;var A=x.current.memoizedState.isDehydrated;if(A&&($i(x,S).flags|=256),S=eu(x,S,!1),S!==2){if(Kr&&!A){x.errorRecoveryDisabledLanes|=m,pi|=m,d=4;break e}m=mt,mt=d,m!==null&&(mt===null?mt=m:mt.push.apply(mt,m))}d=S}if(m=!1,d!==2)continue}}if(d===1){$i(e,0),Hn(e,n,0,!0);break}e:{switch(a=e,m=d,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Hn(a,n,Ct,!Un);break e;case 2:mt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(d=fs+300-gt(),10<d)){if(Hn(a,n,Ct,!Un),xl(a,0,!0)!==0)break e;hn=n,a.timeoutHandle=tm(Ap.bind(null,a,l,mt,ps,Qr,n,Ct,pi,Qi,Un,m,"Throttled",-0,0),d);break e}Ap(a,l,mt,ps,Qr,n,Ct,pi,Qi,Un,m,null,-0,0)}}break}while(!0);Zt(e)}function Ap(e,n,l,a,d,m,S,x,A,D,V,B,U,k){if(e.timeoutHandle=-1,B=n.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jt},yp(n,m,B);var j=(m&62914560)===m?fs-gt():(m&4194048)===m?Ep-gt():0;if(j=Fv(B,j),j!==null){hn=m,e.cancelPendingCommit=j(Up.bind(null,e,n,m,l,a,d,S,x,A,V,B,null,U,k)),Hn(e,m,S,!D);return}}Up(e,n,m,l,a,d,S,x,A)}function sv(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var d=l[a],m=d.getSnapshot;d=d.value;try{if(!St(m(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hn(e,n,l,a){n&=~Xr,n&=~pi,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var d=n;0<d;){var m=31-vt(d),S=1<<m;a[m]=-1,d&=~S}l!==0&&Lc(e,l,n)}function ms(){return(Ne&6)===0?(tl(0),!1):!0}function jr(){if(ge!==null){if(Re===0)var e=ge.return;else e=ge,on=oi=null,hr(e),qi=null,Ho=0,e=ge;for(;e!==null;)np(e.alternate,e),e=e.return;ge=null}}function $i(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,wv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),hn=0,jr(),Le=e,ge=l=tn(e.current,null),ve=n,Re=0,xt=null,Un=!1,Xi=To(e,n),Kr=!1,Qi=Ct=Xr=pi=Ln=qe=0,mt=jo=null,Qr=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var d=31-vt(a),m=1<<d;n|=e[d],a&=~m}return mn=n,kl(),l}function wp(e,n){pe=null,H.H=Jo,n===Bi||n===Ol?(n=zf(),Re=3):n===ir?(n=zf(),Re=4):Re=n===Ir?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xt=n,ge===null&&(qe=1,is(e,Mt(n,e.current)))}function Np(){var e=Et.current;return e===null?!0:(ve&4194048)===ve?Lt===null:(ve&62914560)===ve||(ve&536870912)!==0?e===Lt:!1}function bp(){var e=H.H;return H.H=Jo,e===null?Jo:e}function Rp(){var e=H.A;return H.A=ov,e}function hs(){qe=4,Un||(ve&4194048)!==ve&&Et.current!==null||(Xi=!0),(Ln&134217727)===0&&(pi&134217727)===0||Le===null||Hn(Le,ve,Ct,!1)}function eu(e,n,l){var a=Ne;Ne|=2;var d=bp(),m=Rp();(Le!==e||ve!==n)&&(ps=null,$i(e,n)),n=!1;var S=qe;e:do try{if(Re!==0&&ge!==null){var x=ge,A=xt;switch(Re){case 8:jr(),S=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(n=!0);var D=Re;if(Re=0,xt=null,Wi(e,x,A,D),l&&Xi){S=0;break e}break;default:D=Re,Re=0,xt=null,Wi(e,x,A,D)}}av(),S=qe;break}catch(V){wp(e,V)}while(!0);return n&&e.shellSuspendCounter++,on=oi=null,Ne=a,H.H=d,H.A=m,ge===null&&(Le=null,ve=0,kl()),S}function av(){for(;ge!==null;)Mp(ge)}function rv(e,n){var l=Ne;Ne|=2;var a=bp(),d=Rp();Le!==e||ve!==n?(ps=null,ds=gt()+500,$i(e,n)):Xi=To(e,n);e:do try{if(Re!==0&&ge!==null){n=ge;var m=xt;t:switch(Re){case 1:Re=0,xt=null,Wi(e,n,m,1);break;case 2:case 9:if(Bf(m)){Re=0,xt=null,Ip(n);break}n=function(){Re!==2&&Re!==9||Le!==e||(Re=7),Zt(e)},m.then(n,n);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:Bf(m)?(Re=0,xt=null,Ip(n)):(Re=0,xt=null,Wi(e,n,m,7));break;case 5:var S=null;switch(ge.tag){case 26:S=ge.memoizedState;case 5:case 27:var x=ge;if(S?gm(S):x.stateNode.complete){Re=0,xt=null;var A=x.sibling;if(A!==null)ge=A;else{var D=x.return;D!==null?(ge=D,gs(D)):ge=null}break t}}Re=0,xt=null,Wi(e,n,m,5);break;case 6:Re=0,xt=null,Wi(e,n,m,6);break;case 8:jr(),qe=6;break e;default:throw Error(s(462))}}uv();break}catch(V){wp(e,V)}while(!0);return on=oi=null,H.H=a,H.A=d,Ne=l,ge!==null?0:(Le=null,ve=0,kl(),qe)}function uv(){for(;ge!==null&&!D0();)Mp(ge)}function Mp(e){var n=ep(e.alternate,e,mn);e.memoizedProps=e.pendingProps,n===null?gs(e):ge=n}function Ip(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=Xd(l,n,n.pendingProps,n.type,void 0,ve);break;case 11:n=Xd(l,n,n.pendingProps,n.type.render,n.ref,ve);break;case 5:hr(n);default:np(l,n),n=ge=Rf(n,mn),n=ep(l,n,mn)}e.memoizedProps=e.pendingProps,n===null?gs(e):ge=n}function Wi(e,n,l,a){on=oi=null,hr(n),qi=null,Ho=0;var d=n.return;try{if($y(e,d,n,l,ve)){qe=1,is(e,Mt(l,e.current)),ge=null;return}}catch(m){if(d!==null)throw ge=d,m;qe=1,is(e,Mt(l,e.current)),ge=null;return}n.flags&32768?(Te||a===1?e=!0:Xi||(ve&536870912)!==0?e=!1:(Un=e=!0,(a===2||a===9||a===3||a===6)&&(a=Et.current,a!==null&&a.tag===13&&(a.flags|=16384))),Dp(n,e)):gs(n)}function gs(e){var n=e;do{if((n.flags&32768)!==0){Dp(n,Un);return}e=n.return;var l=ev(n.alternate,n,mn);if(l!==null){ge=l;return}if(n=n.sibling,n!==null){ge=n;return}ge=n=e}while(n!==null);qe===0&&(qe=5)}function Dp(e,n){do{var l=tv(e.alternate,e);if(l!==null){l.flags&=32767,ge=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){ge=e;return}ge=e=l}while(e!==null);qe=6,ge=null}function Up(e,n,l,a,d,m,S,x,A){e.cancelPendingCommit=null;do ys();while(Qe!==0);if((Ne&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=za,z0(e,l,m,S,x,A),e===Le&&(ge=Le=null,ve=0),Zi=n,Gn=e,hn=l,Zr=m,$r=d,_p=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pv(Sl,function(){return Vp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null,d=K.p,K.p=2,S=Ne,Ne|=4;try{nv(e,n,l)}finally{Ne=S,K.p=d,H.T=a}}Qe=1,Lp(),kp(),Gp()}}function Lp(){if(Qe===1){Qe=0;var e=Gn,n=Zi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var a=K.p;K.p=2;var d=Ne;Ne|=4;try{mp(n,e);var m=du,S=Tf(e.containerInfo),x=m.focusedElem,A=m.selectionRange;if(S!==x&&x&&x.ownerDocument&&Sf(x.ownerDocument.documentElement,x)){if(A!==null&&Ha(x)){var D=A.start,V=A.end;if(V===void 0&&(V=D),"selectionStart"in x)x.selectionStart=D,x.selectionEnd=Math.min(V,x.value.length);else{var B=x.ownerDocument||document,U=B&&B.defaultView||window;if(U.getSelection){var k=U.getSelection(),j=x.textContent.length,se=Math.min(A.start,j),Ue=A.end===void 0?se:Math.min(A.end,j);!k.extend&&se>Ue&&(S=Ue,Ue=se,se=S);var R=vf(x,se),N=vf(x,Ue);if(R&&N&&(k.rangeCount!==1||k.anchorNode!==R.node||k.anchorOffset!==R.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var M=B.createRange();M.setStart(R.node,R.offset),k.removeAllRanges(),se>Ue?(k.addRange(M),k.extend(N.node,N.offset)):(M.setEnd(N.node,N.offset),k.addRange(M))}}}}for(B=[],k=x;k=k.parentNode;)k.nodeType===1&&B.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<B.length;x++){var P=B[x];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Rs=!!fu,du=fu=null}finally{Ne=d,K.p=a,H.T=l}}e.current=n,Qe=2}}function kp(){if(Qe===2){Qe=0;var e=Gn,n=Zi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var a=K.p;K.p=2;var d=Ne;Ne|=4;try{up(e,n.alternate,n)}finally{Ne=d,K.p=a,H.T=l}}Qe=3}}function Gp(){if(Qe===4||Qe===3){Qe=0,U0();var e=Gn,n=Zi,l=hn,a=_p;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,Zi=Gn=null,Hp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(kn=null),va(l),n=n.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(So,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=H.T,d=K.p,K.p=2,H.T=null;try{for(var m=e.onRecoverableError,S=0;S<a.length;S++){var x=a[S];m(x.value,{componentStack:x.stack})}}finally{H.T=n,K.p=d}}(hn&3)!==0&&ys(),Zt(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Wr?el++:(el=0,Wr=e):el=0,tl(0)}}function Hp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ko(n)))}function ys(){return Lp(),kp(),Gp(),Vp()}function Vp(){if(Qe!==5)return!1;var e=Gn,n=Zr;Zr=0;var l=va(hn),a=H.T,d=K.p;try{K.p=32>l?32:l,H.T=null,l=$r,$r=null;var m=Gn,S=hn;if(Qe=0,Zi=Gn=null,hn=0,(Ne&6)!==0)throw Error(s(331));var x=Ne;if(Ne|=4,Sp(m.current),gp(m,m.current,S,l),Ne=x,tl(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(So,m)}catch{}return!0}finally{K.p=d,H.T=a,Hp(e,n)}}function Pp(e,n,l){n=Mt(l,n),n=Mr(e.stateNode,n,2),e=Rn(e,n,2),e!==null&&(Eo(e,2),Zt(e))}function Me(e,n,l){if(e.tag===3)Pp(e,e,l);else for(;n!==null;){if(n.tag===3){Pp(n,e,l);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(kn===null||!kn.has(a))){e=Mt(l,e),l=Bd(2),a=Rn(n,l,2),a!==null&&(qd(l,a,n,e),Eo(a,2),Zt(a));break}}n=n.return}}function tu(e,n,l){var a=e.pingCache;if(a===null){a=e.pingCache=new lv;var d=new Set;a.set(n,d)}else d=a.get(n),d===void 0&&(d=new Set,a.set(n,d));d.has(l)||(Kr=!0,d.add(l),e=cv.bind(null,e,n,l),n.then(e,e))}function cv(e,n,l){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Le===e&&(ve&l)===l&&(qe===4||qe===3&&(ve&62914560)===ve&&300>gt()-fs?(Ne&2)===0&&$i(e,0):Xr|=l,Qi===ve&&(Qi=0)),Zt(e)}function Bp(e,n){n===0&&(n=Uc()),e=ti(e,n),e!==null&&(Eo(e,n),Zt(e))}function fv(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Bp(e,l)}function dv(e,n){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(n),Bp(e,l)}function pv(e,n){return ma(e,n)}var vs=null,ji=null,nu=!1,Ss=!1,iu=!1,Vn=0;function Zt(e){e!==ji&&e.next===null&&(ji===null?vs=ji=e:ji=ji.next=e),Ss=!0,nu||(nu=!0,hv())}function tl(e,n){if(!iu&&Ss){iu=!0;do for(var l=!1,a=vs;a!==null;){if(e!==0){var d=a.pendingLanes;if(d===0)var m=0;else{var S=a.suspendedLanes,x=a.pingedLanes;m=(1<<31-vt(42|e)+1)-1,m&=d&~(S&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Fp(a,m))}else m=ve,m=xl(a,a===Le?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(m&3)===0||To(a,m)||(l=!0,Fp(a,m));a=a.next}while(l);iu=!1}}function mv(){qp()}function qp(){Ss=nu=!1;var e=0;Vn!==0&&Av()&&(e=Vn);for(var n=gt(),l=null,a=vs;a!==null;){var d=a.next,m=zp(a,n);m===0?(a.next=null,l===null?vs=d:l.next=d,d===null&&(ji=l)):(l=a,(e!==0||(m&3)!==0)&&(Ss=!0)),a=d}Qe!==0&&Qe!==5||tl(e),Vn!==0&&(Vn=0)}function zp(e,n){for(var l=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-vt(m),x=1<<S,A=d[S];A===-1?((x&l)===0||(x&a)!==0)&&(d[S]=q0(x,n)):A<=n&&(e.expiredLanes|=x),m&=~x}if(n=Le,l=ve,l=xl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===n&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ha(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||To(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(a!==null&&ha(a),va(l)){case 2:case 8:l=Ic;break;case 32:l=Sl;break;case 268435456:l=Dc;break;default:l=Sl}return a=Op.bind(null,e),l=ma(l,a),e.callbackPriority=n,e.callbackNode=l,n}return a!==null&&a!==null&&ha(a),e.callbackPriority=2,e.callbackNode=null,2}function Op(e,n){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(ys()&&e.callbackNode!==l)return null;var a=ve;return a=xl(e,e===Le?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Cp(e,a,n),zp(e,gt()),e.callbackNode!=null&&e.callbackNode===l?Op.bind(null,e):null)}function Fp(e,n){if(ys())return null;Cp(e,n,!0)}function hv(){Nv(function(){(Ne&6)!==0?ma(Mc,mv):qp()})}function ou(){if(Vn===0){var e=Vi;e===0&&(e=Tl,Tl<<=1,(Tl&261888)===0&&(Tl=256)),Vn=e}return Vn}function Jp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Nl(""+e)}function Yp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function gv(e,n,l,a,d){if(n==="submit"&&l&&l.stateNode===d){var m=Jp((d[ut]||null).action),S=a.submitter;S&&(n=(n=S[ut]||null)?Jp(n.formAction):S.getAttribute("formAction"),n!==null&&(m=n,S=null));var x=new Il("action","action",null,a,d);e.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Vn!==0){var A=S?Yp(d,S):new FormData(d);Cr(l,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(x.preventDefault(),A=S?Yp(d,S):new FormData(d),Cr(l,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var lu=0;lu<qa.length;lu++){var su=qa[lu],yv=su.toLowerCase(),vv=su[0].toUpperCase()+su.slice(1);Pt(yv,"on"+vv)}Pt(xf,"onAnimationEnd"),Pt(Cf,"onAnimationIteration"),Pt(Af,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(Ly,"onTransitionRun"),Pt(ky,"onTransitionStart"),Pt(Gy,"onTransitionCancel"),Pt(wf,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function Kp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],d=a.event;a=a.listeners;e:{var m=void 0;if(n)for(var S=a.length-1;0<=S;S--){var x=a[S],A=x.instance,D=x.currentTarget;if(x=x.listener,A!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=D;try{m(d)}catch(V){Ll(V)}d.currentTarget=null,m=A}else for(S=0;S<a.length;S++){if(x=a[S],A=x.instance,D=x.currentTarget,x=x.listener,A!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=D;try{m(d)}catch(V){Ll(V)}d.currentTarget=null,m=A}}}}function ye(e,n){var l=n[Sa];l===void 0&&(l=n[Sa]=new Set);var a=e+"__bubble";l.has(a)||(Xp(n,e,2,!1),l.add(a))}function au(e,n,l){var a=0;n&&(a|=4),Xp(l,e,a,n)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function ru(e){if(!e[Ts]){e[Ts]=!0,Bc.forEach(function(l){l!=="selectionchange"&&(Sv.has(l)||au(l,!1,e),au(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ts]||(n[Ts]=!0,au("selectionchange",!1,n))}}function Xp(e,n,l,a){switch(xm(n)){case 2:var d=Kv;break;case 8:d=Xv;break;default:d=xu}l=d.bind(null,n,l,e),d=void 0,!ba||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function uu(e,n,l,a,d){var m=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var x=a.stateNode.containerInfo;if(x===d)break;if(S===4)for(S=a.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;x!==null;){if(S=Ei(x),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){a=m=S;continue e}x=x.parentNode}}a=a.return}Wc(function(){var D=m,V=wa(l),B=[];e:{var U=Nf.get(e);if(U!==void 0){var k=Il,j=e;switch(e){case"keypress":if(Rl(l)===0)break e;case"keydown":case"keyup":k=dy;break;case"focusin":j="focus",k=Da;break;case"focusout":j="blur",k=Da;break;case"beforeblur":case"afterblur":k=Da;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=hy;break;case xf:case Cf:case Af:k=iy;break;case wf:k=yy;break;case"scroll":case"scrollend":k=W0;break;case"wheel":k=Sy;break;case"copy":case"cut":case"paste":k=ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=of;break;case"toggle":case"beforetoggle":k=Ey}var se=(n&4)!==0,Ue=!se&&(e==="scroll"||e==="scrollend"),R=se?U!==null?U+"Capture":null:U;se=[];for(var N=D,M;N!==null;){var P=N;if(M=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||M===null||R===null||(P=Co(N,R),P!=null&&se.push(il(N,P,M))),Ue)break;N=N.return}0<se.length&&(U=new k(U,j,null,l,V),B.push({event:U,listeners:se}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",U&&l!==Aa&&(j=l.relatedTarget||l.fromElement)&&(Ei(j)||j[Ti]))break e;if((k||U)&&(U=V.window===V?V:(U=V.ownerDocument)?U.defaultView||U.parentWindow:window,k?(j=l.relatedTarget||l.toElement,k=D,j=j?Ei(j):null,j!==null&&(Ue=f(j),se=j.tag,j!==Ue||se!==5&&se!==27&&se!==6)&&(j=null)):(k=null,j=D),k!==j)){if(se=tf,P="onMouseLeave",R="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(se=of,P="onPointerLeave",R="onPointerEnter",N="pointer"),Ue=k==null?U:xo(k),M=j==null?U:xo(j),U=new se(P,N+"leave",k,l,V),U.target=Ue,U.relatedTarget=M,P=null,Ei(V)===D&&(se=new se(R,N+"enter",j,l,V),se.target=M,se.relatedTarget=Ue,P=se),Ue=P,k&&j)t:{for(se=Tv,R=k,N=j,M=0,P=R;P;P=se(P))M++;P=0;for(var ie=N;ie;ie=se(ie))P++;for(;0<M-P;)R=se(R),M--;for(;0<P-M;)N=se(N),P--;for(;M--;){if(R===N||N!==null&&R===N.alternate){se=R;break t}R=se(R),N=se(N)}se=null}else se=null;k!==null&&Qp(B,U,k,se,!1),j!==null&&Ue!==null&&Qp(B,Ue,j,se,!0)}}e:{if(U=D?xo(D):window,k=U.nodeName&&U.nodeName.toLowerCase(),k==="select"||k==="input"&&U.type==="file")var Ce=df;else if(cf(U))if(pf)Ce=Iy;else{Ce=Ry;var ne=by}else k=U.nodeName,!k||k.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?D&&Ca(D.elementType)&&(Ce=df):Ce=My;if(Ce&&(Ce=Ce(e,D))){ff(B,Ce,l,V);break e}ne&&ne(e,U,D),e==="focusout"&&D&&U.type==="number"&&D.memoizedProps.value!=null&&xa(U,"number",U.value)}switch(ne=D?xo(D):window,e){case"focusin":(cf(ne)||ne.contentEditable==="true")&&(Mi=ne,Va=D,Do=null);break;case"focusout":Do=Va=Mi=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,Ef(B,l,V);break;case"selectionchange":if(Uy)break;case"keydown":case"keyup":Ef(B,l,V)}var me;if(La)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ri?rf(e,l)&&(Se="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(lf&&l.locale!=="ko"&&(Ri||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ri&&(me=jc()):(_n=V,Ra="value"in _n?_n.value:_n.textContent,Ri=!0)),ne=Es(D,Se),0<ne.length&&(Se=new nf(Se,e,null,l,V),B.push({event:Se,listeners:ne}),me?Se.data=me:(me=uf(l),me!==null&&(Se.data=me)))),(me=xy?Cy(e,l):Ay(e,l))&&(Se=Es(D,"onBeforeInput"),0<Se.length&&(ne=new nf("onBeforeInput","beforeinput",null,l,V),B.push({event:ne,listeners:Se}),ne.data=me)),gv(B,e,D,l,V)}Kp(B,n)})}function il(e,n,l){return{instance:e,listener:n,currentTarget:l}}function Es(e,n){for(var l=n+"Capture",a=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Co(e,l),d!=null&&a.unshift(il(e,d,m)),d=Co(e,n),d!=null&&a.push(il(e,d,m))),e.tag===3)return a;e=e.return}return[]}function Tv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qp(e,n,l,a,d){for(var m=n._reactName,S=[];l!==null&&l!==a;){var x=l,A=x.alternate,D=x.stateNode;if(x=x.tag,A!==null&&A===a)break;x!==5&&x!==26&&x!==27||D===null||(A=D,d?(D=Co(l,m),D!=null&&S.unshift(il(l,D,A))):d||(D=Co(l,m),D!=null&&S.push(il(l,D,A)))),l=l.return}S.length!==0&&e.push({event:n,listeners:S})}var Ev=/\r\n?/g,_v=/\u0000|\uFFFD/g;function Zp(e){return(typeof e=="string"?e:""+e).replace(Ev,`
`).replace(_v,"")}function $p(e,n){return n=Zp(n),Zp(e)===n}function De(e,n,l,a,d,m){switch(l){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||wi(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&wi(e,""+a);break;case"className":Al(e,"class",a);break;case"tabIndex":Al(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(e,l,a);break;case"style":Zc(e,a,m);break;case"data":if(n!=="object"){Al(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Nl(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&De(e,n,"name",d.name,d,null),De(e,n,"formEncType",d.formEncType,d,null),De(e,n,"formMethod",d.formMethod,d,null),De(e,n,"formTarget",d.formTarget,d,null)):(De(e,n,"encType",d.encType,d,null),De(e,n,"method",d.method,d,null),De(e,n,"target",d.target,d,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Nl(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=jt);break;case"onScroll":a!=null&&ye("scroll",e);break;case"onScrollEnd":a!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Nl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":ye("beforetoggle",e),ye("toggle",e),Cl(e,"popover",a);break;case"xlinkActuate":Wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Wt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Wt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Wt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Wt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Cl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Z0.get(l)||l,Cl(e,l,a))}}function cu(e,n,l,a,d,m){switch(l){case"style":Zc(e,a,m);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof a=="string"?wi(e,a):(typeof a=="number"||typeof a=="bigint")&&wi(e,""+a);break;case"onScroll":a!=null&&ye("scroll",e);break;case"onScrollEnd":a!=null&&ye("scrollend",e);break;case"onClick":a!=null&&(e.onclick=jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),m=e[ut]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof a=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,a,d);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Cl(e,l,a)}}}function it(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var a=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var S=l[m];if(S!=null)switch(m){case"src":a=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:De(e,n,m,S,l,null)}}d&&De(e,n,"srcSet",l.srcSet,l,null),a&&De(e,n,"src",l.src,l,null);return;case"input":ye("invalid",e);var x=m=S=d=null,A=null,D=null;for(a in l)if(l.hasOwnProperty(a)){var V=l[a];if(V!=null)switch(a){case"name":d=V;break;case"type":S=V;break;case"checked":A=V;break;case"defaultChecked":D=V;break;case"value":m=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,n));break;default:De(e,n,a,V,l,null)}}Yc(e,m,x,A,D,S,d,!1);return;case"select":ye("invalid",e),a=S=m=null;for(d in l)if(l.hasOwnProperty(d)&&(x=l[d],x!=null))switch(d){case"value":m=x;break;case"defaultValue":S=x;break;case"multiple":a=x;default:De(e,n,d,x,l,null)}n=m,l=S,e.multiple=!!a,n!=null?Ai(e,!!a,n,!1):l!=null&&Ai(e,!!a,l,!0);return;case"textarea":ye("invalid",e),m=d=a=null;for(S in l)if(l.hasOwnProperty(S)&&(x=l[S],x!=null))switch(S){case"value":a=x;break;case"defaultValue":d=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:De(e,n,S,x,l,null)}Xc(e,a,d,m);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(a=l[A],a!=null))switch(A){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:De(e,n,A,a,l,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(a=0;a<nl.length;a++)ye(nl[a],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(a=l[D],a!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:De(e,n,D,a,l,null)}return;default:if(Ca(n)){for(V in l)l.hasOwnProperty(V)&&(a=l[V],a!==void 0&&cu(e,n,V,a,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(a=l[x],a!=null&&De(e,n,x,a,l,null))}function xv(e,n,l,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,S=null,x=null,A=null,D=null,V=null;for(k in l){var B=l[k];if(l.hasOwnProperty(k)&&B!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":A=B;default:a.hasOwnProperty(k)||De(e,n,k,null,a,B)}}for(var U in a){var k=a[U];if(B=l[U],a.hasOwnProperty(U)&&(k!=null||B!=null))switch(U){case"type":m=k;break;case"name":d=k;break;case"checked":D=k;break;case"defaultChecked":V=k;break;case"value":S=k;break;case"defaultValue":x=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==B&&De(e,n,U,k,a,B)}}_a(e,S,x,A,D,V,m,d);return;case"select":k=S=x=U=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":k=A;default:a.hasOwnProperty(m)||De(e,n,m,null,a,A)}for(d in a)if(m=a[d],A=l[d],a.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":U=m;break;case"defaultValue":x=m;break;case"multiple":S=m;default:m!==A&&De(e,n,d,m,a,A)}n=x,l=S,a=k,U!=null?Ai(e,!!l,U,!1):!!a!=!!l&&(n!=null?Ai(e,!!l,n,!0):Ai(e,!!l,l?[]:"",!1));return;case"textarea":k=U=null;for(x in l)if(d=l[x],l.hasOwnProperty(x)&&d!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:De(e,n,x,null,a,d)}for(S in a)if(d=a[S],m=l[S],a.hasOwnProperty(S)&&(d!=null||m!=null))switch(S){case"value":U=d;break;case"defaultValue":k=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&De(e,n,S,d,a,m)}Kc(e,U,k);return;case"option":for(var j in l)if(U=l[j],l.hasOwnProperty(j)&&U!=null&&!a.hasOwnProperty(j))switch(j){case"selected":e.selected=!1;break;default:De(e,n,j,null,a,U)}for(A in a)if(U=a[A],k=l[A],a.hasOwnProperty(A)&&U!==k&&(U!=null||k!=null))switch(A){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:De(e,n,A,U,a,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in l)U=l[se],l.hasOwnProperty(se)&&U!=null&&!a.hasOwnProperty(se)&&De(e,n,se,null,a,U);for(D in a)if(U=a[D],k=l[D],a.hasOwnProperty(D)&&U!==k&&(U!=null||k!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,n));break;default:De(e,n,D,U,a,k)}return;default:if(Ca(n)){for(var Ue in l)U=l[Ue],l.hasOwnProperty(Ue)&&U!==void 0&&!a.hasOwnProperty(Ue)&&cu(e,n,Ue,void 0,a,U);for(V in a)U=a[V],k=l[V],!a.hasOwnProperty(V)||U===k||U===void 0&&k===void 0||cu(e,n,V,U,a,k);return}}for(var R in l)U=l[R],l.hasOwnProperty(R)&&U!=null&&!a.hasOwnProperty(R)&&De(e,n,R,null,a,U);for(B in a)U=a[B],k=l[B],!a.hasOwnProperty(B)||U===k||U==null&&k==null||De(e,n,B,U,a,k)}function Wp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var d=l[a],m=d.transferSize,S=d.initiatorType,x=d.duration;if(m&&x&&Wp(S)){for(S=0,x=d.responseEnd,a+=1;a<l.length;a++){var A=l[a],D=A.startTime;if(D>x)break;var V=A.transferSize,B=A.initiatorType;V&&Wp(B)&&(A=A.responseEnd,S+=V*(A<x?1:(x-D)/(A-D)))}if(--a,n+=8*(m+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fu=null,du=null;function _s(e){return e.nodeType===9?e:e.ownerDocument}function jp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function em(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mu=null;function Av(){var e=window.event;return e&&e.type==="popstate"?e===mu?!1:(mu=e,!0):(mu=null,!1)}var tm=typeof setTimeout=="function"?setTimeout:void 0,wv=typeof clearTimeout=="function"?clearTimeout:void 0,nm=typeof Promise=="function"?Promise:void 0,Nv=typeof queueMicrotask=="function"?queueMicrotask:typeof nm<"u"?function(e){return nm.resolve(null).then(e).catch(bv)}:tm;function bv(e){setTimeout(function(){throw e})}function Pn(e){return e==="head"}function im(e,n){var l=n,a=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(d),io(n);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")ol(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,ol(l);for(var m=l.firstChild;m;){var S=m.nextSibling,x=m.nodeName;m[_o]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=S}}else l==="body"&&ol(e.ownerDocument.body);l=d}while(l);io(n)}function om(e,n){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function hu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":hu(l),Ta(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Rv(e,n,l,a){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[_o])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=kt(e.nextSibling),e===null)break}return null}function Mv(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=kt(e.nextSibling),e===null))return null;return e}function lm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kt(e.nextSibling),e===null))return null;return e}function gu(e){return e.data==="$?"||e.data==="$~"}function yu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Iv(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var a=function(){n(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function kt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var vu=null;function sm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return kt(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function am(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function rm(e,n,l){switch(n=_s(l),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ta(e)}var Gt=new Map,um=new Set;function xs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gn=K.d;K.d={f:Dv,r:Uv,D:Lv,C:kv,L:Gv,m:Hv,X:Pv,S:Vv,M:Bv};function Dv(){var e=gn.f(),n=ms();return e||n}function Uv(e){var n=_i(e);n!==null&&n.tag===5&&n.type==="form"?wd(n):gn.r(e)}var eo=typeof document>"u"?null:document;function cm(e,n,l){var a=eo;if(a&&typeof n=="string"&&n){var d=bt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),um.has(d)||(um.add(d),e={rel:e,crossOrigin:l,href:n},a.querySelector(d)===null&&(n=a.createElement("link"),it(n,"link",e),Ze(n),a.head.appendChild(n)))}}function Lv(e){gn.D(e),cm("dns-prefetch",e,null)}function kv(e,n){gn.C(e,n),cm("preconnect",e,n)}function Gv(e,n,l){gn.L(e,n,l);var a=eo;if(a&&e&&n){var d='link[rel="preload"][as="'+bt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+bt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+bt(l.imageSizes)+'"]')):d+='[href="'+bt(e)+'"]';var m=d;switch(n){case"style":m=to(e);break;case"script":m=no(e)}Gt.has(m)||(e=E({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Gt.set(m,e),a.querySelector(d)!==null||n==="style"&&a.querySelector(ll(m))||n==="script"&&a.querySelector(sl(m))||(n=a.createElement("link"),it(n,"link",e),Ze(n),a.head.appendChild(n)))}}function Hv(e,n){gn.m(e,n);var l=eo;if(l&&e){var a=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+bt(a)+'"][href="'+bt(e)+'"]',m=d;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=no(e)}if(!Gt.has(m)&&(e=E({rel:"modulepreload",href:e},n),Gt.set(m,e),l.querySelector(d)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(sl(m)))return}a=l.createElement("link"),it(a,"link",e),Ze(a),l.head.appendChild(a)}}}function Vv(e,n,l){gn.S(e,n,l);var a=eo;if(a&&e){var d=xi(a).hoistableStyles,m=to(e);n=n||"default";var S=d.get(m);if(!S){var x={loading:0,preload:null};if(S=a.querySelector(ll(m)))x.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Gt.get(m))&&Su(e,l);var A=S=a.createElement("link");Ze(A),it(A,"link",e),A._p=new Promise(function(D,V){A.onload=D,A.onerror=V}),A.addEventListener("load",function(){x.loading|=1}),A.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Cs(S,n,a)}S={type:"stylesheet",instance:S,count:1,state:x},d.set(m,S)}}}function Pv(e,n){gn.X(e,n);var l=eo;if(l&&e){var a=xi(l).hoistableScripts,d=no(e),m=a.get(d);m||(m=l.querySelector(sl(d)),m||(e=E({src:e,async:!0},n),(n=Gt.get(d))&&Tu(e,n),m=l.createElement("script"),Ze(m),it(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(d,m))}}function Bv(e,n){gn.M(e,n);var l=eo;if(l&&e){var a=xi(l).hoistableScripts,d=no(e),m=a.get(d);m||(m=l.querySelector(sl(d)),m||(e=E({src:e,async:!0,type:"module"},n),(n=Gt.get(d))&&Tu(e,n),m=l.createElement("script"),Ze(m),it(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(d,m))}}function fm(e,n,l,a){var d=(d=Q.current)?xs(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=to(l.href),l=xi(d).hoistableStyles,a=l.get(n),a||(a={type:"style",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=to(l.href);var m=xi(d).hoistableStyles,S=m.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=d.querySelector(ll(e)))&&!m._p&&(S.instance=m,S.state.loading=5),Gt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gt.set(e,l),m||qv(d,e,l,S.state))),n&&a===null)throw Error(s(528,""));return S}if(n&&a!==null)throw Error(s(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=no(l),l=xi(d).hoistableScripts,a=l.get(n),a||(a={type:"script",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function to(e){return'href="'+bt(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function dm(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function qv(e,n,l,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),it(n,"link",l),Ze(n),e.head.appendChild(n))}function no(e){return'[src="'+bt(e)+'"]'}function sl(e){return"script[async]"+e}function pm(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+bt(l.href)+'"]');if(a)return n.instance=a,Ze(a),a;var d=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ze(a),it(a,"style",d),Cs(a,l.precedence,e),n.instance=a;case"stylesheet":d=to(l.href);var m=e.querySelector(ll(d));if(m)return n.state.loading|=4,n.instance=m,Ze(m),m;a=dm(l),(d=Gt.get(d))&&Su(a,d),m=(e.ownerDocument||e).createElement("link"),Ze(m);var S=m;return S._p=new Promise(function(x,A){S.onload=x,S.onerror=A}),it(m,"link",a),n.state.loading|=4,Cs(m,l.precedence,e),n.instance=m;case"script":return m=no(l.src),(d=e.querySelector(sl(m)))?(n.instance=d,Ze(d),d):(a=l,(d=Gt.get(m))&&(a=E({},l),Tu(a,d)),e=e.ownerDocument||e,d=e.createElement("script"),Ze(d),it(d,"link",a),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Cs(a,l.precedence,e));return n.instance}function Cs(e,n,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=a.length?a[a.length-1]:null,m=d,S=0;S<a.length;S++){var x=a[S];if(x.dataset.precedence===n)m=x;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function Su(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Tu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var As=null;function mm(e,n,l){if(As===null){var a=new Map,d=As=new Map;d.set(l,a)}else d=As,a=d.get(l),a||(a=new Map,d.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[_o]||m[je]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(n)||"";S=e+S;var x=a.get(S);x?x.push(m):a.set(S,[m])}}return a}function hm(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function zv(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function gm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ov(e,n,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=to(a.href),m=n.querySelector(ll(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ws.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,Ze(m);return}m=n.ownerDocument||n,a=dm(a),(d=Gt.get(d))&&Su(a,d),m=m.createElement("link"),Ze(m);var S=m;S._p=new Promise(function(x,A){S.onload=x,S.onerror=A}),it(m,"link",a),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ws.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var Eu=0;function Fv(e,n){return e.stylesheets&&e.count===0&&bs(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&bs(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&Eu===0&&(Eu=62500*Cv());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bs(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Eu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(d)}}:null}function ws(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ns=null;function bs(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ns=new Map,n.forEach(Jv,e),Ns=null,ws.call(e))}function Jv(e,n){if(!(n.state.loading&4)){var l=Ns.get(e);if(l)var a=l.get(null);else{l=new Map,Ns.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var S=d[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),a=S)}a&&l.set(null,a)}d=n.instance,S=d.getAttribute("data-precedence"),m=l.get(S)||a,m===a&&l.set(null,d),l.set(S,d),this.count++,a=ws.bind(this),d.addEventListener("load",a),d.addEventListener("error",a),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var al={$$typeof:O,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Yv(e,n,l,a,d,m,S,x,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.hiddenUpdates=ga(null),this.identifierPrefix=a,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function ym(e,n,l,a,d,m,S,x,A,D,V,B){return e=new Yv(e,n,l,S,A,D,V,B,x),n=1,m===!0&&(n|=24),m=Tt(3,null,null,n),e.current=m,m.stateNode=e,n=er(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:a,isDehydrated:l,cache:n},or(m),e}function vm(e){return e?(e=Ui,e):Ui}function Sm(e,n,l,a,d,m){d=vm(d),a.context===null?a.context=d:a.pendingContext=d,a=bn(n),a.payload={element:l},m=m===void 0?null:m,m!==null&&(a.callback=m),l=Rn(e,a,n),l!==null&&(ht(l,e,n),Po(l,e,n))}function Tm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function _u(e,n){Tm(e,n),(e=e.alternate)&&Tm(e,n)}function Em(e){if(e.tag===13||e.tag===31){var n=ti(e,67108864);n!==null&&ht(n,e,67108864),_u(e,67108864)}}function _m(e){if(e.tag===13||e.tag===31){var n=At();n=ya(n);var l=ti(e,n);l!==null&&ht(l,e,n),_u(e,n)}}var Rs=!0;function Kv(e,n,l,a){var d=H.T;H.T=null;var m=K.p;try{K.p=2,xu(e,n,l,a)}finally{K.p=m,H.T=d}}function Xv(e,n,l,a){var d=H.T;H.T=null;var m=K.p;try{K.p=8,xu(e,n,l,a)}finally{K.p=m,H.T=d}}function xu(e,n,l,a){if(Rs){var d=Cu(a);if(d===null)uu(e,n,a,Ms,l),Cm(e,a);else if(Zv(d,e,n,l,a))a.stopPropagation();else if(Cm(e,a),n&4&&-1<Qv.indexOf(e)){for(;d!==null;){var m=_i(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Zn(m.pendingLanes);if(S!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;S;){var A=1<<31-vt(S);x.entanglements[1]|=A,S&=~A}Zt(m),(Ne&6)===0&&(ds=gt()+500,tl(0))}}break;case 31:case 13:x=ti(m,2),x!==null&&ht(x,m,2),ms(),_u(m,2)}if(m=Cu(a),m===null&&uu(e,n,a,Ms,l),m===d)break;d=m}d!==null&&a.stopPropagation()}else uu(e,n,a,null,l)}}function Cu(e){return e=wa(e),Au(e)}var Ms=null;function Au(e){if(Ms=null,e=Ei(e),e!==null){var n=f(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ms=e,null}function xm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(L0()){case Mc:return 2;case Ic:return 8;case Sl:case k0:return 32;case Dc:return 268435456;default:return 32}default:return 32}}var wu=!1,Bn=null,qn=null,zn=null,rl=new Map,ul=new Map,On=[],Qv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cm(e,n){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,l,a,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:a,nativeEvent:m,targetContainers:[d]},n!==null&&(n=_i(n),n!==null&&Em(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Zv(e,n,l,a,d){switch(n){case"focusin":return Bn=cl(Bn,e,n,l,a,d),!0;case"dragenter":return qn=cl(qn,e,n,l,a,d),!0;case"mouseover":return zn=cl(zn,e,n,l,a,d),!0;case"pointerover":var m=d.pointerId;return rl.set(m,cl(rl.get(m)||null,e,n,l,a,d)),!0;case"gotpointercapture":return m=d.pointerId,ul.set(m,cl(ul.get(m)||null,e,n,l,a,d)),!0}return!1}function Am(e){var n=Ei(e.target);if(n!==null){var l=f(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,Vc(e.priority,function(){_m(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,Vc(e.priority,function(){_m(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=Cu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Aa=a,l.target.dispatchEvent(a),Aa=null}else return n=_i(l),n!==null&&Em(n),e.blockedOn=l,!1;n.shift()}return!0}function wm(e,n,l){Is(e)&&l.delete(n)}function $v(){wu=!1,Bn!==null&&Is(Bn)&&(Bn=null),qn!==null&&Is(qn)&&(qn=null),zn!==null&&Is(zn)&&(zn=null),rl.forEach(wm),ul.forEach(wm)}function Ds(e,n){e.blockedOn===n&&(e.blockedOn=null,wu||(wu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$v)))}var Us=null;function Nm(e){Us!==e&&(Us=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Us===e&&(Us=null);for(var n=0;n<e.length;n+=3){var l=e[n],a=e[n+1],d=e[n+2];if(typeof a!="function"){if(Au(a||l)===null)continue;break}var m=_i(l);m!==null&&(e.splice(n,3),n-=3,Cr(m,{pending:!0,data:d,method:l.method,action:a},a,d))}}))}function io(e){function n(A){return Ds(A,e)}Bn!==null&&Ds(Bn,e),qn!==null&&Ds(qn,e),zn!==null&&Ds(zn,e),rl.forEach(n),ul.forEach(n);for(var l=0;l<On.length;l++){var a=On[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<On.length&&(l=On[0],l.blockedOn===null);)Am(l),l.blockedOn===null&&On.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var d=l[a],m=l[a+1],S=d[ut]||null;if(typeof m=="function")S||Nm(l);else if(S){var x=null;if(m&&m.hasAttribute("formAction")){if(d=m,S=m[ut]||null)x=S.formAction;else if(Au(d)!==null)continue}else x=S.action;typeof x=="function"?l[a+1]=x:(l.splice(a,3),a-=3),Nm(l)}}}function bm(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function Nu(e){this._internalRoot=e}Ls.prototype.render=Nu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var l=n.current,a=At();Sm(l,a,e,n,null,null)},Ls.prototype.unmount=Nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Sm(e.current,2,null,e,null,null),ms(),n[Ti]=null}};function Ls(e){this._internalRoot=e}Ls.prototype.unstable_scheduleHydration=function(e){if(e){var n=Hc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<On.length&&n!==0&&n<On[l].priority;l++);On.splice(l,0,e),l===0&&Am(e)}};var Rm=t.version;if(Rm!=="19.2.1")throw Error(s(527,Rm,"19.2.1"));K.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Wv={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ks.isDisabled&&ks.supportsFiber)try{So=ks.inject(Wv),yt=ks}catch{}}return dl.createRoot=function(e,n){if(!r(e))throw Error(s(299));var l=!1,a="",d=Gd,m=Hd,S=Vd;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=ym(e,1,!1,null,null,l,a,null,d,m,S,bm),e[Ti]=n.current,ru(e),new Nu(n)},dl.hydrateRoot=function(e,n,l){if(!r(e))throw Error(s(299));var a=!1,d="",m=Gd,S=Hd,x=Vd,A=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),n=ym(e,1,!0,n,l??null,a,d,A,m,S,x,bm),n.context=vm(null),l=n.current,a=At(),a=ya(a),d=bn(a),d.callback=null,Rn(l,d,a),l=a,n.current.lanes=l,Eo(n,l),Zt(n),e[Ti]=n.current,ru(e),new Ls(n)},dl.version="19.2.1",dl}var Pm;function rS(){if(Pm)return Mu.exports;Pm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Mu.exports=aS(),Mu.exports}var uS=rS();const cS=_g(uS);var fS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dS,pS;function mS(){return{geminiUrl:dS,vertexUrl:pS}}function hS(i,t,o,s){var r,f;if(!(i!=null&&i.baseUrl)){const p=mS();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(f=p.geminiUrl)!==null&&f!==void 0?f:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vn{}function Z(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(f+1),o[h])}else for(const h of y)c(h,t.slice(f+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const s=t[t.length-1],r=i[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[s]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let s=0;s<t.length;s++){if(typeof i!="object"||i===null)return o;const r=t[s];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(s+1),o)):o}else return o}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return o;throw s}}function gS(i,t){for(const[o,s]of Object.entries(t)){const r=o.split("."),f=s.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}Vu(i,r,f,0,p)}}function Vu(i,t,o,s,r){if(s>=t.length||typeof i!="object"||i===null)return;const f=t[s];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Vu(y,t,o,s+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const E=[];for(const _ of o.slice(s))_==="*"?E.push(h):E.push(_);c(p,E,v)}for(const h of g)delete p[h]}}else{const p=i;f in p&&Vu(p[f],t,o,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yS(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const s=u(i,["resourceName"]);return s!=null&&c(t,["_url","resourceName"],s),t}function vS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],TS(p)),t}function SS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],ES(p)),t}function TS(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>_S(p))),c(t,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function ES(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>xS(p))),c(t,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function _S(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],RS(o)),t}function xS(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],MS(o)),t}function CS(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function AS(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function wS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],NS(p)),t}function NS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Cg(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],bS(p)),t}function bS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function RS(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&c(t,["videoBytes"],uc(s));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function MS(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["videoBytes"],uc(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Bm||(Bm={}));var qm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(qm||(qm={}));var zm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(zm||(zm={}));var Jn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Jn||(Jn={}));var Om;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Om||(Om={}));var Fm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Fm||(Fm={}));var Jm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Jm||(Jm={}));var Ym;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ym||(Ym={}));var Km;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Km||(Km={}));var Xm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(Xm||(Xm={}));var Qm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Qm||(Qm={}));var Zm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Zm||(Zm={}));var $m;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})($m||($m={}));var Wm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Wm||(Wm={}));var jm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(jm||(jm={}));var eh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(eh||(eh={}));var th;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(th||(th={}));var nh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(nh||(nh={}));var ih;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ih||(ih={}));var Ks;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ks||(Ks={}));var oh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(oh||(oh={}));var lh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(lh||(lh={}));var sh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(sh||(sh={}));var Pu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Pu||(Pu={}));var ah;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ah||(ah={}));var rh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rh||(rh={}));var uh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(uh||(uh={}));var ch;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(ch||(ch={}));var fh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(fh||(fh={}));var dh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(dh||(dh={}));var ph;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(ph||(ph={}));var mh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(mh||(mh={}));var hh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(hh||(hh={}));var gh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(gh||(gh={}));var yh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yh||(yh={}));var vh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vh||(vh={}));var Sh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Sh||(Sh={}));var Th;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Th||(Th={}));var Eh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Eh||(Eh={}));var _h;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(_h||(_h={}));var xh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(xh||(xh={}));var Ch;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Ch||(Ch={}));var Ah;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ah||(Ah={}));var wh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(wh||(wh={}));var Nh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Nh||(Nh={}));var bh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(bh||(bh={}));var Rh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Rh||(Rh={}));var Mh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Mh||(Mh={}));var Ih;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ih||(Ih={}));var Dh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Dh||(Dh={}));var Uh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Uh||(Uh={}));var Lh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Lh||(Lh={}));var kh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kh||(kh={}));var Gh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Gh||(Gh={}));var Hh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Hh||(Hh={}));var lo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(lo||(lo={}));class Bu{constructor(t){const o={};for(const s of t.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class pl{get text(){var t,o,s,r,f,p,g,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const E=[];for(const _ of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,w]of Object.entries(_))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(w!==null||w!==void 0)&&E.push(C);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,h+=_.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,o,s,r,f,p,g,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,C]of Object.entries(E))_!=="inlineData"&&(C!==null||C!==void 0)&&v.push(_);E.inlineData&&typeof E.inlineData.data=="string"&&(h+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,s,r,f,p,g,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,s,r,f,p,g,y,h;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,s,r,f,p,g,y,h;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Vh{}class Ph{}class IS{}class DS{}class US{}class LS{}class Bh{}class qh{}class zh{}class kS{}class Xs{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Xs;let r;const f=t;return o?r=SS(f):r=vS(f),Object.assign(s,r),s}}class Oh{}class Fh{}class Jh{}class Yh{}class GS{}class HS{}class VS{}class cc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new cc,f=wS(t);return Object.assign(s,f),s}}class PS{}class BS{}class qS{}class Kh{}class zS{get text(){var t,o,s;let r="",f=!1;const p=[];for(const g of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,o,s;let r="";const f=[];for(const p of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class OS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class fc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new fc,f=Cg(t);return Object.assign(s,f),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function we(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Ag(i,t){const o=we(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function wg(i){return Array.isArray(i)?i.map(t=>Qs(t)):[Qs(i)]}function Qs(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Ng(i){const t=Qs(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function bg(i){const t=Qs(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Xh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Rg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Xh(t)):[Xh(i)]}function qu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Qh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Zh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function lt(i){if(i==null)throw new Error("ContentUnion is required");return qu(i)?i:{role:"user",parts:Rg(i)}}function dc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const s=lt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const o=lt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>lt(o)):[lt(t)]}function Ht(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Qh(i)||Zh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[lt(i)]}const t=[],o=[],s=qu(i[0]);for(const r of i){const f=qu(r);if(f!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(Qh(r)||Zh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||t.push({role:"user",parts:Rg(o)}),t}function FS(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(s=>s!=="null");if(o.length===1)t.type=Object.values(Jn).includes(o[0].toUpperCase())?o[0].toUpperCase():Jn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of o)t.anyOf.push({type:Object.values(Jn).includes(s.toUpperCase())?s.toUpperCase():Jn.TYPE_UNSPECIFIED})}}function ao(i){const t={},o=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&FS(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Jn).includes(g.toUpperCase())?g.toUpperCase():Jn.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=ao(g);else if(s.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(ao(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=ao(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function pc(i){return ao(i)}function mc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function hc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function mo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ao(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ao(t.response));return i}function ho(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function JS(i,t,o,s=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===s;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function Sn(i,t){if(typeof t!="string")throw new Error("name must be a string");return JS(i,t,"cachedContents")}function Mg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Kn(i){return uc(i)}function YS(i){return i!=null&&typeof i=="object"&&"name"in i}function KS(i){return i!=null&&typeof i=="object"&&"video"in i}function XS(i){return i!=null&&typeof i=="object"&&"uri"in i}function Ig(i){var t;let o;if(YS(i)&&(o=i.name),!(XS(i)&&(o=i.uri,o===void 0))&&!(KS(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Dg(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Ug(i){for(const t of["models","tunedModels","publisherModels"])if(QS(i,t))return i[t];return[]}function QS(i,t){return i!==null&&typeof i=="object"&&t in i}function ZS(i,t={}){const o=i,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function $S(i,t={}){const o=[],s=new Set;for(const r of i){const f=r.name;if(s.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);s.add(f);const p=ZS(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Lg(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function WS(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function kg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function go(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Gg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jS(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>UT(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function eT(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&c(t,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function tT(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(t,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Os(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata","displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],Gg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],jS(kg(h))),t}function zu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["state"]);r!=null&&c(t,["state"],Gg(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const E=u(i,["inputConfig"]);E!=null&&c(t,["src"],nT(E));const _=u(i,["outputConfig"]);_!=null&&c(t,["dest"],eT(kg(_)));const C=u(i,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function nT(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const s=u(i,["gcsSource","uris"]);s!=null&&c(t,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function iT(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(t,["fileName"]);s!=null&&c(o,["fileName"],s);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>DT(i,p))),c(o,["requests","requests"],f)}return o}function oT(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(t,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function lT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function sT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],go(i,s)),o}function aT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],go(i,s)),o}function rT(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&c(t,["citationMetadata"],uT(s));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(C=>C)),c(t,["safetyRatings"],_)}const E=u(i,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function uT(i){const t={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["citations"],s)}return t}function Hg(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>BT(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function cT(i,t){const o={},s=u(i,["displayName"]);if(t!==void 0&&s!=null&&c(t,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function fT(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],tT(WS(r))),o}function $h(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],iT(i,Lg(i,r)));const f=u(t,["config"]);return f!=null&&cT(f,o),o}function dT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],we(i,s));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],oT(Lg(i,r)));const f=u(t,["config"]);return f!=null&&fT(f,o),o}function pT(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&c(t,["batch","displayName"],s),o}function mT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],ET(i,r));const f=u(t,["config"]);return f!=null&&pT(f,o),o}function hT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],go(i,s)),o}function gT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],go(i,s)),o}function yT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function vT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function ST(i,t){const o={},s=u(t,["contents"]);if(s!=null){let f=dc(i,s);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],TT(r,o)),gS(o,{"requests[].*":"requests[].request.*"})),o}function TT(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function ET(i,t){const o={},s=u(t,["fileName"]);s!=null&&c(o,["file_name"],s);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],ST(i,r)),o}function _T(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function xT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function CT(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const s=u(i,["allowedFunctionNames"]);if(s!=null&&c(t,["allowedFunctionNames"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function AT(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Hg(lt(r)));const f=u(t,["temperature"]);f!=null&&c(s,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(s,["topP"],p);const g=u(t,["topK"]);g!=null&&c(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(s,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(s,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(s,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&c(s,["frequencyPenalty"],w);const I=u(t,["seed"]);I!=null&&c(s,["seed"],I);const L=u(t,["responseMimeType"]);L!=null&&c(s,["responseMimeType"],L);const G=u(t,["responseSchema"]);G!=null&&c(s,["responseSchema"],pc(G));const J=u(t,["responseJsonSchema"]);if(J!=null&&c(s,["responseJsonSchema"],J),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let _e=O;Array.isArray(_e)&&(_e=_e.map(Ge=>qT(Ge))),c(o,["safetySettings"],_e)}const Y=u(t,["tools"]);if(o!==void 0&&Y!=null){let _e=ho(Y);Array.isArray(_e)&&(_e=_e.map(Ge=>OT(mo(Ge)))),c(o,["tools"],_e)}const te=u(t,["toolConfig"]);if(o!==void 0&&te!=null&&c(o,["toolConfig"],zT(te)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=u(t,["cachedContent"]);o!==void 0&&F!=null&&c(o,["cachedContent"],Sn(i,F));const z=u(t,["responseModalities"]);z!=null&&c(s,["responseModalities"],z);const le=u(t,["mediaResolution"]);le!=null&&c(s,["mediaResolution"],le);const W=u(t,["speechConfig"]);if(W!=null&&c(s,["speechConfig"],mc(W)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=u(t,["thinkingConfig"]);fe!=null&&c(s,["thinkingConfig"],fe);const Ee=u(t,["imageConfig"]);Ee!=null&&c(s,["imageConfig"],IT(Ee));const ke=u(t,["enableEnhancedCivicAnswers"]);return ke!=null&&c(s,["enableEnhancedCivicAnswers"],ke),s}function wT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>rT(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function NT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],go(i,s)),o}function bT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],go(i,s)),o}function RT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function MT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function IT(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const s=u(i,["imageSize"]);if(s!=null&&c(t,["imageSize"],s),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function DT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["request","model"],we(i,s));const r=u(t,["contents"]);if(r!=null){let g=Ht(r);Array.isArray(g)&&(g=g.map(y=>Hg(y))),c(o,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],AT(i,p,u(o,["request"],{}))),o}function UT(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],wT(o));const s=u(i,["error"]);return s!=null&&c(t,["error"],s),t}function LT(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function kT(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),o}function GT(i){const t={},o=u(i,["config"]);return o!=null&&LT(o,t),t}function HT(i){const t={},o=u(i,["config"]);return o!=null&&kT(o,t),t}function VT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Os(p))),c(t,["batchJobs"],f)}return t}function PT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>zu(p))),c(t,["batchJobs"],f)}return t}function BT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],_T(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],xT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],lT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function qT(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(t,["threshold"],s),t}function zT(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],CT(o));const s=u(i,["retrievalConfig"]);return s!=null&&c(t,["retrievalConfig"],s),t}function OT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],RT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],MT(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(yn||(yn={}));class Si{constructor(t,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,s,r)}init(t,o,s){var r,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!s||Object.keys(s).length===0?p={config:{}}:typeof s=="object"?p=Object.assign({},s):p=s,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FT extends vn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(yn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=$h(this.apiClient,t),s=o._url,r=Z("{model}:batchGenerateContent",s),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const _=E.systemInstruction;delete E.systemInstruction;const C=E.request;C.systemInstruction=_,E.request=C}h.push(E)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?s.dest=`${f.slice(0,-6)}/dest`:s.dest=`${f}_dest_${r}`;else if(p)s.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=dT(this.apiClient,t);return g=Z("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>zu(v))}else{const h=$h(this.apiClient,t);return g=Z("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Os(v))}}async createEmbeddingsInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=mT(this.apiClient,t);return f=Z("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>Os(y))}}async get(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=bT(this.apiClient,t);return g=Z("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>zu(v))}else{const h=NT(this.apiClient,t);return g=Z("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Os(v))}}async cancel(t){var o,s,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=aT(this.apiClient,t);p=Z("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=sT(this.apiClient,t);p=Z("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=HT(t);return g=Z("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=PT(v),_=new Kh;return Object.assign(_,E),_})}else{const h=GT(t);return g=Z("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=VT(v),_=new Kh;return Object.assign(_,E),_})}}async delete(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=gT(this.apiClient,t);return g=Z("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>vT(v))}else{const h=hT(this.apiClient,t);return g=Z("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>yT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Wh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>mE(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function YT(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=Ht(p);Array.isArray(v)&&(v=v.map(E=>Wh(E))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Wh(lt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>gE(E))),c(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],hE(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function KT(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let E=Ht(p);Array.isArray(E)&&(E=E.map(_=>_)),c(t,["contents"],E)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],lt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(_=>yE(_))),c(t,["tools"],E)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function XT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],Ag(i,s));const r=u(t,["config"]);return r!=null&&YT(r,o),o}function QT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],Ag(i,s));const r=u(t,["config"]);return r!=null&&KT(r,o),o}function ZT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],Sn(i,s)),o}function $T(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],Sn(i,s)),o}function WT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function jT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function eE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function tE(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function nE(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const s=u(i,["allowedFunctionNames"]);if(s!=null&&c(t,["allowedFunctionNames"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function iE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function oE(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],Sn(i,s)),o}function lE(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],Sn(i,s)),o}function sE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function aE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function rE(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function uE(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function cE(i){const t={},o=u(i,["config"]);return o!=null&&rE(o,t),t}function fE(i){const t={},o=u(i,["config"]);return o!=null&&uE(o,t),t}function dE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function pE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function mE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],eE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],tE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],JT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function hE(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],nE(o));const s=u(i,["retrievalConfig"]);return s!=null&&c(t,["retrievalConfig"],s),t}function gE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],sE(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],aE(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function yE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(_=>iE(_))),c(t,["functionDeclarations"],E)}const s=u(i,["retrieval"]);s!=null&&c(t,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function vE(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function SE(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function TE(i,t){const o={},s=u(t,["name"]);s!=null&&c(o,["_url","name"],Sn(i,s));const r=u(t,["config"]);return r!=null&&vE(r,o),o}function EE(i,t){const o={},s=u(t,["name"]);s!=null&&c(o,["_url","name"],Sn(i,s));const r=u(t,["config"]);return r!=null&&SE(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _E extends vn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(yn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=QT(this.apiClient,t);return g=Z("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=XT(this.apiClient,t);return g=Z("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=lE(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=oE(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=$T(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=jT(v),_=new Jh;return Object.assign(_,E),_})}else{const h=ZT(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=WT(v),_=new Jh;return Object.assign(_,E),_})}}async update(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=EE(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=TE(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=fE(t);return g=Z("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=pE(v),_=new Yh;return Object.assign(_,E),_})}else{const h=cE(t);return g=Z("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=dE(v),_=new Yh;return Object.assign(_,E),_})}}}function Zs(i,t){var o={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(o[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(o[s[r]]=i[s[r]]);return o}function jh(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],s=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(i){return this instanceof ce?(this.v=i,this):new ce(i)}function zt(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(w){return Promise.resolve(w).then(C,E)}}function g(C,w){s[C]&&(r[C]=function(I){return new Promise(function(L,G){f.push([C,I,L,G])>1||y(C,I)})},w&&(r[C]=w(r[C])))}function y(C,w){try{h(s[C](w))}catch(I){_(f[0][3],I)}}function h(C){C.value instanceof ce?Promise.resolve(C.value.v).then(v,E):_(f[0][2],C)}function v(C){y("next",C)}function E(C){y("throw",C)}function _(C,w){C(w),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Ot(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof jh=="function"?jh(i):i[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(f){o[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xE(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:Vg(o)}function Vg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function CE(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function eg(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let s=0;for(;s<o;)if(i[s].role==="user")t.push(i[s]),s++;else{const r=[];let f=!0;for(;s<o&&i[s].role==="model";)r.push(i[s]),f&&!Vg(i[s])&&(f=!1),s++;f?t.push(...r):t.pop()}return t}class AE{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new wE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class wE{constructor(t,o,s,r={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=s,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),CE(f)}async sendMessage(t){var o;await this.sendPromise;const s=lt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,h=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let _=[];v!=null&&(_=(g=v.slice(E))!==null&&g!==void 0?g:[]);const C=h?[h]:[];this.recordHistory(s,C,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const s=lt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,s)}getHistory(t=!1){const o=t?eg(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return zt(this,arguments,function*(){var r,f,p,g,y,h;const v=[];try{for(var E=!0,_=Ot(t),C;C=yield ce(_.next()),r=C.done,!r;E=!0){g=C.value,E=!1;const w=g;if(xE(w)){const I=(h=(y=w.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;I!==void 0&&v.push(I)}yield yield ce(w)}}catch(w){f={error:w}}finally{try{!E&&!r&&(p=_.return)&&(yield ce(p.call(_)))}finally{if(f)throw f.error}}this.recordHistory(o,v)})}recordHistory(t,o,s){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...eg(s)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ta extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ta.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NE(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function bE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function RE(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],Ig(o)),t}function ME(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function IE(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],Ig(o)),t}function DE(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function UE(i){const t={},o=u(i,["config"]);return o!=null&&DE(o,t),t}function LE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kE extends vn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(yn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=UE(t);return f=Z("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=LE(y),v=new PS;return Object.assign(v,h),v})}}async createInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NE(t);return f=Z("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=bE(y),v=new BS;return Object.assign(v,h),v})}}async get(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IE(t);return f=Z("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=RE(t);return f=Z("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=ME(y),v=new qS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fs(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function GE(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>WE(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function HE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function VE(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function PE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function BE(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&c(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(i,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const _=u(i,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const w=u(i,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const I=u(i,["responseSchema"]);I!=null&&c(t,["responseSchema"],I);const L=u(i,["routingConfig"]);L!=null&&c(t,["routingConfig"],L);const G=u(i,["seed"]);G!=null&&c(t,["seed"],G);const J=u(i,["speechConfig"]);J!=null&&c(t,["speechConfig"],Pg(J));const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const Y=u(i,["temperature"]);Y!=null&&c(t,["temperature"],Y);const te=u(i,["thinkingConfig"]);te!=null&&c(t,["thinkingConfig"],te);const F=u(i,["topK"]);F!=null&&c(t,["topK"],F);const z=u(i,["topP"]);if(z!=null&&c(t,["topP"],z),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function qE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function zE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function OE(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],hc(E));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],GE(lt(w)));const I=u(i,["tools"]);if(t!==void 0&&I!=null){let F=ho(I);Array.isArray(F)&&(F=F.map(z=>e_(mo(z)))),c(t,["setup","tools"],F)}const L=u(i,["sessionResumption"]);t!==void 0&&L!=null&&c(t,["setup","sessionResumption"],jE(L));const G=u(i,["inputAudioTranscription"]);t!==void 0&&G!=null&&c(t,["setup","inputAudioTranscription"],G);const J=u(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","outputAudioTranscription"],J);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const Y=u(i,["contextWindowCompression"]);t!==void 0&&Y!=null&&c(t,["setup","contextWindowCompression"],Y);const te=u(i,["proactivity"]);if(t!==void 0&&te!=null&&c(t,["setup","proactivity"],te),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function FE(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],BE(s));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Pg(hc(E)));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],lt(w));const I=u(i,["tools"]);if(t!==void 0&&I!=null){let z=ho(I);Array.isArray(z)&&(z=z.map(le=>t_(mo(le)))),c(t,["setup","tools"],z)}const L=u(i,["sessionResumption"]);t!==void 0&&L!=null&&c(t,["setup","sessionResumption"],L);const G=u(i,["inputAudioTranscription"]);t!==void 0&&G!=null&&c(t,["setup","inputAudioTranscription"],G);const J=u(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","outputAudioTranscription"],J);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const Y=u(i,["contextWindowCompression"]);t!==void 0&&Y!=null&&c(t,["setup","contextWindowCompression"],Y);const te=u(i,["proactivity"]);t!==void 0&&te!=null&&c(t,["setup","proactivity"],te);const F=u(i,["explicitVadSignal"]);return t!==void 0&&F!=null&&c(t,["setup","explicitVadSignal"],F),o}function JE(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],we(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],OE(r,o)),o}function YE(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],we(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],FE(r,o)),o}function KE(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function XE(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["weightedPrompts"],s)}return t}function QE(i){const t={},o=u(i,["media"]);if(o!=null){let h=wg(o);Array.isArray(h)&&(h=h.map(v=>Fs(v))),c(t,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&c(t,["audio"],Fs(bg(s)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Fs(Ng(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function ZE(i){const t={},o=u(i,["media"]);if(o!=null){let h=wg(o);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&c(t,["audio"],bg(s));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Ng(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function $E(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const s=u(i,["serverContent"]);s!=null&&c(t,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],n_(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function WE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],HE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],VE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Fs(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function jE(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Pg(i){const t={},o=u(i,["voiceConfig"]);o!=null&&c(t,["voiceConfig"],o);const s=u(i,["languageCode"]);if(s!=null&&c(t,["languageCode"],s),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function e_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],qE(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],zE(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function t_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(_=>PE(_))),c(t,["functionDeclarations"],E)}const s=u(i,["retrieval"]);s!=null&&c(t,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function n_(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const s=u(i,["cachedContentTokenCount"]);s!=null&&c(t,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["promptTokensDetails"],C)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["cacheTokensDetails"],C)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["responseTokensDetails"],C)}const E=u(i,["toolUsePromptTokensDetails"]);if(E!=null){let C=E;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["toolUsePromptTokensDetails"],C)}const _=u(i,["trafficType"]);return _!=null&&c(t,["trafficType"],_),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i_(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function o_(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&c(t,["citationMetadata"],l_(s));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(C=>C)),c(t,["safetyRatings"],_)}const E=u(i,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function l_(i){const t={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["citations"],s)}return t}function s_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["contents"]);if(r!=null){let f=Ht(r);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["contents"],f)}return o}function a_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function r_(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const s=u(i,["statistics"]);return s!=null&&c(t,["statistics"],u_(s)),t}function u_(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const s=u(i,["token_count"]);return s!=null&&c(t,["tokenCount"],s),t}function na(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>vx(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function c_(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const s=u(i,["enableControlImageComputation"]);return s!=null&&c(t,["computeControl"],s),t}function f_(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function d_(i,t){const o={},s=u(i,["systemInstruction"]);t!==void 0&&s!=null&&c(t,["systemInstruction"],lt(s));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>Fg(g))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],ix(f)),o}function p_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["contents"]);if(r!=null){let p=Ht(r);Array.isArray(p)&&(p=p.map(g=>na(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&f_(f),o}function m_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["contents"]);if(r!=null){let p=Ht(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&d_(f,o),o}function h_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["totalTokens"]);s!=null&&c(t,["totalTokens"],s);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function g_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["totalTokens"]);return s!=null&&c(t,["totalTokens"],s),t}function y_(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],we(i,s)),o}function v_(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],we(i,s)),o}function S_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function T_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function E_(i,t){const o={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const I=u(i,["outputCompressionQuality"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","compressionQuality"],I);const L=u(i,["addWatermark"]);t!==void 0&&L!=null&&c(t,["parameters","addWatermark"],L);const G=u(i,["labels"]);t!==void 0&&G!=null&&c(t,["labels"],G);const J=u(i,["editMode"]);t!==void 0&&J!=null&&c(t,["parameters","editMode"],J);const O=u(i,["baseSteps"]);return t!==void 0&&O!=null&&c(t,["parameters","editConfig","baseSteps"],O),o}function __(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>Cx(y))),c(o,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&E_(p,o),o}function x_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>ia(f))),c(t,["generatedImages"],r)}return t}function C_(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function A_(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["instances[]","task_type"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function w_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["contents"]);if(r!=null){let g=dc(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&C_(f,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],we(i,p)),o}function N_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["contents"]);if(r!=null){let p=dc(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&A_(f,o),o}function b_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function R_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions[]","embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>r_(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function M_(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const s=u(i,["deployedModelId"]);return s!=null&&c(t,["deployedModelId"],s),t}function I_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function D_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function U_(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const s=u(i,["allowedFunctionNames"]);if(s!=null&&c(t,["allowedFunctionNames"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function L_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function k_(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],na(lt(r)));const f=u(t,["temperature"]);f!=null&&c(s,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(s,["topP"],p);const g=u(t,["topK"]);g!=null&&c(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(s,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(s,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(s,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&c(s,["frequencyPenalty"],w);const I=u(t,["seed"]);I!=null&&c(s,["seed"],I);const L=u(t,["responseMimeType"]);L!=null&&c(s,["responseMimeType"],L);const G=u(t,["responseSchema"]);G!=null&&c(s,["responseSchema"],pc(G));const J=u(t,["responseJsonSchema"]);if(J!=null&&c(s,["responseJsonSchema"],J),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let _e=O;Array.isArray(_e)&&(_e=_e.map(Ge=>Ax(Ge))),c(o,["safetySettings"],_e)}const Y=u(t,["tools"]);if(o!==void 0&&Y!=null){let _e=ho(Y);Array.isArray(_e)&&(_e=_e.map(Ge=>Dx(mo(Ge)))),c(o,["tools"],_e)}const te=u(t,["toolConfig"]);if(o!==void 0&&te!=null&&c(o,["toolConfig"],Ix(te)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=u(t,["cachedContent"]);o!==void 0&&F!=null&&c(o,["cachedContent"],Sn(i,F));const z=u(t,["responseModalities"]);z!=null&&c(s,["responseModalities"],z);const le=u(t,["mediaResolution"]);le!=null&&c(s,["mediaResolution"],le);const W=u(t,["speechConfig"]);if(W!=null&&c(s,["speechConfig"],mc(W)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=u(t,["thinkingConfig"]);fe!=null&&c(s,["thinkingConfig"],fe);const Ee=u(t,["imageConfig"]);Ee!=null&&c(s,["imageConfig"],rx(Ee));const ke=u(t,["enableEnhancedCivicAnswers"]);return ke!=null&&c(s,["enableEnhancedCivicAnswers"],ke),s}function G_(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],lt(r));const f=u(t,["temperature"]);f!=null&&c(s,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(s,["topP"],p);const g=u(t,["topK"]);g!=null&&c(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(s,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(s,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(s,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&c(s,["frequencyPenalty"],w);const I=u(t,["seed"]);I!=null&&c(s,["seed"],I);const L=u(t,["responseMimeType"]);L!=null&&c(s,["responseMimeType"],L);const G=u(t,["responseSchema"]);G!=null&&c(s,["responseSchema"],pc(G));const J=u(t,["responseJsonSchema"]);J!=null&&c(s,["responseJsonSchema"],J);const O=u(t,["routingConfig"]);O!=null&&c(s,["routingConfig"],O);const Y=u(t,["modelSelectionConfig"]);Y!=null&&c(s,["modelConfig"],Y);const te=u(t,["safetySettings"]);if(o!==void 0&&te!=null){let H=te;Array.isArray(H)&&(H=H.map(K=>K)),c(o,["safetySettings"],H)}const F=u(t,["tools"]);if(o!==void 0&&F!=null){let H=ho(F);Array.isArray(H)&&(H=H.map(K=>Fg(mo(K)))),c(o,["tools"],H)}const z=u(t,["toolConfig"]);o!==void 0&&z!=null&&c(o,["toolConfig"],z);const le=u(t,["labels"]);o!==void 0&&le!=null&&c(o,["labels"],le);const W=u(t,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],Sn(i,W));const fe=u(t,["responseModalities"]);fe!=null&&c(s,["responseModalities"],fe);const Ee=u(t,["mediaResolution"]);Ee!=null&&c(s,["mediaResolution"],Ee);const ke=u(t,["speechConfig"]);ke!=null&&c(s,["speechConfig"],Og(mc(ke)));const _e=u(t,["audioTimestamp"]);_e!=null&&c(s,["audioTimestamp"],_e);const Ge=u(t,["thinkingConfig"]);Ge!=null&&c(s,["thinkingConfig"],Ge);const Fe=u(t,["imageConfig"]);if(Fe!=null&&c(s,["imageConfig"],ux(Fe)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function tg(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["contents"]);if(r!=null){let p=Ht(r);Array.isArray(p)&&(p=p.map(g=>na(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],k_(i,f,o)),o}function ng(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["contents"]);if(r!=null){let p=Ht(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],G_(i,f,o)),o}function ig(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>o_(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function og(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function H_(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","mimeType"],E);const _=u(i,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&c(t,["parameters","outputOptions","compressionQuality"],_),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function V_(i,t){const o={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const I=u(i,["outputCompressionQuality"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","compressionQuality"],I);const L=u(i,["addWatermark"]);t!==void 0&&L!=null&&c(t,["parameters","addWatermark"],L);const G=u(i,["labels"]);t!==void 0&&G!=null&&c(t,["labels"],G);const J=u(i,["imageSize"]);t!==void 0&&J!=null&&c(t,["parameters","sampleImageSize"],J);const O=u(i,["enhancePrompt"]);return t!==void 0&&O!=null&&c(t,["parameters","enhancePrompt"],O),o}function P_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&H_(f,o),o}function B_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&V_(f,o),o}function q_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>j_(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],qg(r)),t}function z_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>ia(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],zg(r)),t}function O_(i,t){const o={},s=u(i,["numberOfVideos"]);if(t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],oa(v));const E=u(i,["referenceImages"]);if(t!==void 0&&E!=null){let _=E;Array.isArray(_)&&(_=_.map(C=>Jx(C))),c(t,["instances[0]","referenceImages"],_)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function F_(i,t){const o={},s=u(i,["numberOfVideos"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["pubsubTopic"]);t!==void 0&&E!=null&&c(t,["parameters","pubsubTopic"],E);const _=u(i,["negativePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","negativePrompt"],_);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const w=u(i,["generateAudio"]);t!==void 0&&w!=null&&c(t,["parameters","generateAudio"],w);const I=u(i,["lastFrame"]);t!==void 0&&I!=null&&c(t,["instances[0]","lastFrame"],Jt(I));const L=u(i,["referenceImages"]);if(t!==void 0&&L!=null){let O=L;Array.isArray(O)&&(O=O.map(Y=>Yx(Y))),c(t,["instances[0]","referenceImages"],O)}const G=u(i,["mask"]);t!==void 0&&G!=null&&c(t,["instances[0]","mask"],Fx(G));const J=u(i,["compressionQuality"]);return t!==void 0&&J!=null&&c(t,["parameters","compressionQuality"],J),o}function J_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],Q_(p)),t}function Y_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],Z_(p)),t}function K_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],oa(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],Jg(p));const g=u(t,["source"]);g!=null&&$_(g,o);const y=u(t,["config"]);return y!=null&&O_(y,o),o}function X_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Jt(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],Yg(p));const g=u(t,["source"]);g!=null&&W_(g,o);const y=u(t,["config"]);return y!=null&&F_(y,o),o}function Q_(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>tx(p))),c(t,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Z_(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>nx(p))),c(t,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function $_(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],oa(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Jg(f)),o}function W_(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Jt(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Yg(f)),o}function j_(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],cx(o));const s=u(i,["raiFilteredReason"]);s!=null&&c(t,["raiFilteredReason"],s);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],qg(r)),t}function ia(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],Bg(o));const s=u(i,["raiFilteredReason"]);s!=null&&c(t,["raiFilteredReason"],s);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],zg(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function ex(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],Bg(o));const s=u(i,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function tx(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],zx(o)),t}function nx(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],Ox(o)),t}function ix(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&c(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(i,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const _=u(i,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const w=u(i,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const I=u(i,["responseSchema"]);I!=null&&c(t,["responseSchema"],I);const L=u(i,["routingConfig"]);L!=null&&c(t,["routingConfig"],L);const G=u(i,["seed"]);G!=null&&c(t,["seed"],G);const J=u(i,["speechConfig"]);J!=null&&c(t,["speechConfig"],Og(J));const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const Y=u(i,["temperature"]);Y!=null&&c(t,["temperature"],Y);const te=u(i,["thinkingConfig"]);te!=null&&c(t,["thinkingConfig"],te);const F=u(i,["topK"]);F!=null&&c(t,["topK"],F);const z=u(i,["topP"]);if(z!=null&&c(t,["topP"],z),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ox(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],we(i,s)),o}function lx(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],we(i,s)),o}function sx(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function ax(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function rx(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const s=u(i,["imageSize"]);if(s!=null&&c(t,["imageSize"],s),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function ux(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const s=u(i,["imageSize"]);s!=null&&c(t,["imageSize"],s);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const f=u(i,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function cx(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Kn(o));const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Bg(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["imageBytes"],Kn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function oa(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Kn(o));const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Jt(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const s=u(i,["imageBytes"]);s!=null&&c(t,["bytesBase64Encoded"],Kn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function fx(i,t,o){const s={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Dg(i,g)),s}function dx(i,t,o){const s={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Dg(i,g)),s}function px(i,t){const o={},s=u(t,["config"]);return s!=null&&fx(i,s,o),o}function mx(i,t){const o={},s=u(t,["config"]);return s!=null&&dx(i,s,o),o}function hx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let f=Ug(r);Array.isArray(f)&&(f=f.map(p=>Ou(p))),c(t,["models"],f)}return t}function gx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let f=Ug(r);Array.isArray(f)&&(f=f.map(p=>Fu(p))),c(t,["models"],f)}return t}function yx(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const s=u(i,["segmentationClasses"]);s!=null&&c(t,["maskClasses"],s);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Ou(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],Ux(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const E=u(i,["maxTemperature"]);E!=null&&c(t,["maxTemperature"],E);const _=u(i,["topP"]);_!=null&&c(t,["topP"],_);const C=u(i,["topK"]);C!=null&&c(t,["topK"],C);const w=u(i,["thinking"]);return w!=null&&c(t,["thinking"],w),t}function Fu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(_=>M_(_))),c(t,["endpoints"],E)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],Lx(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(_=>_)),c(t,["checkpoints"],E)}return t}function vx(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],I_(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],D_(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],i_(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function Sx(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],Jt(o)),t}function Tx(i,t){const o={},s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const E=u(i,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);const _=u(i,["enhancePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","enhancePrompt"],_);const C=u(i,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),o}function Ex(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["source"]);r!=null&&xx(r,o);const f=u(t,["config"]);return f!=null&&Tx(f,o),o}function _x(i){const t={},o=u(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>ia(r))),c(t,["generatedImages"],s)}return t}function xx(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Jt(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Sx(g))),c(t,["instances[0]","productImages"],p)}return o}function Cx(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],Jt(o));const s=u(i,["referenceId"]);s!=null&&c(t,["referenceId"],s);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],yx(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],c_(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function qg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const s=u(i,["safetyAttributes","scores"]);s!=null&&c(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function zg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const s=u(i,["safetyAttributes","scores"]);s!=null&&c(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Ax(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(t,["threshold"],s),t}function wx(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],Jt(o)),t}function Nx(i,t){const o={},s=u(i,["mode"]);t!==void 0&&s!=null&&c(t,["parameters","mode"],s);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function bx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["source"]);r!=null&&Mx(r,o);const f=u(t,["config"]);return f!=null&&Nx(f,o),o}function Rx(i){const t={},o=u(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>ex(r))),c(t,["generatedMasks"],s)}return t}function Mx(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Jt(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],wx(f)),o}function Og(i){const t={},o=u(i,["voiceConfig"]);o!=null&&c(t,["voiceConfig"],o);const s=u(i,["languageCode"]);if(s!=null&&c(t,["languageCode"],s),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Ix(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],U_(o));const s=u(i,["retrievalConfig"]);return s!=null&&c(t,["retrievalConfig"],s),t}function Dx(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],sx(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],ax(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function Fg(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(_=>L_(_))),c(t,["functionDeclarations"],E)}const s=u(i,["retrieval"]);s!=null&&c(t,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function Ux(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const s=u(i,["createTime"]);s!=null&&c(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function Lx(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const s=u(i,["createTime"]);s!=null&&c(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function kx(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function Gx(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function Hx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","name"],we(i,s));const r=u(t,["config"]);return r!=null&&kx(r,o),o}function Vx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["config"]);return r!=null&&Gx(r,o),o}function Px(i,t){const o={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=u(i,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const _=u(i,["numberOfImages"]);t!==void 0&&_!=null&&c(t,["parameters","sampleCount"],_);const C=u(i,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),o}function Bx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],we(i,s));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Jt(r));const f=u(t,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&Px(p,o),o}function qx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>ia(f))),c(t,["generatedImages"],r)}return t}function zx(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&c(t,["videoBytes"],Kn(s));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Ox(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["videoBytes"],Kn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Fx(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],Jt(o));const s=u(i,["maskMode"]);return s!=null&&c(t,["maskMode"],s),t}function Jx(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],oa(o));const s=u(i,["referenceType"]);return s!=null&&c(t,["referenceType"],s),t}function Yx(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Jt(o));const s=u(i,["referenceType"]);return s!=null&&c(t,["referenceType"],s),t}function Jg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const s=u(i,["videoBytes"]);s!=null&&c(t,["encodedVideo"],Kn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function Yg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const s=u(i,["videoBytes"]);s!=null&&c(t,["bytesBase64Encoded"],Kn(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kx(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&c(t,["displayName"],s),o}function Xx(i){const t={},o=u(i,["config"]);return o!=null&&Kx(o,t),t}function Qx(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&c(t,["_query","force"],s),o}function Zx(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&Qx(s,t),t}function $x(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function Wx(i,t){const o={},s=u(i,["customMetadata"]);if(t!==void 0&&s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function jx(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],tC(p)),t}function eC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const s=u(i,["fileName"]);s!=null&&c(t,["fileName"],s);const r=u(i,["config"]);return r!=null&&Wx(r,t),t}function tC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function nC(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function iC(i){const t={},o=u(i,["config"]);return o!=null&&nC(o,t),t}function oC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function Kg(i,t){const o={},s=u(i,["mimeType"]);t!==void 0&&s!=null&&c(t,["mimeType"],s);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function lC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const s=u(i,["config"]);return s!=null&&Kg(s,t),t}function sC(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aC="Content-Type",rC="X-Server-Timeout",uC="User-Agent",Ju="x-goog-api-client",cC="1.33.0",fC=`google-genai-sdk/${cC}`,dC="v1beta1",pC="v1beta";class mC{constructor(t){var o,s;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:dC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:pC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,s);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,o){const s=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(o))typeof f=="object"?s[r]=Object.assign(Object.assign({},s[r]),f):f!==void 0&&(s[r]=f);return s}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,s,r){if(o&&o.timeout||r){const f=new AbortController,p=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>f.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return o&&o.extraBody!==null&&hC(t,o.extraBody),t.headers=await this.getHeadersInternal(o,s),t}async unaryApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await lg(r),new Bu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await lg(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return zt(this,arguments,function*(){var s;const r=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield ce(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=f.decode(v,{stream:!0});try{const w=JSON.parse(E);if("error"in w){const I=JSON.parse(JSON.stringify(w.error)),L=I.status,G=I.code,J=`got status: ${L}. ${JSON.stringify(w)}`;if(G>=400&&G<600)throw new ta({message:J,status:G})}}catch(w){if(w.name==="ApiError")throw w}p+=E;let _=-1,C=0;for(;;){_=-1,C=0;for(const L of y){const G=p.indexOf(L);G!==-1&&(_===-1||G<_)&&(_=G,C=L.length)}if(_===-1)break;const w=p.substring(0,_);p=p.substring(_+C);const I=w.trim();if(I.startsWith(g)){const L=I.substring(g.length).trim();try{const G=new Response(L,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ce(new Bu(G))}catch(G){throw new Error(`exception parsing stream chunk ${L}. ${G}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const t={},o=fC+" "+this.clientOptions.userAgentExtra;return t[uC]=o,t[Ju]=o,t[aC]="application/json",t}async getHeadersInternal(t,o){const s=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))s.append(r,f);t.timeout&&t.timeout>0&&s.append(rC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(t){var o;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(t,o){var s;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=Z("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,o==null?void 0:o.httpOptions);return f.upload(t,E,this)}async uploadFileToFileSearchStore(t,o,s){var r;const f=this.clientOptions.uploader,p=await f.stat(o),g=String(p.size),y=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),E={};s!=null&&Kg(s,E);const _=await this.fetchUploadUrl(h,g,y,v,E,s==null?void 0:s.httpOptions);return f.uploadToFileSearchStore(o,_,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,s,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function lg(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let s;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new ta({message:r,status:o}):new Error(r)}}function hC(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=s(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=s(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gC="mcp_used/unknown";let yC=!1;function Xg(i){for(const t of i)if(vC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return yC}function Qg(i){var t;const o=(t=i[Ju])!==null&&t!==void 0?t:"";i[Ju]=(o+` ${gC}`).trimStart()}function vC(i){return i!==null&&typeof i=="object"&&i instanceof gc}function SC(i){return zt(this,arguments,function*(o,s=100){let r,f=0;for(;f<s;){const p=yield ce(o.listTools({cursor:r}));for(const g of p.tools)yield yield ce(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class gc{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new gc(t,o)}async initialize(){var t,o,s,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Ot(SC(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const E=r;p.push(E);const _=E.name;if(f[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);f[_]=v}}catch(E){o={error:E}}finally{try{!g&&!t&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),$S(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:s.name,arguments:s.args},void 0,f);o.push({functionResponse:{name:s.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TC(i,t,o){const s=new OS;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),t(s)}class EC{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s}async connect(t){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=CC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(O=>{h=O}),E=t.callbacks,_=function(){h({})},C=this.apiClient,w={onopen:_,onmessage:O=>{TC(C,E.onmessage,O)},onerror:(o=E==null?void 0:E.onerror)!==null&&o!==void 0?o:function(O){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(O){}},I=this.webSocketFactory.create(y,xC(p),w);I.connect(),await v;const J={setup:{model:we(this.apiClient,t.model)}};return I.send(JSON.stringify(J)),new _C(I,this.apiClient)}}class _C{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=XE(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=KE(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(lo.PLAY)}pause(){this.sendPlaybackControl(lo.PAUSE)}stop(){this.sendPlaybackControl(lo.STOP)}resetContext(){this.sendPlaybackControl(lo.RESET_CONTEXT)}close(){this.conn.close()}}function xC(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function CC(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function wC(i,t,o){const s=new zS;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=$E(f);Object.assign(s,p)}else Object.assign(s,f);t(s)}class NC{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s,this.music=new EC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,s,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();t.config&&t.config.tools&&Xg(t.config.tools)&&Qg(E);const _=IC(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v);else{const W=this.apiClient.getApiKey();let fe="BidiGenerateContent",Ee="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),fe="BidiGenerateContentConstrained",Ee="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${fe}?${Ee}=${W}`}let C=()=>{};const w=new Promise(W=>{C=W}),I=t.callbacks,L=function(){var W;(W=I==null?void 0:I.onopen)===null||W===void 0||W.call(I),C({})},G=this.apiClient,J={onopen:L,onmessage:W=>{wC(G,I.onmessage,W)},onerror:(o=I==null?void 0:I.onerror)!==null&&o!==void 0?o:function(W){},onclose:(s=I==null?void 0:I.onclose)!==null&&s!==void 0?s:function(W){}},O=this.webSocketFactory.create(v,MC(_),J);O.connect(),await w;let Y=we(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&Y.startsWith("publishers/")){const W=this.apiClient.getProject(),fe=this.apiClient.getLocation();Y=`projects/${W}/locations/${fe}/`+Y}let te={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ks.AUDIO]}:t.config.responseModalities=[Ks.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const F=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],z=[];for(const W of F)if(this.isCallableTool(W)){const fe=W;z.push(await fe.tool())}else z.push(W);z.length>0&&(t.config.tools=z);const le={model:Y,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?te=YE(this.apiClient,le):te=JE(this.apiClient,le),delete te.config,O.send(JSON.stringify(te)),new RC(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const bC={turnComplete:!0};class RC{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Ht(o.turns),t.isVertexAI()||(s=s.map(r=>na(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const f of s){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(AC)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},bC),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:ZE(t)}:o={realtimeInput:QE(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function MC(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function IC(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sg=10;function ag(i){var t,o,s;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(ro(p)){r=!0;break}if(!r)return!0;const f=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function ro(i){return"callTool"in i&&typeof i.callTool=="function"}function DC(i){var t,o,s;return(s=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>ro(r)))!==null&&s!==void 0?s:!1}function rg(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((s,r)=>{if(ro(s))return;const f=s;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function ug(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UC extends vn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var s,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!DC(o)||ag(o.config))return await this.generateContentInternal(y);const h=rg(o);if(h.length>0){const I=h.map(L=>`tools[${L}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let v,E;const _=Ht(y.contents),C=(f=(r=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:sg;let w=0;for(;w<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const I=v.candidates[0].content,L=[];for(const G of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(ro(G)){const O=await G.callTool(v.functionCalls);L.push(...O)}w++,E={role:"user",parts:L},y.contents=Ht(y.contents),y.contents.push(I),y.contents.push(E),ug(y.config)&&(_.push(I),_.push(E))}return ug(y.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async o=>{var s,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(o),ag(o.config)){const E=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(E)}const y=rg(o);if(y.length>0){const E=y.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(r=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let f;const p=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async o=>{var s;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((s=p.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Si(yn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,f,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,s,r;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>ro(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Xg(t.config.tools)){const y=(r=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Qg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,s,r;const f=new Map;for(const p of(s=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(ro(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(t){var o,s,r;const f=(r=(s=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:sg;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,E){return zt(this,arguments,function*(){for(var _,C,w,I,L,G;g<f;){p&&(g++,p=!1);const te=yield ce(h.processParamsMaybeAddMcpUsage(E)),F=yield ce(h.generateContentStreamInternal(te)),z=[],le=[];try{for(var J=!0,O=(C=void 0,Ot(F)),Y;Y=yield ce(O.next()),_=Y.done,!_;J=!0){I=Y.value,J=!1;const W=I;if(yield yield ce(W),W.candidates&&(!((L=W.candidates[0])===null||L===void 0)&&L.content)){le.push(W.candidates[0].content);for(const fe of(G=W.candidates[0].content.parts)!==null&&G!==void 0?G:[])if(g<f&&fe.functionCall){if(!fe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(fe.functionCall.name)){const Ee=yield ce(v.get(fe.functionCall.name).callTool([fe.functionCall]));z.push(...Ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${fe.functionCall.name}`)}}}}catch(W){C={error:W}}finally{try{!J&&!_&&(w=O.return)&&(yield ce(w.call(O)))}finally{if(C)throw C.error}}if(z.length>0){p=!0;const W=new pl;W.candidates=[{content:{role:"user",parts:z}}],yield yield ce(W);const fe=[];fe.push(...le),fe.push({role:"user",parts:z});const Ee=Ht(E.contents).concat(fe);E.contents=Ee}else break}})})(this,y,t)}async generateContentInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ng(this.apiClient,t);return g=Z("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=og(v),_=new pl;return Object.assign(_,E),_})}else{const h=tg(this.apiClient,t);return g=Z("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=ig(v),_=new pl;return Object.assign(_,E),_})}}async generateContentStreamInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ng(this.apiClient,t);return g=Z("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),p.then(function(E){return zt(this,arguments,function*(){var _,C,w,I;try{for(var L=!0,G=Ot(E),J;J=yield ce(G.next()),_=J.done,!_;L=!0){I=J.value,L=!1;const O=I,Y=og(yield ce(O.json()));Y.sdkHttpResponse={headers:O.headers};const te=new pl;Object.assign(te,Y),yield yield ce(te)}}catch(O){C={error:O}}finally{try{!L&&!_&&(w=G.return)&&(yield ce(w.call(G)))}finally{if(C)throw C.error}}})})}else{const h=tg(this.apiClient,t);return g=Z("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(E){return zt(this,arguments,function*(){var _,C,w,I;try{for(var L=!0,G=Ot(E),J;J=yield ce(G.next()),_=J.done,!_;L=!0){I=J.value,L=!1;const O=I,Y=ig(yield ce(O.json()));Y.sdkHttpResponse={headers:O.headers};const te=new pl;Object.assign(te,Y),yield yield ce(te)}}catch(O){C={error:O}}finally{try{!L&&!_&&(w=G.return)&&(yield ce(w.call(G)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=N_(this.apiClient,t);return g=Z("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=R_(v),_=new Vh;return Object.assign(_,E),_})}else{const h=w_(this.apiClient,t);return g=Z("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=b_(v),_=new Vh;return Object.assign(_,E),_})}}async generateImagesInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=B_(this.apiClient,t);return g=Z("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=z_(v),_=new Ph;return Object.assign(_,E),_})}else{const h=P_(this.apiClient,t);return g=Z("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=q_(v),_=new Ph;return Object.assign(_,E),_})}}async editImageInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=__(this.apiClient,t);return f=Z("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=x_(y),v=new IS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=Bx(this.apiClient,t);return f=Z("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=qx(y),v=new DS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=Ex(this.apiClient,t);return f=Z("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=_x(y),v=new US;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=bx(this.apiClient,t);return f=Z("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Rx(y),v=new LS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=lx(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>Fu(v))}else{const h=ox(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ou(v))}}async listInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=mx(this.apiClient,t);return g=Z("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=gx(v),_=new Bh;return Object.assign(_,E),_})}else{const h=px(this.apiClient,t);return g=Z("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=hx(v),_=new Bh;return Object.assign(_,E),_})}}async update(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Vx(this.apiClient,t);return g=Z("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>Fu(v))}else{const h=Hx(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ou(v))}}async delete(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=v_(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=T_(v),_=new qh;return Object.assign(_,E),_})}else{const h=y_(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=S_(v),_=new qh;return Object.assign(_,E),_})}}async countTokens(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=m_(this.apiClient,t);return g=Z("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=g_(v),_=new zh;return Object.assign(_,E),_})}else{const h=p_(this.apiClient,t);return g=Z("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=h_(v),_=new zh;return Object.assign(_,E),_})}}async computeTokens(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=s_(this.apiClient,t);return f=Z("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=a_(y),v=new kS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=X_(this.apiClient,t);return g=Z("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>{const E=Y_(v),_=new Xs;return Object.assign(_,E),_})}else{const h=K_(this.apiClient,t);return g=Z("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const E=J_(v),_=new Xs;return Object.assign(_,E),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LC extends vn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=AS(t);return g=Z("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p}else{const h=CS(t);return g=Z("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=yS(t);return f=Z("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kC(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function GC(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>JC(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function HC(i,t,o){const s={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],FC(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),s}function VC(i,t){const o={},s=u(t,["config"]);return s!=null&&c(o,["config"],HC(i,s,o)),o}function PC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function BC(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function qC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function zC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function OC(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],hc(E));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],GC(lt(w)));const I=u(i,["tools"]);if(t!==void 0&&I!=null){let F=ho(I);Array.isArray(F)&&(F=F.map(z=>KC(mo(z)))),c(t,["setup","tools"],F)}const L=u(i,["sessionResumption"]);t!==void 0&&L!=null&&c(t,["setup","sessionResumption"],YC(L));const G=u(i,["inputAudioTranscription"]);t!==void 0&&G!=null&&c(t,["setup","inputAudioTranscription"],G);const J=u(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","outputAudioTranscription"],J);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const Y=u(i,["contextWindowCompression"]);t!==void 0&&Y!=null&&c(t,["setup","contextWindowCompression"],Y);const te=u(i,["proactivity"]);if(t!==void 0&&te!=null&&c(t,["setup","proactivity"],te),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function FC(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],we(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],OC(r,o)),o}function JC(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],PC(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],BC(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],kC(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function YC(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function KC(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],qC(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],zC(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XC(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(f=>`${o}.${f}`);t.push(...r)}else t.push(o)}return t.join(",")}function QC(i,t){let o=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const f=s.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const f=XC(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class ZC extends vn{constructor(t){super(),this.apiClient=t}async create(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=VC(this.apiClient,t);f=Z("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=QC(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $C(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&c(t,["_query","force"],s),o}function WC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&$C(s,t),t}function jC(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function eA(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function tA(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const s=u(i,["config"]);return s!=null&&eA(s,t),t}function nA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iA extends vn{constructor(t){super(),this.apiClient=t,this.list=async o=>new Si(yn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jC(t);return f=Z("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=WC(t);r=Z("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tA(t);return f=Z("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=nA(y),v=new GS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oA extends vn{constructor(t,o=new iA(t)){super(),this.apiClient=t,this.documents=o,this.list=async(s={})=>new Si(yn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Xx(t);return f=Z("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=$x(t);return f=Z("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Zx(t);r=Z("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=iC(t);return f=Z("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=oC(y),v=new HS;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lC(t);return f=Z("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=sC(y),v=new VS;return Object.assign(v,h),v})}}async importFile(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=eC(t);return f=Z("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=jx(y),v=new cc;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Zg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Zg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const lA=()=>Zg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Ku=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vt extends Error{}class rt extends Vt{constructor(t,o,s,r){super(`${rt.makeMessage(t,o,s)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,s){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,s,r){if(!t||!r)return new la({message:s,cause:Ku(o)});const f=o;return t===400?new Wg(t,f,s,r):t===401?new jg(t,f,s,r):t===403?new e0(t,f,s,r):t===404?new t0(t,f,s,r):t===409?new n0(t,f,s,r):t===422?new i0(t,f,s,r):t===429?new o0(t,f,s,r):t>=500?new l0(t,f,s,r):new rt(t,f,s,r)}}class Xu extends rt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class la extends rt{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class $g extends la{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Wg extends rt{}class jg extends rt{}class e0 extends rt{}class t0 extends rt{}class n0 extends rt{}class i0 extends rt{}class o0 extends rt{}class l0 extends rt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sA=/^[a-z][a-z0-9+.-]*:/i,aA=i=>sA.test(i);let Qu=i=>(Qu=Array.isArray,Qu(i));const rA=Qu;let uA=rA;const cg=uA;function cA(i){if(!i)return!0;for(const t in i)return!1;return!0}function fA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const dA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Vt(`${i} must be an integer`);if(t<0)throw new Vt(`${i} must be a positive integer`);return t},pA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const gA=()=>{var i,t,o,s,r;const f=hA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":dg(Deno.build.os),"X-Stainless-Arch":fg(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":dg((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":fg((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=yA();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function yA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const s=o.exec(navigator.userAgent);if(s){const r=s[1]||0,f=s[2]||0,p=s[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const fg=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",dg=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Gs;const vA=()=>Gs??(Gs=gA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function s0(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function TA(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return s0({start(){},async pull(o){const{done:s,value:r}=await t.next();s?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function a0(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function EA(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const s=i.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _A=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r0=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Lu(i,t,o){return r0(),new File(i,t??"unknown_file",o)}function xA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const CA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u0=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",AA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&u0(i),wA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function NA(i,t,o){if(r0(),i=await i,AA(i))return i instanceof File?i:Lu([await i.arrayBuffer()],i.name);if(wA(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Lu(await Zu(r),t,o)}const s=await Zu(i);if(t||(t=xA(i)),!(o!=null&&o.type)){const r=s.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return Lu(s,t,o)}async function Zu(i){var t,o,s,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(u0(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(CA(i))try{for(var g=!0,y=Ot(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;p.push(...await Zu(v))}}catch(v){o={error:v}}finally{try{!g&&!t&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${bA(i)}`)}return p}function bA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c0{constructor(t){this._client=t}}c0._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f0(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const pg=Object.freeze(Object.create(null)),RA=(i=f0)=>(function(o,...s){if(o.length===1)return o[0];let r=!1;const f=[],p=o.reduce((v,E,_)=>{var C,w,I;/[?#]/.test(E)&&(r=!0);const L=s[_];let G=(r?encodeURIComponent:i)(""+L);return _!==s.length&&(L==null||typeof L=="object"&&L.toString===((I=Object.getPrototypeOf((w=Object.getPrototypeOf((C=L.hasOwnProperty)!==null&&C!==void 0?C:pg))!==null&&w!==void 0?w:pg))===null||I===void 0?void 0:I.toString))&&(G=L+"",f.push({start:v.length+E.length,length:G.length,error:`Value of type ${Object.prototype.toString.call(L).slice(8,-1)} is not a valid path parameter`})),v+E+(_===s.length?"":G)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)f.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(f.sort((v,E)=>v.start-E.start),f.length>0){let v=0;const E=f.reduce((_,C)=>{const w=" ".repeat(C.start-v),I="^".repeat(C.length);return v=C.start+C.length,_+w+I},"");throw new Vt(`Path parameters result in path with invalid segments:
${f.map(_=>_.error).join(`
`)}
${p}
${E}`)}return p}),Hs=RA(f0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d0 extends c0{create(t,o){var s;const{api_version:r=this._client.apiVersion}=t,f=Zs(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Vt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Vt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Hs`/${r}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Hs`/${r}/interactions/${t}`,s)}cancel(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Hs`/${r}/interactions/${t}/cancel`,s)}get(t,o={},s){var r;const f=o??{},{api_version:p=this._client.apiVersion}=f,g=Zs(f,["api_version"]);return this._client.get(Hs`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},s),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}d0._key=Object.freeze(["interactions"]);class p0 extends d0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MA(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let s=0;for(const r of i)o.set(r,s),s+=r.length;return o}let Vs;function yc(i){let t;return(Vs??(t=new globalThis.TextEncoder,Vs=t.encode.bind(t)))(i)}let Ps;function mg(i){let t;return(Ps??(t=new globalThis.TextDecoder,Ps=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?yc(t):t;this.buffer=MA([this.buffer,o]);const s=[];let r;for(;(r=IA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(mg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=mg(this.buffer.subarray(0,f));s.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}sa.NEWLINE_CHARS=new Set([`
`,"\r"]);sa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function IA(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function DA(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $s={off:0,error:200,warn:300,info:400,debug:500},hg=(i,t,o)=>{if(i){if(fA($s,i))return i;at(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys($s))}`)}};function ml(){}function Bs(i,t,o){return!t||$s[i]>$s[o]?ml:t[i].bind(t)}const UA={error:ml,warn:ml,info:ml,debug:ml};let gg=new WeakMap;function at(i){var t;const o=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return UA;const r=gg.get(o);if(r&&r[0]===s)return r[1];const f={error:Bs("error",o,s),warn:Bs("warn",o,s),info:Bs("info",o,s),debug:Bs("debug",o,s)};return gg.set(o,[s,f]),f}const hi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class so{constructor(t,o,s){this.iterator=t,this.controller=o,this.client=s}static fromSSEResponse(t,o,s){let r=!1;const f=s?at(s):console;function p(){return zt(this,arguments,function*(){var y,h,v,E;if(r)throw new Vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var C=!0,w=Ot(LA(t,o)),I;I=yield ce(w.next()),y=I.done,!y;C=!0){E=I.value,C=!1;const L=E;if(!_)if(L.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield ce(JSON.parse(L.data))}catch(G){throw f.error("Could not parse message into JSON:",L.data),f.error("From chunk:",L.raw),G}}}catch(L){h={error:L}}finally{try{!C&&!y&&(v=w.return)&&(yield ce(v.call(w)))}finally{if(h)throw h.error}}_=!0}catch(L){if(Yu(L))return yield ce(void 0);throw L}finally{_||o.abort()}})}return new so(p,o,s)}static fromReadableStream(t,o,s){let r=!1;function f(){return zt(this,arguments,function*(){var y,h,v,E;const _=new sa,C=a0(t);try{for(var w=!0,I=Ot(C),L;L=yield ce(I.next()),y=L.done,!y;w=!0){E=L.value,w=!1;const G=E;for(const J of _.decode(G))yield yield ce(J)}}catch(G){h={error:G}}finally{try{!w&&!y&&(v=I.return)&&(yield ce(v.call(I)))}finally{if(h)throw h.error}}for(const G of _.flush())yield yield ce(G)})}function p(){return zt(this,arguments,function*(){var y,h,v,E;if(r)throw new Vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var C=!0,w=Ot(f()),I;I=yield ce(w.next()),y=I.done,!y;C=!0){E=I.value,C=!1;const L=E;_||L&&(yield yield ce(JSON.parse(L)))}}catch(L){h={error:L}}finally{try{!C&&!y&&(v=w.return)&&(yield ce(v.call(w)))}finally{if(h)throw h.error}}_=!0}catch(L){if(Yu(L))return yield ce(void 0);throw L}finally{_||o.abort()}})}return new so(p,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],s=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=s.next();t.push(p),o.push(p)}return f.shift()}});return[new so(()=>r(t),this.controller,this.client),new so(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return s0({async start(){o=t[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:f}=await o.next();if(f)return s.close();const p=yc(JSON.stringify(r)+`
`);s.enqueue(p)}catch(r){s.error(r)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function LA(i,t){return zt(this,arguments,function*(){var s,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Vt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Vt("Attempted to iterate over a response with no body");const g=new GA,y=new sa,h=a0(i.body);try{for(var v=!0,E=Ot(kA(h)),_;_=yield ce(E.next()),s=_.done,!s;v=!0){p=_.value,v=!1;const C=p;for(const w of y.decode(C)){const I=g.decode(w);I&&(yield yield ce(I))}}}catch(C){r={error:C}}finally{try{!v&&!s&&(f=E.return)&&(yield ce(f.call(E)))}finally{if(r)throw r.error}}for(const C of y.flush()){const w=g.decode(C);w&&(yield yield ce(w))}})}function kA(i){return zt(this,arguments,function*(){var o,s,r,f;let p=new Uint8Array;try{for(var g=!0,y=Ot(i),h;h=yield ce(y.next()),o=h.done,!o;g=!0){f=h.value,g=!1;const v=f;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?yc(v):v;let _=new Uint8Array(p.length+E.length);_.set(p),_.set(E,p.length),p=_;let C;for(;(C=DA(p))!==-1;)yield yield ce(p.slice(0,C)),p=p.slice(C)}}catch(v){s={error:v}}finally{try{!g&&!o&&(r=y.return)&&(yield ce(r.call(y)))}finally{if(s)throw s.error}}p.length>0&&(yield yield ce(p))})}class GA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,s,r]=HA(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function HA(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function VA(i,t){const{response:o,requestLogID:s,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return at(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):so.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await o.json():await o.text()})();return at(i).debug(`[${s}] response parsed`,hi({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vc extends Promise{constructor(t,o,s=VA){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new vc(this.client,this.responsePromise,async(o,s)=>t(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m0=Symbol("brand.privateNullableHeaders");function*PA(i){if(!i)return;if(m0 in i){const{values:s,nulls:r}=i;yield*s.entries();for(const f of r)yield[f,null];return}let t=!1,o;i instanceof Headers?o=i.entries():cg(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let s of o){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=cg(s[1])?s[1]:[s[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const ku=i=>{const t=new Headers,o=new Set;for(const s of i){const r=new Set;for(const[f,p]of PA(s)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),o.add(g)):(t.append(f,p),o.delete(g))}}return{[m0]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gu=i=>{var t,o,s,r,f,p;if(typeof globalThis.process<"u")return(s=(o=(t=fS)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var h0;class aa{constructor(t){var o,s,r,f,p,g,y,h=t===void 0?{}:t,{baseURL:v=Gu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:E=(o=Gu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:_="v1beta"}=h,C=Zs(h,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:E,apiVersion:_},C),{baseURL:v||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(s=w.timeout)!==null&&s!==void 0?s:aa.DEFAULT_TIMEOUT,this.logger=(r=w.logger)!==null&&r!==void 0?r:console;const I="warn";this.logLevel=I,this.logLevel=(p=(f=hg(w.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:hg(Gu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:I,this.fetchOptions=w.fetchOptions,this.maxRetries=(g=w.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=w.fetch)!==null&&y!==void 0?y:SA(),this.encoder=_A,this._options=w,this.apiKey=E,this.apiVersion=_}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){if(this.apiKey!=null)return ku([{"x-goog-api-key":this.apiKey}])}stringifyQuery(t){return Object.entries(t).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new Vt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${oo}`}defaultIdempotencyKey(){return`stainless-node-retry-${lA()}`}makeStatusError(t,o,s,r){return rt.generate(t,o,s,r)}buildURL(t,o,s){const r=!this.baseURLOverridden()&&s||this.baseURL,f=aA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return cA(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(t){}async prepareRequest(t,{url:o,options:s}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new vc(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,s){var r,f,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:h,url:v,timeout:E}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(h,{url:v,options:g});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=s===void 0?"":`, retryOf: ${s}`,w=Date.now();if(at(this).debug(`[${_}] sending request`,hi({retryOfRequestLogID:s,method:g.method,url:v,options:g,headers:h.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Xu;const I=new AbortController,L=await this.fetchWithTimeout(v,h,E,I).catch(Ku),G=Date.now();if(L instanceof globalThis.Error){const O=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Xu;const Y=Yu(L)||/timed? ?out/i.test(String(L)+("cause"in L?String(L.cause):""));if(o)return at(this).info(`[${_}] connection ${Y?"timed out":"failed"} - ${O}`),at(this).debug(`[${_}] connection ${Y?"timed out":"failed"} (${O})`,hi({retryOfRequestLogID:s,url:v,durationMs:G-w,message:L.message})),this.retryRequest(g,o,s??_);throw at(this).info(`[${_}] connection ${Y?"timed out":"failed"} - error; no more retries left`),at(this).debug(`[${_}] connection ${Y?"timed out":"failed"} (error; no more retries left)`,hi({retryOfRequestLogID:s,url:v,durationMs:G-w,message:L.message})),Y?new $g:new la({cause:L})}const J=`[${_}${C}] ${h.method} ${v} ${L.ok?"succeeded":"failed"} with status ${L.status} in ${G-w}ms`;if(!L.ok){const O=await this.shouldRetry(L);if(o&&O){const W=`retrying, ${o} attempts remaining`;return await EA(L.body),at(this).info(`${J} - ${W}`),at(this).debug(`[${_}] response error (${W})`,hi({retryOfRequestLogID:s,url:L.url,status:L.status,headers:L.headers,durationMs:G-w})),this.retryRequest(g,o,s??_,L.headers)}const Y=O?"error; no more retries left":"error; not retryable";at(this).info(`${J} - ${Y}`);const te=await L.text().catch(W=>Ku(W).message),F=pA(te),z=F?void 0:te;throw at(this).debug(`[${_}] response error (${Y})`,hi({retryOfRequestLogID:s,url:L.url,status:L.status,headers:L.headers,message:z,durationMs:Date.now()-w})),this.makeStatusError(L.status,F,z,L.headers)}return at(this).info(J),at(this).debug(`[${_}] response start`,hi({retryOfRequestLogID:s,url:L.url,status:L.status,headers:L.headers,durationMs:G-w})),{response:L,options:g,controller:I,requestLogID:_,retryOfRequestLogID:s,startTime:w}}async fetchWithTimeout(t,o,s,r){const f=o||{},{signal:p,method:g}=f,y=Zs(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),s),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,E)}finally{clearTimeout(h)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,s,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,h)}return await mA(p),this.makeRequest(t,o-1,s)}calculateDefaultRetryTimeoutMillis(t,o){const f=o-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var s,r,f;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=p,E=this.buildURL(y,h,v);"timeout"in p&&dA("timeout",p.timeout),p.timeout=(s=p.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:_,body:C}=this.buildBody({options:p}),w=await this.buildHeaders({options:t,method:g,bodyHeaders:_,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:w},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:E,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:s,retryCount:r}){let f={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=ku([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),vA()),await this.authHeaders(t),this._options.defaultHeaders,s,t.headers]);return this.validateHeaders(p),p.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=ku([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:TA(t)}:this.encoder({body:t,headers:s})}}aa.DEFAULT_TIMEOUT=6e4;class We extends aa{constructor(){super(...arguments),this.interactions=new p0(this)}}h0=We;We.GeminiNextGenAPIClient=h0;We.GeminiNextGenAPIClientError=Vt;We.APIError=rt;We.APIConnectionError=la;We.APIConnectionTimeoutError=$g;We.APIUserAbortError=Xu;We.NotFoundError=t0;We.ConflictError=n0;We.RateLimitError=o0;We.BadRequestError=Wg;We.AuthenticationError=jg;We.InternalServerError=l0;We.PermissionDeniedError=e0;We.UnprocessableEntityError=i0;We.toFile=NA;We.Interactions=p0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BA(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function qA(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function zA(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function OA(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function FA(i,t,o){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(s,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function JA(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],yg(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],yg(C))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(h==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=u(i,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const _=u(i,["beta"]);return t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],_),s}function YA(i,t){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&iw(f);const p=u(i,["config"]);return p!=null&&FA(p,o),o}function KA(i,t){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&ow(f,o,t);const p=u(i,["config"]);return p!=null&&JA(p,o,t),o}function XA(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function QA(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function ZA(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),s}function $A(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),s}function WA(i,t){const o={},s=u(i,["config"]);return s!=null&&ZA(s,o),o}function jA(i,t){const o={},s=u(i,["config"]);return s!=null&&$A(s,o),o}function ew(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>g0(g))),c(o,["tuningJobs"],p)}return o}function tw(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>$u(g))),c(o,["tuningJobs"],p)}return o}function nw(i,t){const o={},s=u(i,["name"]);s!=null&&c(o,["model"],s);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function iw(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function ow(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function g0(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],Mg(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(o,["description"],v);const E=u(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const _=u(i,["_self"]);return _!=null&&c(o,["tunedModel"],nw(_)),o}function $u(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],Mg(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(o,["error"],v);const E=u(i,["description"]);E!=null&&c(o,["description"],E);const _=u(i,["baseModel"]);_!=null&&c(o,["baseModel"],_);const C=u(i,["tunedModel"]);C!=null&&c(o,["tunedModel"],C);const w=u(i,["preTunedModel"]);w!=null&&c(o,["preTunedModel"],w);const I=u(i,["supervisedTuningSpec"]);I!=null&&c(o,["supervisedTuningSpec"],I);const L=u(i,["preferenceOptimizationSpec"]);L!=null&&c(o,["preferenceOptimizationSpec"],L);const G=u(i,["tuningDataStats"]);G!=null&&c(o,["tuningDataStats"],G);const J=u(i,["encryptionSpec"]);J!=null&&c(o,["encryptionSpec"],J);const O=u(i,["partnerModelTuningSpec"]);O!=null&&c(o,["partnerModelTuningSpec"],O);const Y=u(i,["customBaseModel"]);Y!=null&&c(o,["customBaseModel"],Y);const te=u(i,["experiment"]);te!=null&&c(o,["experiment"],te);const F=u(i,["labels"]);F!=null&&c(o,["labels"],F);const z=u(i,["outputUri"]);z!=null&&c(o,["outputUri"],z);const le=u(i,["pipelineJob"]);le!=null&&c(o,["pipelineJob"],le);const W=u(i,["serviceAccount"]);W!=null&&c(o,["serviceAccount"],W);const fe=u(i,["tunedModelDisplayName"]);fe!=null&&c(o,["tunedModelDisplayName"],fe);const Ee=u(i,["veoTuningSpec"]);return Ee!=null&&c(o,["veoTuningSpec"],Ee),o}function lw(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function yg(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sw extends vn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(yn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:Pu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=QA(t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>$u(v))}else{const h=XA(t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>g0(v))}}async listInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=jA(t);return g=Z("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=tw(v),_=new Oh;return Object.assign(_,E),_})}else{const h=WA(t);return g=Z("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=ew(v),_=new Oh;return Object.assign(_,E),_})}}async cancel(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=qA(t);return g=Z("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=OA(v),_=new Fh;return Object.assign(_,E),_})}else{const h=BA(t);return g=Z("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const E=zA(v),_=new Fh;return Object.assign(_,E),_})}}async tuneInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=KA(t,t);return f=Z("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>$u(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=YA(t);return f=Z("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>lw(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aw{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const rw=1024*1024*8,uw=3,cw=1e3,fw=2,Ws="x-goog-upload-status";async function dw(i,t,o){var s;const r=await y0(i,t,o),f=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Ws])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function pw(i,t,o){var s;const r=await y0(i,t,o),f=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Ws])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Cg(f),g=new fc;return Object.assign(g,p),g}async function y0(i,t,o){var s,r;let f=0,p=0,g=new Bu(new Response),y="upload";for(f=i.size;p<f;){const h=Math.min(rw,f-p),v=i.slice(p,p+h);p+h>=f&&(y+=", finalize");let E=0,_=cw;for(;E<uw&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((s=g==null?void 0:g.headers)===null||s===void 0)&&s[Ws]));)E++,await hw(_),_=_*fw;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Ws])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function mw(i){return{size:i.size,type:i.type}}function hw(i){return new Promise(t=>setTimeout(t,i))}class gw{async upload(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await dw(t,o,s)}async uploadToFileSearchStore(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await pw(t,o,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await mw(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yw{create(t,o,s){return new vw(t,o,s)}}class vw{constructor(t,o,s){this.url=t,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vg="x-goog-api-key";class Sw{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(vg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(vg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tw="gl-node/";class Ew{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new We({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const s=hS(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new Sw(this.apiKey);this.apiClient=new mC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Tw+"web",uploader:new gw,downloader:new aw}),this.models=new UC(this.apiClient),this.live=new NC(this.apiClient,r,new yw),this.batches=new FT(this.apiClient),this.chats=new AE(this.models,this.apiClient),this.caches=new _E(this.apiClient),this.files=new kE(this.apiClient),this.operations=new LC(this.apiClient),this.authTokens=new ZC(this.apiClient),this.tunings=new sw(this.apiClient),this.fileSearchStores=new oA(this.apiClient)}}let Ft={clientId:"",apiBaseUrl:"",storagePrefix:"auth"},uo=null;function yo(){return{user:`${Ft.storagePrefix}_user`,avatarCache:`${Ft.storagePrefix}_avatar_cache`}}let Js=[];function _w(i){Ft.clientId=i.clientId,Ft.apiBaseUrl=i.apiBaseUrl,i.storagePrefix&&(Ft.storagePrefix=i.storagePrefix)}function Wu(){return yo().avatarCache}function xw(i){return Js.push(i),()=>{Js=Js.filter(t=>t!==i)}}function gl(i){Js.forEach(t=>t(i))}async function Sc(i){const t=S0();if(!t)return;const o={...t,credits:i};localStorage.setItem(yo().user,JSON.stringify(o)),gl(o)}function v0(){return new Promise((i,t)=>{if(!Ft.clientId){t(new Error("Google Client ID not configured. Call configureGoogleAuth first."));return}const o=()=>{var s,r;(r=(s=window.google)==null?void 0:s.accounts)!=null&&r.id?(window.google.accounts.id.initialize({client_id:Ft.clientId,callback:Cw,auto_select:!1,cancel_on_tap_outside:!0}),i()):setTimeout(o,100)};o(),setTimeout(()=>{t(new Error("Google Identity Services failed to load"))},1e4)})}async function Cw(i){try{const t=await Aw(i.credential);if(t.success){const o={userId:t.user_id,email:t.email,name:t.name,credits:t.credits,isNewUser:t.is_new_user};uo=t.access_token,localStorage.setItem(yo().user,JSON.stringify(o)),gl(o)}}catch(t){console.error("Google authentication failed:",t),gl(null)}}async function Aw(i){const t=await fetch(`${Ft.apiBaseUrl}/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_token:i,client_type:"web"}),credentials:"include"});if(!t.ok){const o=await t.json().catch(()=>({detail:"Authentication failed"}));throw new Error(o.detail||"Authentication failed")}return t.json()}function ww(){var i,t;if(!((t=(i=window.google)==null?void 0:i.accounts)!=null&&t.id)){console.error("Google Identity Services not loaded");return}window.google.accounts.id.prompt(o=>{var s,r;(o.isNotDisplayed()||o.isSkippedMoment())&&console.log("One Tap not displayed:",((s=o.getNotDisplayedReason)==null?void 0:s.call(o))||((r=o.getSkippedReason)==null?void 0:r.call(o)))})}function Nw(i,t){var o,s;if(!((s=(o=window.google)==null?void 0:o.accounts)!=null&&s.id)){console.error("Google Identity Services not loaded");return}window.google.accounts.id.renderButton(i,{type:"standard",theme:"outline",size:"large",text:"signin_with",shape:"pill",...t})}async function ra(){var o,s;const i=S0(),t=uo;uo=null,localStorage.removeItem(yo().user),(s=(o=window.google)==null?void 0:o.accounts)!=null&&s.id&&(window.google.accounts.id.disableAutoSelect(),i!=null&&i.email&&window.google.accounts.id.revoke(i.email,()=>{console.log("Google session revoked")}));try{t&&await fetch(`${Ft.apiBaseUrl}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${t}`},credentials:"include"})}catch{}gl(null);try{await v0()}catch(r){console.error("Failed to re-initialize Google Auth after sign out:",r)}}function co(){return uo}function S0(){const i=localStorage.getItem(yo().user);if(!i)return null;try{return JSON.parse(i)}catch{return null}}async function T0(){try{const i=await fetch(`${Ft.apiBaseUrl}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({}),credentials:"include"});if(!i.ok)return await ra(),!1;const t=await i.json();return t.success&&t.access_token?(uo=t.access_token,!0):!1}catch(i){return console.error("Token refresh failed:",i),!1}}async function ju(){const i=co();if(!i)return null;try{const t=await fetch(`${Ft.apiBaseUrl}/auth/me`,{headers:{Authorization:`Bearer ${i}`},credentials:"include"});if(!t.ok)return t.status===401&&await ra(),null;const o=await t.json(),s={userId:o.user_id,email:o.email,name:o.name,profilePicture:o.profile_picture,credits:o.credits,isNewUser:!1};return localStorage.setItem(yo().user,JSON.stringify(s)),gl(s),s}catch(t){return console.error("Failed to fetch user info:",t),null}}async function bw(){if(uo){const i=await ju();if(i)return i}try{if(await T0()){const t=await ju();if(t)return t}}catch{console.log("No valid session found, user needs to sign in")}try{await v0()}catch(i){console.error("Failed to initialize Google Auth:",i)}return null}async function Xn(i,t={}){const o=co(),s=new Headers(t.headers);o&&s.set("Authorization",`Bearer ${o}`);const r=await fetch(i,{...t,headers:s,credentials:"include"});if(r.status===401&&o){if(await T0()){const p=co();return s.set("Authorization",`Bearer ${p}`),fetch(i,{...t,headers:s,credentials:"include"})}await ra()}return r}let fo={apiBaseUrl:"",defaultAnimationPrompt:""};function Rw(i){i.apiBaseUrl!==void 0&&(fo.apiBaseUrl=i.apiBaseUrl),i.defaultAnimationPrompt!==void 0&&(fo.defaultAnimationPrompt=i.defaultAnimationPrompt)}const po={textGeneration:"gemini-2.5-flash",imageEdit:"gemini-2.5-flash-image",videoGeneration:"veo-3.1-generate-preview"},Tc={fast:3e3,medium:1e4,slow:15e3};function Ec(i){if(!i)throw new Error("API Key is missing.");return new Ew({apiKey:i})}function _c(i,t){const o=i.message||(typeof i=="string"?i:JSON.stringify(i));throw o.includes("404")||o.includes("NOT_FOUND")||o.includes("Requested entity was not found")?new Error(`Model not found (${t}). Ensure your API key has access to this model.`):i}async function xc(i,t){const o=co();if(!o)throw new Error("Not authenticated. Please sign in.");const s=await fetch(`${fo.apiBaseUrl}${i}`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok){if(s.status===401)throw new Error("Session expired. Please sign in again.");if(s.status===402)throw new Error("Insufficient credits.");if(s.status===429)throw new Error("Rate limit exceeded. Please try again later.");const f=await s.json().catch(()=>({detail:"Request failed"}));throw new Error(f.detail||`Server error: ${s.status}`)}const r=await s.json();return r.credits_remaining!==void 0&&Sc(r.credits_remaining).catch(console.error),r}async function Cc(i,t,o){const s=co();if(!s)throw new Error("Not authenticated.");for(;;){const r=await fetch(`${fo.apiBaseUrl}/gemini/job/${i}`,{headers:{Authorization:`Bearer ${s}`}});if(!r.ok)throw r.status===401?new Error("Session expired. Please sign in again."):r.status===404?new Error("Job not found."):new Error(`Failed to check job status: ${r.status}`);const f=await r.json();if(f.credits_remaining!==void 0&&Sc(f.credits_remaining).catch(console.error),f.status==="queued")o==null||o(`Queued (position: ${f.position||"?"})...`);else if(f.status==="processing")o==null||o("Processing...");else{if(f.status==="completed")return o==null||o("Completed!"),f;if(f.status==="failed")throw new Error(f.error||"Job failed");if(f.status==="cancelled")throw new Error("Job was cancelled")}await new Promise(p=>setTimeout(p,t))}}async function Mw(i){const t=co();if(!t)throw new Error("Not authenticated.");const o=await fetch(`${fo.apiBaseUrl}/gemini/download/${i}`,{headers:{Authorization:`Bearer ${t}`}});if(!o.ok)throw new Error("Failed to download video");const s=await o.blob();return URL.createObjectURL(s)}function Ac(i){return!!i.apiKey}async function Iw(i,t,o={}){var s,r,f,p;if(Ac(o)){(s=o.onStatus)==null||s.call(o,"Analyzing image...");try{const y=await Ec(o.apiKey).models.generateContent({model:po.textGeneration,contents:{parts:[{inlineData:{data:i,mimeType:t}},{text:fo.defaultAnimationPrompt}]}});return(r=o.onStatus)==null||r.call(o,"Done!"),y.text||"Cinematic subtle movement"}catch(g){return _c(g,po.textGeneration)}}else{(f=o.onStatus)==null||f.call(o,"Submitting to server...");const g=await xc("/gemini/generate-animation-prompt",{base64_image:i,mime_type:t});return((p=(await Cc(g.job_id,Tc.fast,o.onStatus)).output)==null?void 0:p.text)||"Cinematic subtle movement"}}async function Dw(i,t,o,s={}){var r,f,p,g;if(Ac(s)){(r=s.onStatus)==null||r.call(s,"Editing image...");try{const v=(await Ec(s.apiKey).models.generateContent({model:po.imageEdit,contents:{parts:[{inlineData:{data:i,mimeType:t}},{text:o||"Enhance this image"}]}})).candidates;if(!v||v.length===0)throw new Error("No candidates returned from Gemini.");for(const E of v[0].content.parts)if(E.inlineData&&E.inlineData.data)return(f=s.onStatus)==null||f.call(s,"Done!"),`data:${E.inlineData.mimeType||"image/png"};base64,${E.inlineData.data}`;throw new Error("No image data found in the response.")}catch(y){return _c(y,po.imageEdit)}}else{(p=s.onStatus)==null||p.call(s,"Submitting to server...");const y=await xc("/gemini/edit-image",{base64_image:i,mime_type:t,prompt:o}),h=await Cc(y.job_id,Tc.medium,s.onStatus);if((g=h.output)!=null&&g.image)return h.output.image;throw new Error("No image returned from server")}}async function Uw(i,t,o,s={}){var g,y,h,v,E,_,C,w,I;const r=s.aspectRatio||"16:9",f=s.resolution||"720p",p=s.numberOfVideos||1;if(Ac(s)){(g=s.onStatus)==null||g.call(s,"Starting video generation...");const L=Ec(s.apiKey);let G;try{G=await L.models.generateVideos({model:po.videoGeneration,prompt:o,image:{imageBytes:i,mimeType:t},config:{numberOfVideos:p,resolution:f,aspectRatio:r}})}catch(O){return _c(O,po.videoGeneration)}for(;!G.done;){(y=s.onStatus)==null||y.call(s,"Generating video (this may take 1-2 minutes)..."),await new Promise(O=>setTimeout(O,1e4));try{G=await L.operations.getVideosOperation({operation:G})}catch(O){const Y=O.message||"";throw Y.includes("404")||Y.includes("NOT_FOUND")?new Error("Video generation operation lost. Please try again."):O}}if(G.error)throw new Error(`Video generation failed: ${G.error.message||"Unknown error"}`);const J=(_=(E=(v=(h=G.response)==null?void 0:h.generatedVideos)==null?void 0:v[0])==null?void 0:E.video)==null?void 0:_.uri;if(!J)throw new Error("No video URI returned. May be due to safety filters.");return(C=s.onStatus)==null||C.call(s,"Done!"),{url:`${J}&key=${s.apiKey}`}}else{(w=s.onStatus)==null||w.call(s,"Submitting to server...");const L=await xc("/gemini/generate-video",{base64_image:i,mime_type:t,prompt:o,aspect_ratio:r,resolution:f,number_of_videos:p}),G=await Cc(L.job_id,Tc.slow,s.onStatus);return(I=s.onStatus)==null||I.call(s,"Downloading video..."),{url:await Mw(L.job_id),jobId:L.job_id,prompt:G.prompt}}}const Lw=`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkmiMIW3fkXUnKjhAthrq
4G0esmDh0un0DJoPAqiji+rA0suGMq0pJwFOJWA5zLNk/Ial9+16PkswIxOaIpU/
2yoX1WhFblU3YwfuGwxcfgHDFRZ1CGDWoEHZ7+Q8CHeW3N4Jt1YOPXXx9WeNFQQs
65CX7FU9XBrh++2gx+CObGi+iGSmK1+d6hPnNIClmxzXtW9qEBUo7JP6qfWFPjYx
CPjW8Rgmmz1luyAROfe3PKbBDG/doHTJK+Wxq8FQMkQthmWwEQsHB8MMzN/CLQwC
9Ux3JDj8lVx37PvZs3bUTwHkQ5QZhgycaMa9afghcG67vey2rDYxq4undL0dN4XT
LQIDAQAB
-----END PUBLIC KEY-----`;let kw=Lw;async function Gw(){const i=kw.replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace(/\s/g,""),t=Uint8Array.from(atob(i),o=>o.charCodeAt(0));return await crypto.subtle.importKey("spki",t.buffer,{name:"RSA-OAEP",hash:"SHA-256"},!1,["encrypt"])}async function Hw(i){const t=await Gw(),s=new TextEncoder().encode(i);if(s.length>190){const r=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt"]),f=crypto.getRandomValues(new Uint8Array(12)),p=await crypto.subtle.encrypt({name:"AES-GCM",iv:f},r,s),g=await crypto.subtle.exportKey("raw",r),y=await crypto.subtle.encrypt({name:"RSA-OAEP"},t,g),h={type:"hybrid",key:btoa(String.fromCharCode(...new Uint8Array(y))),iv:btoa(String.fromCharCode(...f)),data:btoa(String.fromCharCode(...new Uint8Array(p)))};return btoa(JSON.stringify(h))}else{const r=await crypto.subtle.encrypt({name:"RSA-OAEP"},t,s),f={type:"direct",data:btoa(String.fromCharCode(...new Uint8Array(r)))};return btoa(JSON.stringify(f))}}let wc="animateimage_userid",E0="animateimage_user";const Vw=365,Pw=2;function Bw(i){i.cookieName&&(wc=i.cookieName),i.dbName&&(E0=i.dbName)}let Hu=null;function qw(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";const o=new Uint8Array(20);crypto.getRandomValues(o);for(let s=0;s<20;s++)t+=i[o[s]%i.length];return t}function Sg(i){const t=new Date;t.setTime(t.getTime()+Vw*24*60*60*1e3);const o=`expires=${t.toUTCString()}`;document.cookie=`${wc}=${i};${o};path=/;SameSite=Lax`}function zw(){const i=`${wc}=`,o=decodeURIComponent(document.cookie).split(";");for(let s of o)if(s=s.trim(),s.indexOf(i)===0)return s.substring(i.length);return null}function _0(){return new Promise((i,t)=>{const o=indexedDB.open(E0,Pw);o.onerror=()=>t(o.error),o.onsuccess=()=>i(o.result),o.onupgradeneeded=s=>{const r=s.target.result;r.objectStoreNames.contains("user")&&r.deleteObjectStore("user"),r.createObjectStore("user")}})}async function Ow(){try{const i=await _0();return new Promise(t=>{const r=i.transaction(["user"],"readonly").objectStore("user").get("user_id");r.onsuccess=()=>{t(r.result||null)},r.onerror=()=>t(null)})}catch{return null}}async function Tg(i){try{const t=await _0();return new Promise(o=>{const s=t.transaction(["user"],"readwrite");s.objectStore("user").put(i,"user_id"),s.oncomplete=()=>o(),s.onerror=()=>o()})}catch{}}async function x0(){if(Hu)return Hu;let i=await Ow();return i||(i=zw(),i&&await Tg(i)),i||(i=qw(),await Tg(i)),Sg(i),Hu=i,i}let C0="animateimage_events";function Fw(i){C0=i.dbName}const Jw=2;let qs=null;async function Yw(){return qs||new Promise((i,t)=>{const o=indexedDB.open(C0,Jw);o.onerror=()=>t(o.error),o.onsuccess=()=>{qs=o.result,i(qs)},o.onupgradeneeded=s=>{const r=s.target.result;r.objectStoreNames.contains("events")&&r.deleteObjectStore("events"),r.createObjectStore("events",{autoIncrement:!0})}})}async function Kw(i){const t=await Yw();return new Promise((o,s)=>{const r=t.transaction(["events"],"readwrite"),p=r.objectStore("events").add(i);p.onsuccess=()=>o(),p.onerror=()=>s(p.error),r.onerror=()=>s(r.error)})}async function zs(i,t){try{const o=await x0(),s={type:i,mode:t,timestamp:new Date().toISOString(),website_url:window.location.href},f=await Hw(JSON.stringify({userId:o,events:[s]}));await Kw(f)}catch{}}async function Xw(){return await x0()}const Qw=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[T.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),T.jsx("polyline",{points:"17 8 12 3 7 8"}),T.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),ec=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[T.jsx("path",{d:"m22 8-6 4 6 4V8Z"}),T.jsx("rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2"})]}),js=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[T.jsx("path",{d:"M15 4V2"}),T.jsx("path",{d:"M15 16v-2"}),T.jsx("path",{d:"M8 9h2"}),T.jsx("path",{d:"M20 9h2"}),T.jsx("path",{d:"M17.8 11.8 19 13"}),T.jsx("path",{d:"M15 9h0"}),T.jsx("path",{d:"M17.8 6.2 19 5"}),T.jsx("path",{d:"m3 21 9-9"}),T.jsx("path",{d:"M12.2 6.2 11 5"})]}),tc=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[T.jsx("path",{d:"M3 6h18"}),T.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),T.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),yl=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[T.jsx("circle",{cx:"12",cy:"12",r:"10"}),T.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),T.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]}),hl=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:T.jsx("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"})}),Zw=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[T.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.39a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),T.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),ua=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[T.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),T.jsx("line",{x1:"2",x2:"22",y1:"10",y2:"10"})]}),$w=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[T.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),T.jsx("polyline",{points:"16 17 21 12 16 7"}),T.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),Ww=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:T.jsx("path",{d:"m6 9 6 6 6-6"})}),jw=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",...i,children:[T.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),T.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),T.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),T.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),eN=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[T.jsx("circle",{cx:"8",cy:"21",r:"1"}),T.jsx("circle",{cx:"19",cy:"21",r:"1"}),T.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]}),nc=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:T.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),Nc=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[T.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),T.jsx("path",{d:"M3 3v5h5"}),T.jsx("path",{d:"M12 7v5l4 2"})]}),tN=i=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:T.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})}),nN=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[T.jsx("path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),T.jsx("path",{d:"M3 3v5h5"}),T.jsx("path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}),T.jsx("path",{d:"M16 21h5v-5"})]}),A0=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[T.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),T.jsx("polyline",{points:"7 10 12 15 17 10"}),T.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),iN=i=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[T.jsx("rect",{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"}),T.jsx("rect",{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"}),T.jsx("line",{x1:"6",x2:"6.01",y1:"6",y2:"6"}),T.jsx("line",{x1:"6",x2:"6.01",y1:"18",y2:"18"})]}),oN="animateimage_videos",lN=1,$t="videos";let ic={apiBaseUrl:""};function w0(i){ic.apiBaseUrl=i.apiBaseUrl}function ca(){return new Promise((i,t)=>{const o=indexedDB.open(oN,lN);o.onerror=()=>t(o.error),o.onsuccess=()=>i(o.result),o.onupgradeneeded=s=>{const r=s.target.result;r.objectStoreNames.contains($t)||r.createObjectStore($t,{keyPath:"jobId"})}})}async function sN(i){if(!ic.apiBaseUrl)throw new Error("Video Storage service not configured");const t=`${ic.apiBaseUrl}/gemini/download/${i}`,o=await Xn(t);if(o.status===410)throw new Error("Video expired. Please generate again.");if(!o.ok)throw new Error(`Failed to download video: ${o.statusText}`);const s=await o.blob(),r=await ca();return new Promise((f,p)=>{const y=r.transaction($t,"readwrite").objectStore($t),h={jobId:i,blob:s,createdAt:new Date().toISOString()},v=y.put(h);v.onerror=()=>p(v.error),v.onsuccess=()=>f()})}async function aN(i){try{const t=await ca();return new Promise((o,s)=>{const p=t.transaction($t,"readonly").objectStore($t).get(i);p.onerror=()=>s(p.error),p.onsuccess=()=>{const g=p.result;o(g?URL.createObjectURL(g.blob):null)}})}catch(t){return console.error("Error getting video from DB:",t),null}}async function rN(i){try{const t=await ca();return new Promise((o,s)=>{const p=t.transaction($t,"readonly").objectStore($t).count(i);p.onerror=()=>s(p.error),p.onsuccess=()=>o(p.result>0)})}catch{return!1}}async function uN(i){try{const t=await ca();return new Promise((o,s)=>{const p=t.transaction($t,"readwrite").objectStore($t).delete(i);p.onerror=()=>s(p.error),p.onsuccess=()=>o()})}catch(t){console.error("Error deleting video from DB:",t)}}const Yn={configure:w0,downloadAndStore:sN,getVideoUrl:aN,hasVideo:rN,deleteVideo:uN},N0=({width:i="100%"})=>{const t=$.useRef(null),o=$.useRef(null),[s,r]=$.useState(!1);$.useEffect(()=>{let p=0;const g=20;let y=null;const h=()=>{var E,_;if(!t.current||!o.current)return;if(!((_=(E=window.google)==null?void 0:E.accounts)!=null&&_.id)){p++,p<g?y=setTimeout(h,500):console.error("Google Identity Services failed to load after maximum attempts");return}const v=o.current.offsetWidth;try{Nw(t.current,{theme:"outline",size:"large",width:v,shape:"pill"}),r(!0)}catch(C){console.error("Failed to render Google button:",C)}};return h(),()=>{y&&clearTimeout(y)}},[]);const f=()=>{s||ww()};return T.jsxs("div",{ref:o,className:"relative group",style:{width:i},children:[T.jsxs("button",{type:"button",onClick:f,className:"w-full flex items-center justify-center gap-2 sm:gap-3 px-3 sm:px-6 py-2 sm:py-3 bg-white border border-slate-200 rounded-full shadow-sm hover:shadow-md hover:border-purple-200 transition-all duration-300 hover:scale-[1.02] cursor-pointer",children:[T.jsx(jw,{className:"w-5 h-5"}),T.jsx("span",{className:"font-bold text-slate-600 group-hover:text-purple-600 transition-colors text-sm sm:text-base hidden sm:inline",children:"Sign in"})]}),T.jsx("div",{ref:t,className:`absolute inset-0 z-10 overflow-hidden rounded-full ${s?"opacity-[0.01]":"opacity-0 pointer-events-none"}`})]})},cN=({message:i,subMessage:t})=>T.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4 animate-in fade-in duration-300",children:[T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"w-12 h-12 rounded-full absolute border-4 border-solid border-pink-100"}),T.jsx("div",{className:"w-12 h-12 rounded-full animate-spin absolute border-4 border-solid border-purple-500 border-t-transparent shadow-md shadow-purple-200"}),T.jsx("div",{className:"w-12 h-12"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("p",{className:"text-lg font-bold text-slate-700",children:i||"Processing..."}),t&&T.jsx("p",{className:"text-sm text-slate-500 mt-1 max-w-xs font-medium",children:t})]})]});async function fN(i,t){try{const o=await fetch(i);if(!o.ok)return null;const s=await o.blob();return new Promise(r=>{const f=new FileReader;f.onloadend=()=>{const p=f.result;try{localStorage.setItem(t,p)}catch{}r(p)},f.onerror=()=>r(null),f.readAsDataURL(s)})}catch{return null}}function dN(i){try{return localStorage.getItem(i)}catch{return null}}function pN(){try{localStorage.removeItem(Wu())}catch{}}const oc=({src:i,name:t,email:o,size:s="md",className:r=""})=>{const[f,p]=$.useState(i||null),[g,y]=$.useState(!1),h={sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg"},v=()=>t?t.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2):o[0].toUpperCase(),E=()=>{const C=["bg-indigo-400","bg-purple-400","bg-pink-400","bg-blue-400","bg-teal-400","bg-emerald-400","bg-orange-400"],w=o.charCodeAt(0)%C.length;return C[w]};$.useEffect(()=>{if(i&&!g){const C=Wu();fN(i,C).catch(()=>{})}},[i,g]);const _=()=>{const C=Wu(),w=dN(C);w&&w!==f?p(w):y(!0)};return f&&!g?T.jsx("img",{src:f,alt:t||o,className:`${h[s]} rounded-full border-2 border-white shadow-sm ${r}`,onError:_}):T.jsx("div",{className:`${h[s]} rounded-full ${E()} flex items-center justify-center text-white font-bold border-2 border-white shadow-sm ${r}`,children:v()})},mN=({isOpen:i,onClose:t,onSubmit:o,errorMessage:s,user:r})=>{const[f,p]=$.useState(""),[g,y]=$.useState(!1),[h,v]=$.useState(null);$.useEffect(()=>{if(i){const w=localStorage.getItem("gemini_api_key"),I=localStorage.getItem("use_credits_preference");p(w||""),v(null),y(I!==null?I==="true":w?!1:!!r)}},[i,r]);const E=w=>{y(w),v(null),localStorage.setItem("use_credits_preference",w.toString())},_=()=>{g&&r?o("USE_CREDITS"):!g&&f.trim()&&o(f.trim())},C=()=>g?!!r:!!f.trim();return i?T.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/40 backdrop-blur-sm p-2 sm:p-4 animate-in fade-in duration-300",children:T.jsxs("div",{className:"bg-white border border-white/60 rounded-2xl sm:rounded-3xl p-4 sm:p-6 w-full max-w-md shadow-2xl shadow-purple-100/50 scale-100 animate-in zoom-in-95 duration-300 max-h-[95vh] overflow-y-auto",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4 text-slate-800",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-tr from-cute-pink to-cute-purple rounded-lg sm:rounded-xl flex items-center justify-center shadow-md shadow-pink-100",children:T.jsx(hl,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),T.jsx("h2",{className:"text-lg sm:text-xl font-bold font-display",children:"Settings"})]}),r&&g&&T.jsxs("div",{className:"bg-purple-50 text-purple-600 px-3 py-1 rounded-full text-xs font-bold border border-purple-100",children:[r.credits," Credits"]})]}),(s||h)&&T.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-100 rounded-2xl flex items-start gap-2 max-h-32 overflow-y-auto",children:[T.jsx(yl,{className:"w-5 h-5 text-red-400 shrink-0 mt-0.5"}),T.jsx("p",{className:"text-sm text-red-600 font-medium break-all",children:h||s})]}),T.jsxs("div",{className:`mb-6 flex items-center gap-3 p-3 rounded-2xl border transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] cursor-pointer ${g?"bg-gradient-to-r from-pink-50 to-purple-50 border-pink-200":"bg-slate-50 border-slate-100 hover:bg-slate-100"}`,onClick:()=>E(!g),children:[T.jsx("div",{className:`relative w-5 h-5 rounded-lg border-2 transition-all duration-300 flex items-center justify-center shrink-0 ${g?"bg-gradient-to-r from-cute-pink to-cute-purple border-pink-300":"bg-white border-slate-300"}`,children:g&&T.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),T.jsx("input",{type:"checkbox",id:"useCredit",checked:g,onChange:w=>E(w.target.checked),className:"hidden"}),T.jsxs("div",{className:"flex items-center gap-2 flex-1 select-none",children:[T.jsx(ua,{className:`w-5 h-5 ${g?"text-pink-500":"text-slate-600"}`}),T.jsx("label",{htmlFor:"useCredit",className:`text-sm font-extrabold cursor-pointer ${g?"text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-purple-500":"text-slate-700"}`,children:"Use Credits"})]}),r&&g&&T.jsxs("span",{className:"text-xs text-green-500 font-bold flex items-center gap-1",children:[T.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full shadow-sm"}),"Signed in"]})]}),g?r?T.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(oc,{src:r.profilePicture,name:r.name,email:r.email,size:"md"}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("p",{className:"text-slate-800 font-bold truncate",children:r.name||"User"}),T.jsx("p",{className:"text-sm text-slate-500 truncate",children:r.email})]})]}),T.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"You'll use credits from your account for image generation."})]}):T.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[T.jsx("p",{className:"text-slate-500 text-sm mb-4 text-center font-medium",children:"Sign in with Google to use the credit system"}),T.jsx("div",{className:"flex justify-center",children:T.jsx("div",{className:"p-[2px] rounded-full bg-gradient-to-r from-cute-pink to-cute-purple shadow-md hover:shadow-lg hover:shadow-pink-200 transition-all duration-300 hover:scale-[1.02]",children:T.jsx("div",{className:"bg-white rounded-full overflow-hidden",children:T.jsx(N0,{width:"280px"})})})})]}):T.jsxs("div",{className:"space-y-2 mb-6",children:[T.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:"Gemini API Key"}),T.jsx("input",{type:"password",value:f,onChange:w=>p(w.target.value),placeholder:"AIzaSy...",className:`w-full bg-slate-50 border rounded-2xl p-4 text-slate-800 placeholder:text-slate-400 focus:outline-none focus:ring-4 transition-all ${s?"border-red-200 focus:ring-red-100":"border-slate-200 focus:ring-purple-100 focus:border-purple-300"}`,autoFocus:!0}),T.jsxs("p",{className:"text-xs text-slate-500 ml-1",children:["Don't have a key? ",T.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-purple-500 hover:text-purple-600 hover:underline font-bold",children:"Get one here"})]})]}),T.jsxs("div",{className:"flex gap-3 justify-end",children:[T.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl text-slate-500 hover:text-slate-700 hover:bg-slate-100 transition-colors font-bold text-sm",children:"Cancel"}),T.jsx("button",{onClick:_,disabled:!C(),className:"px-6 py-2.5 bg-gradient-to-r from-cute-pink to-cute-purple hover:shadow-lg hover:shadow-pink-200 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl font-bold transition-all duration-300 hover:scale-105 active:scale-95",children:s?"Retry":"Save"})]})]})}):null};var vl=xg();let yi={apiBaseUrl:""};function hN(i){yi.apiBaseUrl=i.apiBaseUrl}async function gN(){if(!yi.apiBaseUrl)return{success:!1,error:"Razorpay service not configured. Call configureRazorpayService first.",errorType:"SERVER_ERROR"};try{const i=await fetch(`${yi.apiBaseUrl}/payments/packages`);return i.ok?{success:!0,data:(await i.json()).packages}:{success:!1,error:(await i.json().catch(()=>({detail:"Failed to fetch packages"}))).detail||"Failed to fetch packages",errorType:"SERVER_ERROR"}}catch{return{success:!1,error:"Network error. Please check your connection.",errorType:"NETWORK"}}}async function yN(i){if(!yi.apiBaseUrl)return{success:!1,error:"Razorpay service not configured. Call configureRazorpayService first.",errorType:"SERVER_ERROR"};try{const t=await Xn(`${yi.apiBaseUrl}/payments/create-order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({package_id:i})});return t.status===401?{success:!1,error:"Authentication required. Please sign in.",errorType:"UNAUTHORIZED"}:t.ok?{success:!0,data:await t.json()}:{success:!1,error:(await t.json().catch(()=>({detail:"Failed to create order"}))).detail||"Failed to create order",errorType:"SERVER_ERROR"}}catch{return{success:!1,error:"Network error. Please check your connection.",errorType:"NETWORK"}}}async function vN(i){if(!yi.apiBaseUrl)return{success:!1,error:"Razorpay service not configured. Call configureRazorpayService first.",errorType:"SERVER_ERROR"};try{const t=await Xn(`${yi.apiBaseUrl}/payments/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});return t.status===401?{success:!1,error:"Authentication required. Please sign in.",errorType:"UNAUTHORIZED"}:t.ok?{success:!0,data:await t.json()}:{success:!1,error:(await t.json().catch(()=>({detail:"Payment verification failed"}))).detail||"Payment verification failed",errorType:"SERVER_ERROR"}}catch{return{success:!1,error:"Network error. Please check your connection.",errorType:"NETWORK"}}}async function SN(i){const{order:t,appName:o="AnimateImage",userEmail:s,userName:r,themeColor:f="#6366f1",onSuccess:p,onError:g,onDismiss:y}=i;if(!window.Razorpay){g("Razorpay checkout is not loaded. Please refresh the page.");return}const h={key:t.key_id,amount:t.amount_paise,currency:t.currency,order_id:t.razorpay_order_id,name:o,description:`${t.credits} Credits`,handler:async E=>{const _=await vN({razorpay_order_id:E.razorpay_order_id,razorpay_payment_id:E.razorpay_payment_id,razorpay_signature:E.razorpay_signature});_.success&&_.data?p(_.data):g(_.error||"Payment verification failed")},prefill:{email:s,name:r},theme:{color:f},modal:{ondismiss:y}};new window.Razorpay(h).open()}async function TN(i){const{packageId:t,onError:o,...s}=i,r=await yN(t);if(!r.success||!r.data){o(r.error||"Failed to create order");return}await SN({order:r.data,onError:o,...s})}let gi=[],Ys=[],EN=0;function b0(){Ys.forEach(i=>i([...gi]))}function _N(){return`toast-${++EN}-${Date.now()}`}function R0(i){const t=i.id||_N(),o=i.duration??4e3,s={id:t,type:i.type,message:i.message,duration:o};return gi=[...gi,s],b0(),t}function xN(i){gi.findIndex(o=>o.id===i)!==-1&&(gi=gi.filter(o=>o.id!==i),b0())}function CN(i){return Ys.push(i),i([...gi]),()=>{Ys=Ys.filter(t=>t!==i)}}function lc(i,t){return R0({type:"success",message:i,duration:t})}function ea(i,t){return R0({type:"error",message:i,duration:6e3})}const AN=({isOpen:i,onClose:t,user:o,onCreditsUpdated:s})=>{const[r,f]=$.useState([]),[p,g]=$.useState(!0),[y,h]=$.useState(null),[v,E]=$.useState(null);$.useEffect(()=>{i&&(h(null),_())},[i]);const _=async()=>{g(!0),h(null);const w=await gN();w.success&&w.data?f(w.data):h(w.error||"Failed to load packages"),g(!1)},C=async w=>{E(w.id),h(null),await TN({packageId:w.id,appName:"AnimateImage",userEmail:o.email,userName:o.name||void 0,onSuccess:async I=>{E(null),lc(`Success! New balance: ${I.new_balance} credits`),await ju(),s==null||s(I.new_balance),t()},onError:I=>{E(null),ea(I)},onDismiss:()=>{E(null)}})};return i?vl.createPortal(T.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-2 sm:p-4 overflow-y-auto",children:[T.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),T.jsxs("div",{className:"relative bg-white border border-white/60 rounded-2xl sm:rounded-3xl shadow-2xl shadow-purple-100/50 max-w-lg w-full max-h-[95vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[T.jsx("div",{className:"flex-shrink-0 p-4 sm:p-6 border-b border-purple-100 bg-gradient-to-r from-purple-50/50 to-pink-50/50 rounded-t-2xl sm:rounded-t-3xl",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-white rounded-lg sm:rounded-xl flex items-center justify-center shadow-sm",children:T.jsx(hl,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-400"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-lg sm:text-xl font-bold font-display text-slate-800",children:"Buy Credits"}),T.jsx("p",{className:"text-xs sm:text-sm text-slate-500 font-medium",children:"Choose a credit package"})]})]}),T.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-xl hover:bg-white/50 transition-all duration-300 hover:rotate-90 text-slate-400 hover:text-slate-600",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 bg-slate-50/50",children:[T.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-white rounded-2xl border border-slate-100 shadow-sm",children:[T.jsx(ua,{className:"w-5 h-5 text-purple-400"}),T.jsx("span",{className:"text-slate-500 font-medium",children:"Current Balance:"}),T.jsxs("span",{className:"font-bold text-purple-600",children:[o.credits," credits"]})]}),p&&T.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[T.jsx("div",{className:"w-8 h-8 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin mb-4"}),T.jsx("p",{className:"text-slate-400",children:"Loading packages..."})]}),y&&T.jsxs("div",{className:"flex items-center gap-3 p-4 mb-4 bg-red-950/30 border border-red-500/30 rounded-xl",children:[T.jsx(yl,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),T.jsx("p",{className:"text-red-300 text-sm",children:y}),T.jsx("button",{onClick:_,className:"ml-auto text-sm text-red-400 hover:text-red-300 underline",children:"Retry"})]}),!p&&r.length>0&&T.jsx("div",{className:"space-y-3",children:r.map(w=>T.jsxs("button",{onClick:()=>C(w),disabled:v!==null,className:`
                                        w-full flex items-center justify-between p-4 rounded-2xl border transition-all duration-300
                                        ${v===w.id?"bg-purple-50 border-purple-200 cursor-wait":"bg-white border-slate-100 hover:border-purple-200 hover:shadow-md hover:shadow-purple-100 hover:scale-[1.02] active:scale-[0.98] cursor-pointer"}
                                        disabled:opacity-50 disabled:cursor-not-allowed
                                    `,children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:`
                                            w-12 h-12 rounded-xl flex items-center justify-center font-bold text-lg shadow-sm
                                            ${w.id==="pro"?"bg-gradient-to-br from-amber-100 to-orange-100 text-amber-600":w.id==="standard"?"bg-gradient-to-br from-purple-100 to-pink-100 text-purple-600":"bg-slate-100 text-slate-500"}
                                        `,children:w.credits}),T.jsxs("div",{className:"text-left",children:[T.jsx("p",{className:"font-bold text-slate-800",children:w.name}),T.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:[w.credits," credits"]})]})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("div",{className:"text-right",children:[T.jsxs("p",{className:"text-lg font-bold text-slate-800",children:["",w.amount_rupees]}),T.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:["",(w.amount_rupees/w.credits).toFixed(2),"/credit"]})]}),v===w.id?T.jsx("div",{className:"w-6 h-6 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"}):T.jsx("svg",{className:"w-5 h-5 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},w.id))}),!p&&!y&&r.length===0&&T.jsx("div",{className:"text-center py-12",children:T.jsx("p",{className:"text-slate-400",children:"No packages available at the moment."})})]}),T.jsx("div",{className:"flex-shrink-0 px-4 sm:px-6 py-3 sm:py-4 border-t border-slate-100 bg-white rounded-b-2xl sm:rounded-b-3xl",children:T.jsx("p",{className:"text-xs text-slate-400 text-center font-medium",children:"Secure payments powered by Razorpay. By purchasing, you agree to our terms of service."})})]})]}),document.body):null};let sc={apiBaseUrl:""};function wN(i){sc.apiBaseUrl=i.apiBaseUrl}async function NN(i){var t;if(!sc.apiBaseUrl)return{success:!1,error:"Contact service not configured. Call configureContactService first.",errorType:"SERVER_ERROR"};if(!i.message||i.message.trim().length===0)return{success:!1,error:"Message is required.",errorType:"VALIDATION"};try{const o=await Xn(`${sc.apiBaseUrl}/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subject:((t=i.subject)==null?void 0:t.trim())||void 0,message:i.message.trim()})});return o.status===401?{success:!1,error:"Authentication required. Please sign in.",errorType:"UNAUTHORIZED"}:o.status===422?{success:!1,error:(await o.json().catch(()=>({detail:"Validation error"}))).detail||"Please check your input.",errorType:"VALIDATION"}:o.ok?{success:!0,data:await o.json()}:{success:!1,error:(await o.json().catch(()=>({detail:"Failed to submit message"}))).detail||"Failed to submit message",errorType:"SERVER_ERROR"}}catch{return{success:!1,error:"Network error. Please check your connection.",errorType:"NETWORK"}}}const bN=({isOpen:i,onClose:t})=>{const[o,s]=$.useState(""),[r,f]=$.useState(""),[p,g]=$.useState(!1),[y,h]=$.useState(null),[v,E]=$.useState(null),_=async w=>{if(w.preventDefault(),!r.trim()){h("Message is required.");return}g(!0),h(null),E(null);const I=await NN({subject:o.trim()||void 0,message:r.trim()});g(!1),I.success&&I.data?(E(I.data.message),s(""),f("")):h(I.error||"Failed to send message.")},C=()=>{s(""),f(""),h(null),E(null),t()};return i?vl.createPortal(T.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 overflow-y-auto",children:[T.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:C}),T.jsxs("div",{className:"relative bg-white border border-white/60 rounded-3xl shadow-2xl shadow-purple-100/50 max-w-lg w-full max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[T.jsx("div",{className:"flex-shrink-0 p-6 border-b border-emerald-100 bg-gradient-to-r from-emerald-50/50 to-teal-50/50 rounded-t-3xl",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-sm",children:T.jsx(nc,{className:"w-5 h-5 text-emerald-400"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold font-display text-slate-800",children:"Contact Us"}),T.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"We'd love to hear from you"})]})]}),T.jsx("button",{onClick:C,className:"w-8 h-8 flex items-center justify-center rounded-xl hover:bg-white/50 transition-all duration-300 hover:rotate-90 text-slate-400 hover:text-slate-600",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),T.jsxs("form",{onSubmit:_,className:"flex-1 overflow-y-auto p-6 bg-slate-50/50",children:[y&&T.jsxs("div",{className:"flex items-center gap-3 p-4 mb-4 bg-red-50 border border-red-100 rounded-2xl",children:[T.jsx(yl,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),T.jsx("p",{className:"text-red-600 text-sm font-medium",children:y})]}),v&&T.jsxs("div",{className:"flex items-center gap-3 p-4 mb-4 bg-green-50 border border-green-100 rounded-2xl",children:[T.jsx("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),T.jsx("p",{className:"text-green-600 text-sm font-medium",children:v})]}),T.jsxs("div",{className:"mb-4",children:[T.jsxs("label",{htmlFor:"subject",className:"block text-sm font-bold text-slate-600 mb-2 ml-1",children:["Subject ",T.jsx("span",{className:"text-slate-400 font-normal",children:"(optional)"})]}),T.jsx("input",{type:"text",id:"subject",value:o,onChange:w=>s(w.target.value),placeholder:"What's this about?",disabled:p,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-2xl text-slate-800 placeholder-slate-400 focus:outline-none focus:border-emerald-300 focus:ring-4 focus:ring-emerald-100 transition-all duration-300 focus:scale-[1.01] disabled:opacity-50 shadow-sm"})]}),T.jsxs("div",{className:"mb-6",children:[T.jsxs("label",{htmlFor:"message",className:"block text-sm font-bold text-slate-600 mb-2 ml-1",children:["Message ",T.jsx("span",{className:"text-red-400",children:"*"})]}),T.jsx("textarea",{id:"message",value:r,onChange:w=>f(w.target.value),placeholder:"Tell us what you need help with...",required:!0,disabled:p,rows:5,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-2xl text-slate-800 placeholder-slate-400 focus:outline-none focus:border-emerald-300 focus:ring-4 focus:ring-emerald-100 transition-all duration-300 focus:scale-[1.01] disabled:opacity-50 resize-none shadow-sm"})]}),T.jsx("button",{type:"submit",disabled:p||!r.trim(),className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-emerald-400 to-teal-400 hover:shadow-lg hover:shadow-emerald-200 text-white font-bold rounded-2xl transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:p?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):T.jsxs(T.Fragment,{children:[T.jsx(nc,{className:"w-5 h-5"}),"Send Message"]})})]}),T.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-t border-slate-100 bg-white rounded-b-3xl",children:T.jsx("p",{className:"text-xs text-slate-400 text-center font-medium",children:"We typically respond within 24-48 hours."})})]})]}),document.body):null};let ac={apiBaseUrl:""};function RN(i){ac.apiBaseUrl=i.apiBaseUrl}async function MN(i=1,t=20){if(!ac.apiBaseUrl)return{success:!1,error:"Payment History service not configured. Call configurePaymentHistoryService first.",errorType:"SERVER_ERROR"};const o=Math.max(1,Math.floor(i)),s=Math.min(100,Math.max(1,Math.floor(t)));try{const r=`${ac.apiBaseUrl}/payments/history?page=${o}&limit=${s}`,f=await Xn(r);return f.status===401?{success:!1,error:"Authentication required. Please sign in.",errorType:"UNAUTHORIZED"}:f.ok?{success:!0,data:await f.json()}:{success:!1,error:(await f.json().catch(()=>({detail:"Failed to fetch payment history"}))).detail||"Failed to fetch payment history",errorType:"SERVER_ERROR"}}catch{return{success:!1,error:"Network error. Please check your connection.",errorType:"NETWORK"}}}function IN(i,t="INR"){const o=i/100;return t==="INR"?`${o.toFixed(2)}`:`${t} ${o.toFixed(2)}`}function DN(i){switch(i){case"paid":return"text-green-700 bg-green-50 border-green-200 border";case"failed":return"text-red-700 bg-red-50 border-red-200 border";case"refunded":return"text-amber-700 bg-amber-50 border-amber-200 border";case"created":default:return"text-slate-700 bg-slate-50 border-slate-200 border"}}function UN(i){return new Date(i).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}const LN=({isOpen:i,onClose:t})=>{const[o,s]=$.useState([]),[r,f]=$.useState(!0),[p,g]=$.useState(null),[y,h]=$.useState(1),[v,E]=$.useState(0),[_]=$.useState(10);$.useEffect(()=>{i&&C(1)},[i]);const C=async G=>{f(!0),g(null);const J=await MN(G,_);J.success&&J.data?(s(J.data.transactions),E(J.data.total_count),h(J.data.page)):g(J.error||"Failed to load payment history"),f(!1)},w=Math.ceil(v/_),I=()=>{y>1&&C(y-1)},L=()=>{y<w&&C(y+1)};return i?vl.createPortal(T.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 overflow-y-auto",children:[T.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),T.jsxs("div",{className:"relative bg-white border border-white/60 rounded-3xl shadow-2xl shadow-purple-100/50 max-w-2xl w-full max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[T.jsx("div",{className:"flex-shrink-0 p-6 border-b border-violet-100 bg-gradient-to-r from-violet-50/50 to-purple-50/50 rounded-t-3xl",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-sm",children:T.jsx(Nc,{className:"w-5 h-5 text-violet-400"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold font-display text-slate-800",children:"Payment History"}),T.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Your transactions and purchases"})]})]}),T.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-xl hover:bg-white/50 transition-colors text-slate-400 hover:text-slate-600",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50/50",children:[r&&T.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[T.jsx("div",{className:"w-8 h-8 border-2 border-violet-500 border-t-transparent rounded-full animate-spin mb-4"}),T.jsx("p",{className:"text-slate-500 font-medium",children:"Loading transactions..."})]}),p&&!r&&T.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-100 rounded-2xl",children:[T.jsx(yl,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),T.jsx("p",{className:"text-red-600 text-sm font-medium",children:p}),T.jsx("button",{onClick:()=>C(y),className:"ml-auto text-sm text-red-500 hover:text-red-600 underline font-medium",children:"Retry"})]}),!r&&!p&&o.length===0&&T.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-4 shadow-sm border border-slate-100",children:T.jsx(ua,{className:"w-8 h-8 text-slate-300"})}),T.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-2",children:"No Transactions Yet"}),T.jsx("p",{className:"text-slate-500 max-w-xs font-medium",children:"Your payment history will appear here once you make a purchase."})]}),!r&&!p&&o.length>0&&T.jsx("div",{className:"space-y-3",children:o.map(G=>T.jsx("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl hover:border-violet-200 hover:shadow-sm transition-all",children:T.jsxs("div",{className:"flex items-start justify-between gap-4",children:[T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsxs("span",{className:"font-bold text-slate-800 capitalize",children:[G.package_id," Package"]}),T.jsx("span",{className:`px-2 py-0.5 text-xs font-bold rounded-full border ${DN(G.status)}`,children:G.status})]}),T.jsxs("p",{className:"text-sm text-slate-500 font-medium mb-2",children:[G.credits_amount," credits"]}),T.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-slate-400 font-medium",children:[T.jsx("span",{children:UN(G.paid_at||G.created_at)}),G.razorpay_payment_id&&T.jsx("span",{className:"font-mono bg-slate-100 px-1.5 py-0.5 rounded text-slate-500",children:G.razorpay_payment_id})]}),G.error_message&&T.jsx("p",{className:"mt-2 text-xs text-red-500 font-medium",children:G.error_message})]}),T.jsxs("div",{className:"text-right flex-shrink-0",children:[T.jsx("p",{className:"text-lg font-bold text-slate-800",children:IN(G.amount_paise,G.currency)}),T.jsx("p",{className:"text-xs text-slate-400 font-medium capitalize",children:G.gateway})]})]})},G.transaction_id))})]}),!r&&!p&&o.length>0&&T.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-t border-slate-100 bg-white rounded-b-3xl",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:["Showing ",(y-1)*_+1,"-",Math.min(y*_,v)," of ",v]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("button",{onClick:I,disabled:y<=1,className:"px-3 py-1.5 text-sm text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:"Previous"}),T.jsxs("span",{className:"text-sm text-slate-500 px-2 font-medium",children:[y," / ",w]}),T.jsx("button",{onClick:L,disabled:y>=w,className:"px-3 py-1.5 text-sm text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:"Next"})]})]})}),!r&&(o.length===0||p)&&T.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-t border-slate-100 bg-white rounded-b-3xl",children:T.jsx("p",{className:"text-xs text-slate-400 text-center font-medium",children:"Need help? Contact our support team."})})]})]}),document.body):null};let vi={apiBaseUrl:""};function kN(i){vi.apiBaseUrl=i.apiBaseUrl}async function GN(i=1,t=20){if(!vi.apiBaseUrl)return{success:!1,error:"Process History service not configured. Call configureProcessHistoryService first.",errorType:"SERVER_ERROR"};const o=Math.max(1,Math.floor(i)),s=Math.min(100,Math.max(1,Math.floor(t)));try{const r=`${vi.apiBaseUrl}/gemini/jobs?page=${o}&limit=${s}`,f=await Xn(r);return f.status===401?{success:!1,error:"Authentication required. Please sign in.",errorType:"UNAUTHORIZED"}:f.ok?{success:!0,data:await f.json()}:{success:!1,error:(await f.json().catch(()=>({detail:"Failed to fetch process history"}))).detail||"Failed to fetch process history",errorType:"SERVER_ERROR"}}catch{return{success:!1,error:"Network error. Please check your connection.",errorType:"NETWORK"}}}async function HN(i){if(!vi.apiBaseUrl)return{success:!1,error:"Service not configured"};try{const t=`${vi.apiBaseUrl}/gemini/job/${i}`,o=await Xn(t,{method:"DELETE"});if(o.status===401)return{success:!1,error:"Authentication required"};if(!o.ok)return{success:!1,error:(await o.json().catch(()=>({detail:"Failed to delete job"}))).detail||"Failed to delete job"};const s=await o.json();return{success:!0,message:s.message,credits_refunded:s.credits_refunded,credits_remaining:s.credits_remaining}}catch{return{success:!1,error:"Network error"}}}async function VN(i){var t;if(!vi.apiBaseUrl)return{success:!1,error:"Service not configured"};try{const o=`${vi.apiBaseUrl}/gemini/job/${i}`,s=await Xn(o);if(s.status===401)return{success:!1,error:"Authentication required"};if(!s.ok)return{success:!1,error:"Failed to fetch job"};const r=await s.json();return{success:!0,data:{job_id:i,job_type:r.job_type||((t=r.output)!=null&&t.image?"image":"video"),status:r.status,created_at:r.created_at||r.started_at||new Date().toISOString(),completed_at:r.completed_at,prompt:r.prompt,download_url:r.download_url,error_message:r.error}}}catch{return{success:!1,error:"Network error"}}}function PN(i){switch(i){case"completed":return"text-green-700 bg-green-50 border-green-200 border";case"failed":return"text-red-700 bg-red-50 border-red-200 border";case"processing":return"text-blue-700 bg-blue-50 border-blue-200 border";case"queued":return"text-amber-700 bg-amber-50 border-amber-200 border";default:return"text-slate-700 bg-slate-50 border-slate-200 border"}}function Eg(i){return new Date(i).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}const BN=({isOpen:i,onClose:t})=>{const[o,s]=$.useState([]),[r,f]=$.useState(!0),[p,g]=$.useState(null),[y,h]=$.useState(1),[v,E]=$.useState(0),[_]=$.useState(10),[C,w]=$.useState(null);$.useEffect(()=>{i&&I(1)},[i]);const I=async F=>{f(!0),g(null);const z=await GN(F,_);z.success&&z.data?(s(z.data.jobs),E(z.data.total_count),h(z.data.page)):g(z.error||"Failed to load process history"),f(!1)},L=async F=>{if(F){const z=await VN(F);z.success&&z.data?s(le=>le.map(W=>W.job_id===F?z.data:W)):console.error("Failed to refresh job:",z.error)}else I(y)},G=async F=>{const z=await HN(F);if(z.success){if(await Yn.deleteVideo(F),z.message){let le=z.message;z.credits_refunded&&z.credits_refunded>0&&(le+=` (${z.credits_refunded} credits refunded)`),lc(le)}else lc("Job deleted successfully");z.credits_remaining!==void 0&&Sc(z.credits_remaining).catch(console.error),I(y)}else ea(z.error||"Failed to delete job")},J=async F=>{w(F);try{let z=await Yn.getVideoUrl(F);if(z||(await Yn.downloadAndStore(F),z=await Yn.getVideoUrl(F)),z){const le=document.createElement("a");le.href=z,le.download=`video-${F}.mp4`,document.body.appendChild(le),le.click(),document.body.removeChild(le)}}catch(z){alert(z.message||"Failed to download video")}finally{w(null)}},O=Math.ceil(v/_),Y=()=>{y>1&&I(y-1)},te=()=>{y<O&&I(y+1)};return i?vl.createPortal(T.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 overflow-y-auto",children:[T.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),T.jsxs("div",{className:"relative bg-white border border-white/60 rounded-3xl shadow-2xl shadow-purple-100/50 max-w-2xl w-full max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[T.jsx("div",{className:"flex-shrink-0 p-6 border-b border-violet-100 bg-gradient-to-r from-violet-50/50 to-purple-50/50 rounded-t-3xl",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-sm",children:T.jsx(Nc,{className:"w-5 h-5 text-violet-400"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold font-display text-slate-800",children:"Process History"}),T.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Your generation tasks"})]})]}),T.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-xl hover:bg-white/50 transition-colors text-slate-400 hover:text-slate-600",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50/50",children:[r&&T.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[T.jsx("div",{className:"w-8 h-8 border-2 border-violet-500 border-t-transparent rounded-full animate-spin mb-4"}),T.jsx("p",{className:"text-slate-500 font-medium",children:"Loading history..."})]}),p&&!r&&T.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-100 rounded-2xl",children:[T.jsx(yl,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),T.jsx("p",{className:"text-red-600 text-sm font-medium",children:p}),T.jsx("button",{onClick:()=>I(y),className:"ml-auto text-sm text-red-500 hover:text-red-600 underline font-medium",children:"Retry"})]}),!r&&!p&&o.length===0&&T.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-4 shadow-sm border border-slate-100",children:T.jsx(js,{className:"w-8 h-8 text-slate-300"})}),T.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-2",children:"No Jobs Yet"}),T.jsx("p",{className:"text-slate-500 max-w-xs font-medium",children:"Your generation history will appear here once you start creating."})]}),!r&&!p&&o.length>0&&T.jsx("div",{className:"space-y-3",children:o.map(F=>T.jsx("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl hover:border-violet-200 hover:shadow-sm transition-all",children:T.jsxs("div",{className:"flex items-start justify-between gap-4",children:[T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsxs("span",{className:"font-bold text-slate-800 capitalize flex items-center gap-1",children:[F.job_type==="video"?T.jsx(ec,{className:"w-4 h-4"}):T.jsx(js,{className:"w-4 h-4"}),F.job_type]}),T.jsx("span",{className:`px-2 py-0.5 text-xs font-bold rounded-full border ${PN(F.status)}`,children:F.status})]}),F.prompt&&T.jsxs("p",{className:"text-sm text-slate-600 font-medium mb-2 line-clamp-2",title:F.prompt,children:['"',F.prompt,'"']}),T.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-slate-400 font-medium",children:[T.jsxs("span",{children:["Created: ",Eg(F.created_at)]}),F.completed_at&&T.jsxs("span",{children:["Completed: ",Eg(F.completed_at)]})]}),F.error_message&&T.jsxs("p",{className:"mt-2 text-xs text-red-500 font-medium",children:["Error: ",F.error_message]})]}),T.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[F.status==="completed"&&F.job_type==="video"&&T.jsxs("button",{onClick:()=>J(F.job_id),disabled:C===F.job_id,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors border bg-violet-50 text-violet-600 hover:bg-violet-100 border-violet-100",title:"Download Video",children:[C===F.job_id?T.jsx("div",{className:"w-3.5 h-3.5 border-2 border-current border-t-transparent rounded-full animate-spin"}):T.jsx(A0,{className:"w-3.5 h-3.5"}),"Download"]}),F.status==="processing"&&T.jsx("button",{onClick:()=>L(F.job_id),className:"p-2 text-blue-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Refresh Status",children:T.jsx(nN,{className:"w-4 h-4"})}),T.jsx("button",{onClick:()=>G(F.job_id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Job",children:T.jsx(tc,{className:"w-4 h-4"})})]})]})},F.job_id))})]}),!r&&!p&&o.length>0&&T.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-t border-slate-100 bg-white rounded-b-3xl",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:["Showing ",(y-1)*_+1,"-",Math.min(y*_,v)," of ",v]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("button",{onClick:Y,disabled:y<=1,className:"px-3 py-1.5 text-sm text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:"Previous"}),T.jsxs("span",{className:"text-sm text-slate-500 px-2 font-medium",children:[y," / ",O]}),T.jsx("button",{onClick:te,disabled:y>=O,className:"px-3 py-1.5 text-sm text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:"Next"})]})]})}),!r&&(o.length===0||p)&&T.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-t border-slate-100 bg-white rounded-b-3xl",children:T.jsx("p",{className:"text-xs text-slate-400 text-center font-medium",children:"Need help? Contact our support team."})})]})]}),document.body):null},qN=({user:i,onSignOut:t,onCreditsUpdated:o})=>{const[s,r]=$.useState(!1),[f,p]=$.useState(!1),[g,y]=$.useState(!1),[h,v]=$.useState(!1),[E,_]=$.useState(!1),C=$.useRef(null);$.useEffect(()=>{const O=Y=>{C.current&&!C.current.contains(Y.target)&&r(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const w=async()=>{r(!1),pN(),await ra(),t()},I=()=>{p(!0),r(!1)},L=()=>{y(!0),r(!1)},G=()=>{v(!0),r(!1)},J=()=>{_(!0),r(!1)};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"relative",ref:C,children:[T.jsxs("button",{onClick:()=>r(!s),className:"flex items-center gap-2 p-1.5 rounded-full hover:bg-white/50 transition-all duration-300 hover:scale-105 active:scale-95 border border-transparent hover:border-white/50",children:[T.jsx(oc,{src:i.profilePicture,name:i.name,email:i.email,size:"sm"}),T.jsx(Ww,{className:`w-4 h-4 text-slate-500 transition-transform ${s?"rotate-180":""}`})]}),s&&T.jsxs("div",{className:"fixed sm:absolute right-2 sm:right-0 top-14 sm:top-full sm:mt-2 w-[calc(100vw-16px)] sm:w-72 max-w-80 bg-white border border-white/60 rounded-2xl shadow-xl shadow-purple-100/50 z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-300",children:[T.jsx("div",{className:"p-3 sm:p-4 bg-purple-50/50 border-b border-purple-100",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(oc,{src:i.profilePicture,name:i.name,email:i.email,size:"lg",className:"border-white shadow-sm"}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("p",{className:"font-bold text-slate-800 truncate text-sm sm:text-base",children:i.name||"User"}),T.jsx("p",{className:"text-xs sm:text-sm text-slate-500 truncate",children:i.email})]})]})}),T.jsx("div",{className:"p-2 sm:p-3 border-b border-slate-50",children:T.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-pink-50/50 rounded-xl border border-pink-100",children:[T.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[T.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-white rounded-xl flex items-center justify-center shadow-sm",children:T.jsx(ua,{className:"w-4 h-4 sm:w-5 sm:h-5 text-pink-400"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-xs font-bold text-pink-400 uppercase tracking-wider",children:"Credits"}),T.jsx("p",{className:"text-base sm:text-lg font-bold text-slate-700",children:i.credits})]})]}),T.jsxs("button",{onClick:I,className:"flex items-center gap-1.5 px-2 sm:px-3 py-1.5 bg-white hover:bg-pink-50 text-pink-500 hover:text-pink-600 text-xs sm:text-sm font-bold rounded-lg transition-all duration-300 hover:scale-105 active:scale-95 border border-pink-100 shadow-sm",children:[T.jsx(eN,{className:"w-4 h-4"}),"Buy"]})]})}),T.jsxs("div",{className:"p-2",children:[T.jsxs("button",{onClick:L,className:"hidden w-full flex items-center gap-3 px-3 py-2 sm:py-2.5 text-left text-slate-600 hover:bg-purple-50 hover:text-purple-600 rounded-xl transition-all duration-300 hover:translate-x-1 font-medium",children:[T.jsx(nc,{className:"w-4 h-4"}),T.jsx("span",{className:"text-xs sm:text-sm",children:"Contact Us"})]}),T.jsxs("button",{onClick:G,className:"w-full flex items-center gap-3 px-3 py-2 sm:py-2.5 text-left text-slate-600 hover:bg-purple-50 hover:text-purple-600 rounded-xl transition-all duration-300 hover:translate-x-1 font-medium",children:[T.jsx(Nc,{className:"w-4 h-4"}),T.jsx("span",{className:"text-xs sm:text-sm",children:"Payment History"})]}),T.jsxs("button",{onClick:J,className:"w-full flex items-center gap-3 px-3 py-2 sm:py-2.5 text-left text-slate-600 hover:bg-purple-50 hover:text-purple-600 rounded-xl transition-all duration-300 hover:translate-x-1 font-medium",children:[T.jsx(iN,{className:"w-4 h-4"}),T.jsx("span",{className:"text-xs sm:text-sm",children:"Process History"})]}),T.jsx("div",{className:"my-1 border-t border-slate-100"}),T.jsxs("button",{onClick:w,className:"w-full flex items-center gap-3 px-3 py-2 sm:py-2.5 text-left text-slate-600 hover:bg-red-50 hover:text-red-500 rounded-xl transition-all duration-300 hover:translate-x-1 font-medium",children:[T.jsx($w,{className:"w-4 h-4"}),T.jsx("span",{className:"text-xs sm:text-sm",children:"Sign out"})]})]})]})]}),T.jsx(AN,{isOpen:f,onClose:()=>p(!1),user:i,onCreditsUpdated:o}),T.jsx(bN,{isOpen:g,onClose:()=>y(!1)}),T.jsx(LN,{isOpen:h,onClose:()=>v(!1)}),T.jsx(BN,{isOpen:E,onClose:()=>_(!1)})]})},zN=({className:i})=>T.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),ON=({className:i})=>T.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),FN=({className:i})=>T.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),JN=({className:i})=>T.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),YN=({className:i})=>T.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),KN={success:{bg:"bg-green-50/95",border:"border-green-200",icon:"text-green-500",text:"text-green-800",IconComponent:zN},error:{bg:"bg-red-50/95",border:"border-red-200",icon:"text-red-500",text:"text-red-800",IconComponent:ON},info:{bg:"bg-blue-50/95",border:"border-blue-200",icon:"text-blue-500",text:"text-blue-800",IconComponent:FN},warning:{bg:"bg-yellow-50/95",border:"border-yellow-200",icon:"text-yellow-500",text:"text-yellow-800",IconComponent:JN}},XN=({toast:i,onClose:t,index:o})=>{const[s,r]=$.useState(!1),[f,p]=$.useState(!1),g=$.useRef(null),[y,h]=$.useState(i.duration),v=KN[i.type],E=v.IconComponent,_=()=>{g.current&&clearTimeout(g.current),r(!0),setTimeout(()=>{t()},200)};$.useEffect(()=>(i.duration>0&&!f&&y>0&&(g.current=setTimeout(()=>{h(L=>{const G=L-50;return G<=0?(_(),0):G})},50)),()=>{g.current&&clearTimeout(g.current)}),[f,y,i.duration]);const C=i.duration>0?y/i.duration*100:100,w={success:"bg-green-500",error:"bg-red-500",info:"bg-blue-500",warning:"bg-yellow-500"};return T.jsxs("div",{className:`
                relative flex items-center gap-3 px-4 py-3 rounded-xl border shadow-2xl backdrop-blur-md overflow-hidden
                ${v.bg} ${v.border}
                transform transition-all duration-300 ease-out hover:scale-[1.02] hover:shadow-lg
                ${s?"animate-out fade-out slide-out-to-top-2":"animate-in slide-in-from-top-4 fade-in"}
            `,style:{minWidth:"280px",maxWidth:"400px"},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[T.jsx(E,{className:`w-5 h-5 flex-shrink-0 ${v.icon}`}),T.jsx("p",{className:`flex-1 min-w-0 text-sm font-bold break-words ${v.text}`,children:i.message}),T.jsx("button",{onClick:_,className:`p-1 flex-shrink-0 rounded-lg hover:bg-black/5 transition-all duration-300 hover:rotate-90 ${v.icon}`,"aria-label":"Dismiss",children:T.jsx(YN,{className:"w-4 h-4"})}),i.duration>0&&T.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/5",children:T.jsx("div",{className:`h-full ${w[i.type]} transition-all duration-75 ease-linear`,style:{width:`${C}%`}})})]})},QN=()=>{const[i,t]=$.useState([]);return $.useEffect(()=>CN(t),[]),i.length===0?null:vl.createPortal(T.jsx(T.Fragment,{children:T.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-[70] flex flex-col gap-2 pointer-events-auto","aria-live":"polite","aria-label":"Notifications",children:i.map((o,s)=>T.jsx(XN,{toast:o,onClose:()=>xN(o.id),index:s},o.id))})}),document.body)},ZN=()=>{const[i,t]=$.useState(""),[o,s]=$.useState(!1),[r,f]=$.useState(""),[p,g]=$.useState(!1),[y,h]=$.useState("animate"),[v,E]=$.useState(null),[_,C]=$.useState(""),[w,I]=$.useState(""),[L,G]=$.useState(!1),[J,O]=$.useState("16:9"),[Y,te]=$.useState({isLoading:!1,statusMessage:""}),[F,z]=$.useState(null),[le,W]=$.useState(null),[fe,Ee]=$.useState(null),[ke,_e]=$.useState(!1),Ge=$.useRef(null),[Fe,H]=$.useState(null),[K,ae]=$.useState(!0);$.useEffect(()=>{const Q=localStorage.getItem("gemini_api_key");Q&&t(Q),Xw().catch(console.error),(async()=>{try{const oe=await bw();oe&&H(oe)}catch(oe){console.error("Auth initialization failed:",oe)}finally{ae(!1)}})();const he=xw(oe=>{H(oe)});return()=>he()},[]);const xe=async Q=>{z(null),z(null),W(null),Ee(null),te({isLoading:!0,statusMessage:"Initializing..."}),f("");const re=he=>{te(oe=>({...oe,statusMessage:he}))};try{if(y==="edit"){const he=await Dw(v,_,w,{...Q,onStatus:re});z(he),zs("generate_success",y).catch(console.error),te({isLoading:!1,statusMessage:"Done!"})}else{let he=w;if(!he.trim()&&!Q.useCredits)try{he=await Iw(v,_,{...Q,onStatus:re}),I(he),G(!0)}catch(vo){console.warn("Failed to generate prompt",vo),he="Animate this image with cinematic movement",I(he)}const{url:oe,jobId:Yt,prompt:wt}=await Uw(v,_,he,{...Q,aspectRatio:J,onStatus:re});W(oe),Yt&&Ee(Yt),wt&&(I(wt),G(!0)),zs("generate_success",y).catch(console.error),te({isLoading:!1,statusMessage:"Done!"})}}catch(he){console.error(he),zs("generate_failure",y).catch(()=>{});const oe=he.message||(typeof he=="string"?he:JSON.stringify(he));if(oe.includes("API key")||oe.includes("403")||oe.includes("400")||oe.includes("404")||oe.includes("NOT_FOUND")||oe.includes("Requested entity was not found")||oe.includes("Model not found")||oe.includes("requires a paid account")||oe.includes("UNAUTHENTICATED")||oe.includes("[5,")){te({isLoading:!1,statusMessage:""});let wt=oe;(oe.includes("404")||oe.includes("NOT_FOUND")||oe.includes("Requested entity was not found")||oe.includes("[5,"))&&(wt="Model or resource not found. This usually means your API Key does not have access to the required models (Requires Paid Project)."),ea(wt)}else te({isLoading:!1,statusMessage:""}),ea(oe||"An unexpected error occurred.")}},be=Q=>{if(Q==="USE_CREDITS"){s(!1),f(""),p&&v&&Fe&&(g(!1),xe({useCredits:!0}));return}t(Q),localStorage.setItem("gemini_api_key",Q),s(!1),f(""),p&&v&&(g(!1),xe({apiKey:Q}))},b=()=>{f(""),g(!1),s(!0)},q=Q=>{var he;const re=(he=Q.target.files)==null?void 0:he[0];if(re){if(!re.type.startsWith("image/")){alert("Please upload a valid image file.");return}const oe=new FileReader;oe.onloadend=()=>{const wt=oe.result.split(",")[1];E(wt),C(re.type),z(null),W(null)},oe.readAsDataURL(re)}},X=()=>{v&&(zs("generate_click",y).catch(console.error),i?xe({apiKey:i}):Fe?xe({useCredits:!0}):(g(!0),s(!0)))},ee=()=>{E(null),C(""),z(null),z(null),W(null),Ee(null),I(""),G(!1),te({isLoading:!1,statusMessage:""}),Ge.current&&(Ge.current.value="")},ue=Q=>{h(Q),G(!1)};return T.jsxs("div",{className:"min-h-screen max-h-screen bg-transparent text-slate-700 font-sans selection:bg-cute-pink selection:text-pink-900 relative flex flex-col",children:[T.jsx("header",{className:"border-b border-white/20 bg-white/60 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:T.jsxs("div",{className:"w-[95%] lg:w-[90%] mx-auto py-2 sm:py-0 sm:h-16 flex flex-wrap sm:flex-nowrap items-center justify-between gap-2",children:[T.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[T.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-tr from-cute-pink to-cute-purple rounded-xl sm:rounded-2xl rotate-3 flex items-center justify-center shadow-lg shadow-pink-200/50 transition-all duration-500 hover:rotate-12 hover:scale-110",children:T.jsx(hl,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white drop-shadow-sm"})}),T.jsxs("span",{className:"font-display font-bold text-lg sm:text-2xl tracking-tight text-slate-800 hidden sm:inline",children:["Animate",T.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-400",children:"Image"})]})]}),T.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-1 justify-end",children:[T.jsxs("div",{className:"flex items-center gap-1 bg-white/50 p-1 sm:p-1.5 rounded-full border border-white/50 shadow-inner",children:[T.jsx("button",{onClick:()=>ue("animate"),className:`px-2 sm:px-4 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-bold transition-all duration-300 hover:scale-105 active:scale-95 ${y==="animate"?"bg-gradient-to-r from-cute-pink to-cute-purple text-white shadow-md shadow-pink-200":"text-slate-500 hover:text-slate-700 hover:bg-white/50"}`,children:T.jsxs("span",{className:"flex items-center gap-1 sm:gap-2",children:[T.jsx(ec,{className:"w-4 h-4"}),T.jsx("span",{className:"hidden sm:inline",children:"Animate"})]})}),T.jsx("button",{onClick:()=>ue("edit"),className:`px-2 sm:px-4 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-bold transition-all duration-300 hover:scale-105 active:scale-95 ${y==="edit"?"bg-gradient-to-r from-cute-pink to-cute-purple text-white shadow-md shadow-pink-200":"text-slate-500 hover:text-slate-700 hover:bg-white/50"}`,children:T.jsxs("span",{className:"flex items-center gap-1 sm:gap-2",children:[T.jsx(js,{className:"w-4 h-4"}),T.jsx("span",{className:"hidden sm:inline",children:"Edit"})]})})]}),T.jsx("a",{href:"https://github.com/sponsors/jebin2?frequency=one-time&sponsor=jebin2",target:"_blank",rel:"noopener noreferrer",className:"p-2 sm:p-2.5 text-pink-400 hover:text-pink-500 hover:bg-pink-50 rounded-full transition-all duration-300 shadow-sm hover:shadow-md hover:scale-110 shrink-0 group",title:"Sponsor on GitHub",children:T.jsx(tN,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:animate-pulse"})}),T.jsx("button",{onClick:b,className:"p-2 sm:p-2.5 text-slate-400 hover:text-cute-purple hover:bg-white rounded-full transition-all duration-300 shadow-sm hover:shadow-md hover:rotate-45 hover:scale-110 shrink-0",title:"API Key Settings",children:T.jsx(Zw,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),T.jsx("div",{className:"shrink-0",children:K?T.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-white/50 animate-pulse"}):Fe?T.jsx(qN,{user:Fe,onSignOut:()=>H(null)}):T.jsx("div",{className:"p-[2px] rounded-full bg-gradient-to-r from-cute-pink to-cute-purple shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105",children:T.jsx("div",{className:"bg-white rounded-full overflow-hidden",children:T.jsx(N0,{width:"auto"})})})})]})]})}),T.jsx("main",{className:"w-[95%] lg:w-[90%] mx-auto py-4 lg:py-5 animate-in fade-in slide-in-from-bottom-8 duration-700 flex-1 flex flex-col",children:T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 lg:gap-6 flex-1",children:[T.jsxs("div",{className:"lg:col-span-5 flex flex-col gap-4 lg:gap-5",children:[T.jsx("div",{className:"bg-white/60 backdrop-blur-sm border border-white/60 rounded-2xl lg:rounded-3xl p-2 shadow-xl shadow-pink-100/50 transition-all duration-500 hover:shadow-2xl hover:shadow-pink-200/50 hover:scale-[1.01] flex-1 flex flex-col min-h-0",children:T.jsxs("div",{className:`relative group flex-1 min-h-[180px] rounded-xl lg:rounded-2xl border-2 border-dashed transition-all duration-300 flex flex-col items-center justify-center overflow-hidden
                  ${v?"border-transparent bg-white":"border-pink-200 bg-pink-50/30 hover:border-pink-300 hover:bg-pink-50/50 cursor-pointer"}`,onClick:()=>{var Q;return!v&&((Q=Ge.current)==null?void 0:Q.click())},children:[v?T.jsxs(T.Fragment,{children:[T.jsx("img",{src:`data:${_};base64,${v}`,alt:"Selected",className:"absolute inset-0 w-full h-full object-contain rounded-xl"}),T.jsx("button",{onClick:Q=>{Q.stopPropagation(),ee()},className:"absolute top-2 right-2 p-2 bg-white/80 text-red-400 hover:text-red-500 rounded-xl backdrop-blur-sm border border-white/50 shadow-sm transition-colors hover:shadow-md z-10",children:T.jsx(tc,{className:"w-4 h-4"})})]}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"w-16 h-16 lg:w-20 lg:h-20 rounded-full bg-white shadow-lg shadow-pink-100 flex items-center justify-center mb-3 lg:mb-4 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:T.jsx(Qw,{className:"w-7 h-7 lg:w-8 lg:h-8 text-pink-300 group-hover:text-pink-400 transition-colors"})}),T.jsx("p",{className:"text-slate-700 font-extrabold text-base lg:text-lg",children:"Click to upload image"}),T.jsx("p",{className:"text-slate-500 text-sm mt-1 font-medium",children:"JPG, PNG supported"})]}),T.jsx("input",{type:"file",ref:Ge,className:"hidden",accept:"image/*",onChange:q})]})}),T.jsxs("div",{className:"bg-white/80 backdrop-blur-md border border-white/60 rounded-2xl lg:rounded-3xl p-4 lg:p-5 space-y-4 lg:space-y-5 shadow-xl shadow-purple-100/50",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-extrabold text-slate-700 mb-2 lg:mb-3 ml-1",children:y==="animate"?"Animation Description":"Edit Instructions"}),y==="animate"&&L?T.jsxs("div",{className:"relative animate-in fade-in zoom-in-95 duration-200",children:[T.jsxs("div",{className:"w-full bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-100 rounded-xl lg:rounded-2xl p-3 lg:p-4 text-slate-600 h-24 lg:h-28 overflow-y-auto shadow-inner",children:[T.jsx("div",{className:"flex items-center gap-2 mb-2 sticky top-0 bg-transparent",children:T.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-white/80 text-purple-500 text-xs font-bold border border-purple-100 shadow-sm",children:[T.jsx(hl,{className:"w-3 h-3"})," AI Generated"]})}),T.jsx("p",{className:"text-sm leading-relaxed opacity-90 font-medium",children:w})]}),T.jsx("div",{className:"absolute top-3 right-3",children:T.jsx("button",{onClick:()=>G(!1),className:"px-3 py-1 bg-white/80 hover:bg-white text-slate-500 hover:text-purple-500 text-xs font-bold rounded-lg border border-white shadow-sm transition-all backdrop-blur-sm",children:"Edit"})})]}):T.jsx("textarea",{value:w,onChange:Q=>I(Q.target.value),placeholder:y==="animate"?"Leave empty for AI auto-description, or describe the movement...":"E.g., Add a cyberpunk neon glow, remove background...",className:"w-full bg-white border border-slate-200 rounded-xl lg:rounded-2xl p-3 lg:p-4 text-slate-800 placeholder:text-slate-400 focus:outline-none focus:ring-4 focus:ring-pink-100 focus:border-pink-300 transition-all duration-300 focus:scale-[1.01] resize-none h-24 lg:h-28 shadow-sm font-medium"})]}),y==="animate"&&T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-extrabold text-slate-700 mb-2 lg:mb-3 ml-1",children:"Output Aspect Ratio"}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsx("button",{onClick:()=>O("16:9"),className:`py-2.5 lg:py-3 px-4 rounded-xl border text-sm font-bold transition-all duration-300 hover:scale-105 active:scale-95 ${J==="16:9"?"bg-pink-50 border-pink-200 text-pink-600 shadow-inner":"bg-white border-slate-100 text-slate-600 hover:border-pink-200 hover:text-pink-500"}`,children:"Landscape (16:9)"}),T.jsx("button",{onClick:()=>O("9:16"),className:`py-2.5 lg:py-3 px-4 rounded-xl border text-sm font-bold transition-all duration-300 hover:scale-105 active:scale-95 ${J==="9:16"?"bg-pink-50 border-pink-200 text-pink-600 shadow-inner":"bg-white border-slate-100 text-slate-600 hover:border-pink-200 hover:text-pink-500"}`,children:"Portrait (9:16)"})]})]}),T.jsx("button",{onClick:X,disabled:!v||Y.isLoading,className:`w-full py-3.5 lg:py-4 rounded-xl lg:rounded-2xl font-bold text-base lg:text-lg shadow-lg flex items-center justify-center gap-2 transition-all duration-300
                  ${!v||Y.isLoading?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-gradient-to-r from-cute-pink to-cute-purple text-white hover:shadow-pink-300/50 hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]"}`,children:Y.isLoading?"Processing...":T.jsxs(T.Fragment,{children:[T.jsx(hl,{className:"w-5 h-5"}),y==="animate"?"Generate Video":"Generate Edit"]})})]})]}),T.jsx("div",{className:"lg:col-span-7 flex flex-col",children:T.jsx("div",{className:"flex-1 bg-white/60 backdrop-blur-md border border-white/60 rounded-2xl lg:rounded-3xl p-2 overflow-hidden flex flex-col shadow-xl shadow-blue-100/50",children:T.jsxs("div",{className:"flex-1 bg-white/50 rounded-xl lg:rounded-2xl flex items-center justify-center relative overflow-hidden border-2 border-dashed border-white/50",children:[!Y.isLoading&&!F&&!le&&T.jsxs("div",{className:"text-center p-6 lg:p-8 opacity-80",children:[T.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg shadow-purple-100",children:y==="animate"?T.jsx(ec,{className:"w-8 h-8 lg:w-10 lg:h-10 text-purple-400"}):T.jsx(js,{className:"w-8 h-8 lg:w-10 lg:h-10 text-purple-400"})}),T.jsx("p",{className:"text-lg lg:text-xl font-extrabold text-slate-700",children:"Ready to create magic"}),T.jsx("p",{className:"text-slate-500 text-sm lg:text-base font-medium",children:"Upload an image and click Generate"})]}),Y.isLoading&&T.jsx(cN,{message:Y.statusMessage,subMessage:y==="animate"?"Crafting your frames...":"Painting pixels..."}),!Y.isLoading&&F&&T.jsxs("div",{className:"w-full h-full flex flex-col animate-in zoom-in-95 duration-300",children:[T.jsx("div",{className:"flex-1 p-4 flex items-center justify-center",children:T.jsx("img",{src:F,alt:"Edited Result",className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl shadow-purple-200/50"})}),T.jsxs("div",{className:"p-4 bg-white/80 backdrop-blur-md border-t border-white/50 flex justify-between items-center",children:[T.jsx("span",{className:"text-sm text-slate-500 font-bold",children:"Enhanced Image Result"}),T.jsx("a",{href:F,download:"edited-image.png",className:"px-4 py-2 bg-white hover:bg-purple-50 text-slate-600 hover:text-purple-600 rounded-xl text-sm font-bold border border-slate-100 shadow-sm transition-all duration-300 hover:scale-105 active:scale-95",children:"Download Image"})]})]}),!Y.isLoading&&le&&T.jsxs("div",{className:"w-full h-full flex flex-col animate-in zoom-in-95 duration-300",children:[T.jsx("div",{className:"flex-1 bg-black/5 flex items-center justify-center rounded-t-2xl overflow-hidden",children:T.jsx("video",{src:le,controls:!0,loop:!0,autoPlay:!0,className:"max-w-full max-h-full shadow-2xl",style:{aspectRatio:J.replace(":","/")}})}),T.jsxs("div",{className:"p-4 bg-white/80 backdrop-blur-md border-t border-white/50 flex justify-between items-center",children:[T.jsx("div",{className:"flex flex-col",children:T.jsx("span",{className:"text-sm text-slate-600 font-bold",children:"Video Generation Result"})}),T.jsxs("div",{className:"flex items-center gap-2",children:[fe&&T.jsx("button",{onClick:async()=>{confirm("Are you sure you want to delete this video?")&&(await Yn.deleteVideo(fe),W(null),Ee(null))},className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",title:"Delete Video",children:T.jsx(tc,{className:"w-5 h-5"})}),T.jsxs("button",{onClick:async()=>{if(!fe){const Q=document.createElement("a");Q.href=le,Q.download="generated-video.mp4",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q);return}_e(!0);try{let Q=await Yn.getVideoUrl(fe);if(Q||(await Yn.downloadAndStore(fe),Q=await Yn.getVideoUrl(fe)),Q){const re=document.createElement("a");re.href=Q,re.download=`video-${fe}.mp4`,document.body.appendChild(re),re.click(),document.body.removeChild(re)}}catch(Q){alert(Q.message||"Failed to download")}finally{_e(!1)}},disabled:ke,className:"px-4 py-2 rounded-xl text-sm font-bold border shadow-sm transition-all duration-300 hover:scale-105 active:scale-95 flex items-center gap-2 bg-white hover:bg-purple-50 text-slate-600 hover:text-purple-600 border-slate-100",children:[ke?T.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):T.jsx(A0,{className:"w-4 h-4"}),"Download"]})]})]})]})]})})})]})}),T.jsx(mN,{isOpen:o,onClose:()=>s(!1),onSubmit:be,errorMessage:r,user:Fe}),T.jsx(QN,{})]})},mi="https://jebin2-apigateway.hf.space",$N="212074481946-sadifngeab8njbmvf1u8a6ilnvcugm7b.apps.googleusercontent.com";function WN(){Bw({cookieName:"animateimage_userid",dbName:"animateimage_user"}),Fw({dbName:"animateimage_events"}),Rw({apiBaseUrl:mi,defaultAnimationPrompt:"Analyze this image and create a concise prompt for a video generation model to create a cinematic, loopable animation. Identify the most interesting moving element (e.g., flowing water, swaying trees, flickering light, clouds) and describe the motion. Output ONLY the description, under 30 words."}),_w({clientId:$N,apiBaseUrl:mi,storagePrefix:"animateimage_auth"}),hN({apiBaseUrl:mi}),wN({apiBaseUrl:mi}),RN({apiBaseUrl:mi}),kN({apiBaseUrl:mi}),w0({apiBaseUrl:mi})}WN();const M0=document.getElementById("root");if(!M0)throw new Error("Could not find root element to mount to");const jN=cS.createRoot(M0);jN.render(T.jsx(iS.StrictMode,{children:T.jsx(ZN,{})}));
