(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();function ag(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var mu={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function U0(){if(pm)return il;pm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return il.Fragment=t,il.jsx=o,il.jsxs=o,il}var mm;function L0(){return mm||(mm=1,mu.exports=U0()),mu.exports}var M=L0(),hu={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function G0(){if(hm)return se;hm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,U={};function z(N,B,k){this.props=N,this.context=B,this.refs=U,this.updater=k||w}z.prototype.isReactComponent={},z.prototype.setState=function(N,B){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,B,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=z.prototype;function O(N,B,k){this.props=N,this.context=B,this.refs=U,this.updater=k||w}var Y=O.prototype=new K;Y.constructor=O,L(Y,z.prototype),Y.isPureReactComponent=!0;var ee=Array.isArray;function ne(){}var F={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function W(N,B,k){var X=k.ref;return{$$typeof:i,type:N,key:B,ref:X!==void 0?X:null,props:k}}function ue(N,B){return W(N.type,B,N.props)}function ye(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function Ae(N){var B={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(k){return B[k]})}var ve=/\/+/g;function He(N,B){return typeof N=="object"&&N!==null&&N.key!=null?Ae(""+N.key):B.toString(36)}function it(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ne,ne):(N.status="pending",N.then(function(B){N.status==="pending"&&(N.status="fulfilled",N.value=B)},function(B){N.status==="pending"&&(N.status="rejected",N.reason=B)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function H(N,B,k,X,j){var Z=typeof N;(Z==="undefined"||Z==="boolean")&&(N=null);var Se=!1;if(N===null)Se=!0;else switch(Z){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(N.$$typeof){case i:case t:Se=!0;break;case v:return Se=N._init,H(Se(N._payload),B,k,X,j)}}if(Se)return j=j(N),Se=X===""?"."+He(N,0):X,ee(j)?(k="",Se!=null&&(k=Se.replace(ve,"$&/")+"/"),H(j,B,k,"",function(uo){return uo})):j!=null&&(ye(j)&&(j=ue(j,k+(j.key==null||N&&N.key===j.key?"":(""+j.key).replace(ve,"$&/")+"/")+Se)),B.push(j)),1;Se=0;var Oe=X===""?".":X+":";if(ee(N))for(var Be=0;Be<N.length;Be++)X=N[Be],Z=Oe+He(X,Be),Se+=H(X,B,k,Z,j);else if(Be=C(N),typeof Be=="function")for(N=Be.call(N),Be=0;!(X=N.next()).done;)X=X.value,Z=Oe+He(X,Be++),Se+=H(X,B,k,Z,j);else if(Z==="object"){if(typeof N.then=="function")return H(it(N),B,k,X,j);throw B=String(N),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Se}function J(N,B,k){if(N==null)return N;var X=[],j=0;return H(N,X,"","",function(Z){return B.call(k,Z,j++)}),X}function le(N){if(N._status===-1){var B=N._result;B=B(),B.then(function(k){(N._status===0||N._status===-1)&&(N._status=1,N._result=k)},function(k){(N._status===0||N._status===-1)&&(N._status=2,N._result=k)}),N._status===-1&&(N._status=0,N._result=B)}if(N._status===1)return N._result.default;throw N._result}var Ne=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Me={map:J,forEach:function(N,B,k){J(N,function(){B.apply(this,arguments)},k)},count:function(N){var B=0;return J(N,function(){B++}),B},toArray:function(N){return J(N,function(B){return B})||[]},only:function(N){if(!ye(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return se.Activity=T,se.Children=Me,se.Component=z,se.Fragment=o,se.Profiler=r,se.PureComponent=O,se.StrictMode=a,se.Suspense=y,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,se.__COMPILER_RUNTIME={__proto__:null,c:function(N){return F.H.useMemoCache(N)}},se.cache=function(N){return function(){return N.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(N,B,k){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var X=L({},N.props),j=N.key;if(B!=null)for(Z in B.key!==void 0&&(j=""+B.key),B)!fe.call(B,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&B.ref===void 0||(X[Z]=B[Z]);var Z=arguments.length-2;if(Z===1)X.children=k;else if(1<Z){for(var Se=Array(Z),Oe=0;Oe<Z;Oe++)Se[Oe]=arguments[Oe+2];X.children=Se}return W(N.type,j,X)},se.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},se.createElement=function(N,B,k){var X,j={},Z=null;if(B!=null)for(X in B.key!==void 0&&(Z=""+B.key),B)fe.call(B,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(j[X]=B[X]);var Se=arguments.length-2;if(Se===1)j.children=k;else if(1<Se){for(var Oe=Array(Se),Be=0;Be<Se;Be++)Oe[Be]=arguments[Be+2];j.children=Oe}if(N&&N.defaultProps)for(X in Se=N.defaultProps,Se)j[X]===void 0&&(j[X]=Se[X]);return W(N,Z,j)},se.createRef=function(){return{current:null}},se.forwardRef=function(N){return{$$typeof:g,render:N}},se.isValidElement=ye,se.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:le}},se.memo=function(N,B){return{$$typeof:h,type:N,compare:B===void 0?null:B}},se.startTransition=function(N){var B=F.T,k={};F.T=k;try{var X=N(),j=F.S;j!==null&&j(k,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ne,Ne)}catch(Z){Ne(Z)}finally{B!==null&&k.types!==null&&(B.types=k.types),F.T=B}},se.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},se.use=function(N){return F.H.use(N)},se.useActionState=function(N,B,k){return F.H.useActionState(N,B,k)},se.useCallback=function(N,B){return F.H.useCallback(N,B)},se.useContext=function(N){return F.H.useContext(N)},se.useDebugValue=function(){},se.useDeferredValue=function(N,B){return F.H.useDeferredValue(N,B)},se.useEffect=function(N,B){return F.H.useEffect(N,B)},se.useEffectEvent=function(N){return F.H.useEffectEvent(N)},se.useId=function(){return F.H.useId()},se.useImperativeHandle=function(N,B,k){return F.H.useImperativeHandle(N,B,k)},se.useInsertionEffect=function(N,B){return F.H.useInsertionEffect(N,B)},se.useLayoutEffect=function(N,B){return F.H.useLayoutEffect(N,B)},se.useMemo=function(N,B){return F.H.useMemo(N,B)},se.useOptimistic=function(N,B){return F.H.useOptimistic(N,B)},se.useReducer=function(N,B,k){return F.H.useReducer(N,B,k)},se.useRef=function(N){return F.H.useRef(N)},se.useState=function(N){return F.H.useState(N)},se.useSyncExternalStore=function(N,B,k){return F.H.useSyncExternalStore(N,B,k)},se.useTransition=function(){return F.H.useTransition()},se.version="19.2.1",se}var gm;function ku(){return gm||(gm=1,hu.exports=G0()),hu.exports}var _e=ku();const H0=ag(_e);var gu={exports:{}},ol={},yu={exports:{}},vu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function q0(){return ym||(ym=1,(function(i){function t(H,J){var le=H.length;H.push(J);e:for(;0<le;){var Ne=le-1>>>1,Me=H[Ne];if(0<r(Me,J))H[Ne]=J,H[le]=Me,le=Ne;else break e}}function o(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var J=H[0],le=H.pop();if(le!==J){H[0]=le;e:for(var Ne=0,Me=H.length,N=Me>>>1;Ne<N;){var B=2*(Ne+1)-1,k=H[B],X=B+1,j=H[X];if(0>r(k,le))X<Me&&0>r(j,k)?(H[Ne]=j,H[X]=le,Ne=X):(H[Ne]=k,H[B]=le,Ne=B);else if(X<Me&&0>r(j,le))H[Ne]=j,H[X]=le,Ne=X;else break e}}return J}function r(H,J){var le=H.sortIndex-J.sortIndex;return le!==0?le:H.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,T=null,E=3,C=!1,w=!1,L=!1,U=!1,z=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function Y(H){for(var J=o(h);J!==null;){if(J.callback===null)a(h);else if(J.startTime<=H)a(h),J.sortIndex=J.expirationTime,t(y,J);else break;J=o(h)}}function ee(H){if(L=!1,Y(H),!w)if(o(y)!==null)w=!0,ne||(ne=!0,Ae());else{var J=o(h);J!==null&&it(ee,J.startTime-H)}}var ne=!1,F=-1,fe=5,W=-1;function ue(){return U?!0:!(i.unstable_now()-W<fe)}function ye(){if(U=!1,ne){var H=i.unstable_now();W=H;var J=!0;try{e:{w=!1,L&&(L=!1,K(F),F=-1),C=!0;var le=E;try{t:{for(Y(H),T=o(y);T!==null&&!(T.expirationTime>H&&ue());){var Ne=T.callback;if(typeof Ne=="function"){T.callback=null,E=T.priorityLevel;var Me=Ne(T.expirationTime<=H);if(H=i.unstable_now(),typeof Me=="function"){T.callback=Me,Y(H),J=!0;break t}T===o(y)&&a(y),Y(H)}else a(y);T=o(y)}if(T!==null)J=!0;else{var N=o(h);N!==null&&it(ee,N.startTime-H),J=!1}}break e}finally{T=null,E=le,C=!1}J=void 0}}finally{J?Ae():ne=!1}}}var Ae;if(typeof O=="function")Ae=function(){O(ye)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,He=ve.port2;ve.port1.onmessage=ye,Ae=function(){He.postMessage(null)}}else Ae=function(){z(ye,0)};function it(H,J){F=z(function(){H(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(H){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var le=E;E=J;try{return H()}finally{E=le}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=E;E=H;try{return J()}finally{E=le}},i.unstable_scheduleCallback=function(H,J,le){var Ne=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ne+le:Ne):le=Ne,H){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=le+Me,H={id:v++,callback:J,priorityLevel:H,startTime:le,expirationTime:Me,sortIndex:-1},le>Ne?(H.sortIndex=le,t(h,H),o(y)===null&&H===o(h)&&(L?(K(F),F=-1):L=!0,it(ee,le-Ne))):(H.sortIndex=Me,t(y,H),w||C||(w=!0,ne||(ne=!0,Ae()))),H},i.unstable_shouldYield=ue,i.unstable_wrapCallback=function(H){var J=E;return function(){var le=E;E=J;try{return H.apply(this,arguments)}finally{E=le}}}})(vu)),vu}var vm;function V0(){return vm||(vm=1,yu.exports=q0()),yu.exports}var Su={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function P0(){if(Sm)return ot;Sm=1;var i=ku();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ot.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return f(y,h,null,v)},ot.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},ot.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},ot.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ot.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,T=g(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ot.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},ot.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,T=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ot.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},ot.requestFormReset=function(y){a.d.r(y)},ot.unstable_batchedUpdates=function(y,h){return y(h)},ot.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},ot.useFormStatus=function(){return p.H.useHostTransitionStatus()},ot.version="19.2.1",ot}var Tm;function B0(){if(Tm)return Su.exports;Tm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Su.exports=P0(),Su.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function z0(){if(Em)return ol;Em=1;var i=V0(),t=ku(),o=B0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=m;else{for(var S=!1,_=d.child;_;){if(_===l){S=!0,l=d,s=m;break}if(_===s){S=!0,s=d,l=m;break}_=_.sibling}if(!S){for(_=m.child;_;){if(_===l){S=!0,l=m,s=d;break}if(_===s){S=!0,s=m,l=d;break}_=_.sibling}if(!S)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),O=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Symbol.for("react.client.reference");function He(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case z:return"Profiler";case U:return"StrictMode";case ee:return"Suspense";case ne:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case O:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case Y:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return n=e.displayName||null,n!==null?n:He(e.type)||"Memo";case fe:n=e._payload,e=e._init;try{return He(e(n))}catch{}}return null}var it=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Ne=[],Me=-1;function N(e){return{current:e}}function B(e){0>Me||(e.current=Ne[Me],Ne[Me]=null,Me--)}function k(e,n){Me++,Ne[Me]=e.current,e.current=n}var X=N(null),j=N(null),Z=N(null),Se=N(null);function Oe(e,n){switch(k(Z,n),k(j,e),k(X,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Hp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Hp(n),e=qp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(X),k(X,e)}function Be(){B(X),B(j),B(Z)}function uo(e){e.memoizedState!==null&&k(Se,e);var n=X.current,l=qp(n,e.type);n!==l&&(k(j,e),k(X,l))}function sl(e){j.current===e&&(B(X),B(j)),Se.current===e&&(B(Se),jo._currentValue=le)}var Za,fc;function Yn(e){if(Za===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Za=n&&n[1]||"",fc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Za+e+fc}var $a=!1;function Wa(e,n){if(!e||$a)return"";$a=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(G){var b=G}Reflect.construct(e,[],P)}else{try{P.call()}catch(G){b=G}e.call(P.prototype)}}else{try{throw Error()}catch(G){b=G}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(G){if(G&&b&&typeof G.stack=="string")return[G.stack,b.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),S=m[0],_=m[1];if(S&&_){var A=S.split(`
`),D=_.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===D.length)for(s=A.length-1,d=D.length-1;1<=s&&0<=d&&A[s]!==D[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==D[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==D[d]){var q=`
`+A[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=d);break}}}finally{$a=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Yn(l):""}function cy(e,n){switch(e.tag){case 26:case 27:case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return e.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Wa(e.type,!1);case 11:return Wa(e.type.render,!1);case 1:return Wa(e.type,!0);case 31:return Yn("Activity");default:return""}}function dc(e){try{var n="",l=null;do n+=cy(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ja=Object.prototype.hasOwnProperty,es=i.unstable_scheduleCallback,ts=i.unstable_cancelCallback,fy=i.unstable_shouldYield,dy=i.unstable_requestPaint,vt=i.unstable_now,py=i.unstable_getCurrentPriorityLevel,pc=i.unstable_ImmediatePriority,mc=i.unstable_UserBlockingPriority,rl=i.unstable_NormalPriority,my=i.unstable_LowPriority,hc=i.unstable_IdlePriority,hy=i.log,gy=i.unstable_setDisableYieldValue,co=null,St=null;function vn(e){if(typeof hy=="function"&&gy(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(co,e)}catch{}}var Tt=Math.clz32?Math.clz32:Sy,yy=Math.log,vy=Math.LN2;function Sy(e){return e>>>=0,e===0?32:31-(yy(e)/vy|0)|0}var ul=256,cl=262144,fl=4194304;function Kn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function dl(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?d=Kn(s):(S&=_,S!==0?d=Kn(S):l||(l=_&~e,l!==0&&(d=Kn(l))))):(_=s&~m,_!==0?d=Kn(_):S!==0?d=Kn(S):l||(l=s&~e,l!==0&&(d=Kn(l)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:d}function fo(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ty(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gc(){var e=fl;return fl<<=1,(fl&62914560)===0&&(fl=4194304),e}function ns(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function po(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ey(e,n,l,s,d,m){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,D=e.hiddenUpdates;for(l=S&~l;0<l;){var q=31-Tt(l),P=1<<q;_[q]=0,A[q]=-1;var b=D[q];if(b!==null)for(D[q]=null,q=0;q<b.length;q++){var G=b[q];G!==null&&(G.lane&=-536870913)}l&=~P}s!==0&&yc(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~n))}function yc(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Tt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function vc(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-Tt(l),d=1<<s;d&n|e[s]&n&&(e[s]|=n),l&=~d}}function Sc(e,n){var l=n&-n;return l=(l&42)!==0?1:is(l),(l&(e.suspendedLanes|n))!==0?0:l}function is(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function os(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Tc(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:am(e.type))}function Ec(e,n){var l=J.p;try{return J.p=e,n()}finally{J.p=l}}var Sn=Math.random().toString(36).slice(2),We="__reactFiber$"+Sn,ct="__reactProps$"+Sn,pi="__reactContainer$"+Sn,ls="__reactEvents$"+Sn,_y="__reactListeners$"+Sn,Cy="__reactHandles$"+Sn,_c="__reactResources$"+Sn,mo="__reactMarker$"+Sn;function as(e){delete e[We],delete e[ct],delete e[ls],delete e[_y],delete e[Cy]}function mi(e){var n=e[We];if(n)return n;for(var l=e.parentNode;l;){if(n=l[pi]||l[We]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Fp(e);e!==null;){if(l=e[We])return l;e=Fp(e)}return n}e=l,l=e.parentNode}return null}function hi(e){if(e=e[We]||e[pi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ho(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function gi(e){var n=e[_c];return n||(n=e[_c]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Qe(e){e[mo]=!0}var Cc=new Set,Ac={};function Xn(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(Ac[e]=n,e=0;e<n.length;e++)Cc.add(n[e])}var Ay=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rc={},Nc={};function Ry(e){return ja.call(Nc,e)?!0:ja.call(Rc,e)?!1:Ay.test(e)?Nc[e]=!0:(Rc[e]=!0,!1)}function pl(e,n,l){if(Ry(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function ml(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function Zt(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ny(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ss(e){if(!e._valueTracker){var n=Mc(e)?"checked":"value";e._valueTracker=Ny(e,n,""+e[n])}}function xc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=Mc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var My=/[\n"\\]/g;function wt(e){return e.replace(My,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rs(e,n,l,s,d,m,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xt(n)):e.value!==""+xt(n)&&(e.value=""+xt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?us(e,S,xt(n)):l!=null?us(e,S,xt(l)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+xt(_):e.removeAttribute("name")}function wc(e,n,l,s,d,m,S,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){ss(e);return}l=l!=null?""+xt(l):"",n=n!=null?""+xt(n):l,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ss(e)}function us(e,n,l){n==="number"&&hl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function vi(e,n,l,s){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&s&&(e[l].defaultSelected=!0)}else{for(l=""+xt(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Ic(e,n,l){if(n!=null&&(n=""+xt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+xt(l):""}function Dc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(it(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=xt(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ss(e)}function Si(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var xy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||xy.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Uc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&l[d]!==s&&bc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&bc(e,m,n[m])}function cs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Iy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gl(e){return Iy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $t(){}var fs=null;function ds(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,Ei=null;function Lc(e){var n=hi(e);if(n&&(e=n.stateNode)){var l=e[ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(rs(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+wt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var d=s[ct]||null;if(!d)throw Error(a(90));rs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&xc(s)}break e;case"textarea":Ic(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&vi(e,!!l.multiple,n,!1)}}}var ps=!1;function Gc(e,n,l){if(ps)return e(n,l);ps=!0;try{var s=e(n);return s}finally{if(ps=!1,(Ti!==null||Ei!==null)&&(ia(),Ti&&(n=Ti,e=Ei,Ei=Ti=null,Lc(n),e)))for(n=0;n<e.length;n++)Lc(e[n])}}function go(e,n){var l=e.stateNode;if(l===null)return null;var s=l[ct]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(Wt)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){ms=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{ms=!1}var Tn=null,hs=null,yl=null;function Hc(){if(yl)return yl;var e,n=hs,l=n.length,s,d="value"in Tn?Tn.value:Tn.textContent,m=d.length;for(e=0;e<l&&n[e]===d[e];e++);var S=l-e;for(s=1;s<=S&&n[l-s]===d[m-s];s++);return yl=d.slice(e,1<s?1-s:void 0)}function vl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Sl(){return!0}function qc(){return!1}function ft(e){function n(l,s,d,m,S){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Sl:qc,this.isPropagationStopped=qc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),n}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=ft(Qn),vo=T({},Qn,{view:0,detail:0}),Dy=ft(vo),gs,ys,So,El=T({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==So&&(So&&e.type==="mousemove"?(gs=e.screenX-So.screenX,ys=e.screenY-So.screenY):ys=gs=0,So=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:ys}}),Vc=ft(El),by=T({},El,{dataTransfer:0}),Uy=ft(by),Ly=T({},vo,{relatedTarget:0}),vs=ft(Ly),Gy=T({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hy=ft(Gy),qy=T({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vy=ft(qy),Py=T({},Qn,{data:0}),Pc=ft(Py),By={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ky={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ky[e])?!!n[e]:!1}function Ss(){return Oy}var Fy=T({},vo,{key:function(e){if(e.key){var n=By[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jy=ft(Fy),Yy=T({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=ft(Yy),Ky=T({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),Xy=ft(Ky),Qy=T({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zy=ft(Qy),$y=T({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wy=ft($y),jy=T({},Qn,{newState:0,oldState:0}),ev=ft(jy),tv=[9,13,27,32],Ts=Wt&&"CompositionEvent"in window,To=null;Wt&&"documentMode"in document&&(To=document.documentMode);var nv=Wt&&"TextEvent"in window&&!To,zc=Wt&&(!Ts||To&&8<To&&11>=To),kc=" ",Oc=!1;function Fc(e,n){switch(e){case"keyup":return tv.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _i=!1;function iv(e,n){switch(e){case"compositionend":return Jc(n);case"keypress":return n.which!==32?null:(Oc=!0,kc);case"textInput":return e=n.data,e===kc&&Oc?null:e;default:return null}}function ov(e,n){if(_i)return e==="compositionend"||!Ts&&Fc(e,n)?(e=Hc(),yl=hs=Tn=null,_i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return zc&&n.locale!=="ko"?null:n.data;default:return null}}var lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!lv[e.type]:n==="textarea"}function Kc(e,n,l,s){Ti?Ei?Ei.push(s):Ei=[s]:Ti=s,n=ca(n,"onChange"),0<n.length&&(l=new Tl("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var Eo=null,_o=null;function av(e){Ip(e,0)}function _l(e){var n=ho(e);if(xc(n))return e}function Xc(e,n){if(e==="change")return n}var Qc=!1;if(Wt){var Es;if(Wt){var _s="oninput"in document;if(!_s){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),_s=typeof Zc.oninput=="function"}Es=_s}else Es=!1;Qc=Es&&(!document.documentMode||9<document.documentMode)}function $c(){Eo&&(Eo.detachEvent("onpropertychange",Wc),_o=Eo=null)}function Wc(e){if(e.propertyName==="value"&&_l(_o)){var n=[];Kc(n,_o,e,ds(e)),Gc(av,n)}}function sv(e,n,l){e==="focusin"?($c(),Eo=n,_o=l,Eo.attachEvent("onpropertychange",Wc)):e==="focusout"&&$c()}function rv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _l(_o)}function uv(e,n){if(e==="click")return _l(n)}function cv(e,n){if(e==="input"||e==="change")return _l(n)}function fv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Et=typeof Object.is=="function"?Object.is:fv;function Co(e,n){if(Et(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!ja.call(n,d)||!Et(e[d],n[d]))return!1}return!0}function jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ef(e,n){var l=jc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=jc(l)}}function tf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?tf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function nf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=hl(e.document)}return n}function Cs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var dv=Wt&&"documentMode"in document&&11>=document.documentMode,Ci=null,As=null,Ao=null,Rs=!1;function of(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rs||Ci==null||Ci!==hl(s)||(s=Ci,"selectionStart"in s&&Cs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ao&&Co(Ao,s)||(Ao=s,s=ca(As,"onSelect"),0<s.length&&(n=new Tl("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=Ci)))}function Zn(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ai={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},Ns={},lf={};Wt&&(lf=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function $n(e){if(Ns[e])return Ns[e];if(!Ai[e])return e;var n=Ai[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in lf)return Ns[e]=n[l];return e}var af=$n("animationend"),sf=$n("animationiteration"),rf=$n("animationstart"),pv=$n("transitionrun"),mv=$n("transitionstart"),hv=$n("transitioncancel"),uf=$n("transitionend"),cf=new Map,Ms="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ms.push("scrollEnd");function Bt(e,n){cf.set(e,n),Xn(n,[e])}var Cl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Ri=0,xs=0;function Al(){for(var e=Ri,n=xs=Ri=0;n<e;){var l=It[n];It[n++]=null;var s=It[n];It[n++]=null;var d=It[n];It[n++]=null;var m=It[n];if(It[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}m!==0&&ff(l,d,m)}}function Rl(e,n,l,s){It[Ri++]=e,It[Ri++]=n,It[Ri++]=l,It[Ri++]=s,xs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ws(e,n,l,s){return Rl(e,n,l,s),Nl(e)}function Wn(e,n){return Rl(e,null,null,n),Nl(e)}function ff(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-Tt(l),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=l|536870912),m):null}function Nl(e){if(50<Yo)throw Yo=0,Vr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ni={};function gv(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,n,l,s){return new gv(e,n,l,s)}function Is(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jt(e,n){var l=e.alternate;return l===null?(l=_t(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function df(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ml(e,n,l,s,d,m){var S=0;if(s=e,typeof e=="function")Is(e)&&(S=1);else if(typeof e=="string")S=E0(e,l,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=_t(31,l,n,d),e.elementType=W,e.lanes=m,e;case L:return jn(l.children,d,m,n);case U:S=8,d|=24;break;case z:return e=_t(12,l,n,d|2),e.elementType=z,e.lanes=m,e;case ee:return e=_t(13,l,n,d),e.elementType=ee,e.lanes=m,e;case ne:return e=_t(19,l,n,d),e.elementType=ne,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:S=10;break e;case K:S=9;break e;case Y:S=11;break e;case F:S=14;break e;case fe:S=16,s=null;break e}S=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=_t(S,l,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function jn(e,n,l,s){return e=_t(7,e,s,n),e.lanes=l,e}function Ds(e,n,l){return e=_t(6,e,null,n),e.lanes=l,e}function pf(e){var n=_t(18,null,null,0);return n.stateNode=e,n}function bs(e,n,l){return n=_t(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var mf=new WeakMap;function Dt(e,n){if(typeof e=="object"&&e!==null){var l=mf.get(e);return l!==void 0?l:(n={value:e,source:n,stack:dc(n)},mf.set(e,n),n)}return{value:e,source:n,stack:dc(n)}}var Mi=[],xi=0,xl=null,Ro=0,bt=[],Ut=0,En=null,Yt=1,Kt="";function en(e,n){Mi[xi++]=Ro,Mi[xi++]=xl,xl=e,Ro=n}function hf(e,n,l){bt[Ut++]=Yt,bt[Ut++]=Kt,bt[Ut++]=En,En=e;var s=Yt;e=Kt;var d=32-Tt(s)-1;s&=~(1<<d),l+=1;var m=32-Tt(n)+d;if(30<m){var S=d-d%5;m=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Yt=1<<32-Tt(n)+d|l<<d|s,Kt=m+e}else Yt=1<<m|l<<d|s,Kt=e}function Us(e){e.return!==null&&(en(e,1),hf(e,1,0))}function Ls(e){for(;e===xl;)xl=Mi[--xi],Mi[xi]=null,Ro=Mi[--xi],Mi[xi]=null;for(;e===En;)En=bt[--Ut],bt[Ut]=null,Kt=bt[--Ut],bt[Ut]=null,Yt=bt[--Ut],bt[Ut]=null}function gf(e,n){bt[Ut++]=Yt,bt[Ut++]=Kt,bt[Ut++]=En,Yt=n.id,Kt=n.overflow,En=e}var je=null,Le=null,ge=!1,_n=null,Lt=!1,Gs=Error(a(519));function Cn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw No(Dt(n,e)),Gs}function yf(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[We]=e,n[ct]=s,l){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(l=0;l<Xo.length;l++)pe(Xo[l],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":pe("invalid",n),wc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":pe("invalid",n);break;case"textarea":pe("invalid",n),Dc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||Lp(n.textContent,l)?(s.popover!=null&&(pe("beforetoggle",n),pe("toggle",n)),s.onScroll!=null&&pe("scroll",n),s.onScrollEnd!=null&&pe("scrollend",n),s.onClick!=null&&(n.onclick=$t),n=!0):n=!1,n||Cn(e,!0)}function vf(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Lt=!1;return;case 27:case 3:Lt=!0;return;default:je=je.return}}function wi(e){if(e!==je)return!1;if(!ge)return vf(e),ge=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||jr(e.type,e.memoizedProps)),l=!l),l&&Le&&Cn(e),vf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=Op(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=Op(e)}else n===27?(n=Le,qn(e.type)?(e=ou,ou=null,Le=e):Le=n):Le=je?Ht(e.stateNode.nextSibling):null;return!0}function ei(){Le=je=null,ge=!1}function Hs(){var e=_n;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),_n=null),e}function No(e){_n===null?_n=[e]:_n.push(e)}var qs=N(null),ti=null,tn=null;function An(e,n,l){k(qs,n._currentValue),n._currentValue=l}function nn(e){e._currentValue=qs.current,B(qs)}function Vs(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Ps(e,n,l,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var S=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var A=0;A<n.length;A++)if(_.context===n[A]){m.lanes|=l,_=m.alternate,_!==null&&(_.lanes|=l),Vs(m.return,l,e),s||(S=null);break e}m=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=l,m=S.alternate,m!==null&&(m.lanes|=l),Vs(S,l,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Ii(e,n,l,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=d.type;Et(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===Se.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(jo):e=[jo])}d=d.return}e!==null&&Ps(n,e,l,s),n.flags|=262144}function wl(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ni(e){ti=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function et(e){return Sf(ti,e)}function Il(e,n){return ti===null&&ni(e),Sf(e,n)}function Sf(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},tn===null){if(e===null)throw Error(a(308));tn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else tn=tn.next=n;return l}var yv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},vv=i.unstable_scheduleCallback,Sv=i.unstable_NormalPriority,Fe={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bs(){return{controller:new yv,data:new Map,refCount:0}}function Mo(e){e.refCount--,e.refCount===0&&vv(Sv,function(){e.controller.abort()})}var xo=null,zs=0,Di=0,bi=null;function Tv(e,n){if(xo===null){var l=xo=[];zs=0,Di=Fr(),bi={status:"pending",value:void 0,then:function(s){l.push(s)}}}return zs++,n.then(Tf,Tf),n}function Tf(){if(--zs===0&&xo!==null){bi!==null&&(bi.status="fulfilled");var e=xo;xo=null,Di=0,bi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Ev(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var Ef=H.S;H.S=function(e,n){op=vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Tv(e,n),Ef!==null&&Ef(e,n)};var ii=N(null);function ks(){var e=ii.current;return e!==null?e:Ue.pooledCache}function Dl(e,n){n===null?k(ii,ii.current):k(ii,n.pool)}function _f(){var e=ks();return e===null?null:{parent:Fe._currentValue,pool:e}}var Ui=Error(a(460)),Os=Error(a(474)),bl=Error(a(542)),Ul={then:function(){}};function Cf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Af(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then($t,$t),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Nf(e),e;default:if(typeof n.status=="string")n.then($t,$t);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Nf(e),e}throw li=n,Ui}}function oi(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(li=l,Ui):l}}var li=null;function Rf(){if(li===null)throw Error(a(459));var e=li;return li=null,e}function Nf(e){if(e===Ui||e===bl)throw Error(a(483))}var Li=null,wo=0;function Ll(e){var n=wo;return wo+=1,Li===null&&(Li=[]),Af(Li,e,n)}function Io(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Gl(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Mf(e){function n(x,R){if(e){var I=x.deletions;I===null?(x.deletions=[R],x.flags|=16):I.push(R)}}function l(x,R){if(!e)return null;for(;R!==null;)n(x,R),R=R.sibling;return null}function s(x){for(var R=new Map;x!==null;)x.key!==null?R.set(x.key,x):R.set(x.index,x),x=x.sibling;return R}function d(x,R){return x=jt(x,R),x.index=0,x.sibling=null,x}function m(x,R,I){return x.index=I,e?(I=x.alternate,I!==null?(I=I.index,I<R?(x.flags|=67108866,R):I):(x.flags|=67108866,R)):(x.flags|=1048576,R)}function S(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function _(x,R,I,V){return R===null||R.tag!==6?(R=Ds(I,x.mode,V),R.return=x,R):(R=d(R,I),R.return=x,R)}function A(x,R,I,V){var ie=I.type;return ie===L?q(x,R,I.props.children,V,I.key):R!==null&&(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===fe&&oi(ie)===R.type)?(R=d(R,I.props),Io(R,I),R.return=x,R):(R=Ml(I.type,I.key,I.props,null,x.mode,V),Io(R,I),R.return=x,R)}function D(x,R,I,V){return R===null||R.tag!==4||R.stateNode.containerInfo!==I.containerInfo||R.stateNode.implementation!==I.implementation?(R=bs(I,x.mode,V),R.return=x,R):(R=d(R,I.children||[]),R.return=x,R)}function q(x,R,I,V,ie){return R===null||R.tag!==7?(R=jn(I,x.mode,V,ie),R.return=x,R):(R=d(R,I),R.return=x,R)}function P(x,R,I){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Ds(""+R,x.mode,I),R.return=x,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case C:return I=Ml(R.type,R.key,R.props,null,x.mode,I),Io(I,R),I.return=x,I;case w:return R=bs(R,x.mode,I),R.return=x,R;case fe:return R=oi(R),P(x,R,I)}if(it(R)||Ae(R))return R=jn(R,x.mode,I,null),R.return=x,R;if(typeof R.then=="function")return P(x,Ll(R),I);if(R.$$typeof===O)return P(x,Il(x,R),I);Gl(x,R)}return null}function b(x,R,I,V){var ie=R!==null?R.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ie!==null?null:_(x,R,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return I.key===ie?A(x,R,I,V):null;case w:return I.key===ie?D(x,R,I,V):null;case fe:return I=oi(I),b(x,R,I,V)}if(it(I)||Ae(I))return ie!==null?null:q(x,R,I,V,null);if(typeof I.then=="function")return b(x,R,Ll(I),V);if(I.$$typeof===O)return b(x,R,Il(x,I),V);Gl(x,I)}return null}function G(x,R,I,V,ie){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return x=x.get(I)||null,_(R,x,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case C:return x=x.get(V.key===null?I:V.key)||null,A(R,x,V,ie);case w:return x=x.get(V.key===null?I:V.key)||null,D(R,x,V,ie);case fe:return V=oi(V),G(x,R,I,V,ie)}if(it(V)||Ae(V))return x=x.get(I)||null,q(R,x,V,ie,null);if(typeof V.then=="function")return G(x,R,I,Ll(V),ie);if(V.$$typeof===O)return G(x,R,I,Il(R,V),ie);Gl(R,V)}return null}function $(x,R,I,V){for(var ie=null,Te=null,te=R,ce=R=0,he=null;te!==null&&ce<I.length;ce++){te.index>ce?(he=te,te=null):he=te.sibling;var Ee=b(x,te,I[ce],V);if(Ee===null){te===null&&(te=he);break}e&&te&&Ee.alternate===null&&n(x,te),R=m(Ee,R,ce),Te===null?ie=Ee:Te.sibling=Ee,Te=Ee,te=he}if(ce===I.length)return l(x,te),ge&&en(x,ce),ie;if(te===null){for(;ce<I.length;ce++)te=P(x,I[ce],V),te!==null&&(R=m(te,R,ce),Te===null?ie=te:Te.sibling=te,Te=te);return ge&&en(x,ce),ie}for(te=s(te);ce<I.length;ce++)he=G(te,x,ce,I[ce],V),he!==null&&(e&&he.alternate!==null&&te.delete(he.key===null?ce:he.key),R=m(he,R,ce),Te===null?ie=he:Te.sibling=he,Te=he);return e&&te.forEach(function(kn){return n(x,kn)}),ge&&en(x,ce),ie}function oe(x,R,I,V){if(I==null)throw Error(a(151));for(var ie=null,Te=null,te=R,ce=R=0,he=null,Ee=I.next();te!==null&&!Ee.done;ce++,Ee=I.next()){te.index>ce?(he=te,te=null):he=te.sibling;var kn=b(x,te,Ee.value,V);if(kn===null){te===null&&(te=he);break}e&&te&&kn.alternate===null&&n(x,te),R=m(kn,R,ce),Te===null?ie=kn:Te.sibling=kn,Te=kn,te=he}if(Ee.done)return l(x,te),ge&&en(x,ce),ie;if(te===null){for(;!Ee.done;ce++,Ee=I.next())Ee=P(x,Ee.value,V),Ee!==null&&(R=m(Ee,R,ce),Te===null?ie=Ee:Te.sibling=Ee,Te=Ee);return ge&&en(x,ce),ie}for(te=s(te);!Ee.done;ce++,Ee=I.next())Ee=G(te,x,ce,Ee.value,V),Ee!==null&&(e&&Ee.alternate!==null&&te.delete(Ee.key===null?ce:Ee.key),R=m(Ee,R,ce),Te===null?ie=Ee:Te.sibling=Ee,Te=Ee);return e&&te.forEach(function(b0){return n(x,b0)}),ge&&en(x,ce),ie}function be(x,R,I,V){if(typeof I=="object"&&I!==null&&I.type===L&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case C:e:{for(var ie=I.key;R!==null;){if(R.key===ie){if(ie=I.type,ie===L){if(R.tag===7){l(x,R.sibling),V=d(R,I.props.children),V.return=x,x=V;break e}}else if(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===fe&&oi(ie)===R.type){l(x,R.sibling),V=d(R,I.props),Io(V,I),V.return=x,x=V;break e}l(x,R);break}else n(x,R);R=R.sibling}I.type===L?(V=jn(I.props.children,x.mode,V,I.key),V.return=x,x=V):(V=Ml(I.type,I.key,I.props,null,x.mode,V),Io(V,I),V.return=x,x=V)}return S(x);case w:e:{for(ie=I.key;R!==null;){if(R.key===ie)if(R.tag===4&&R.stateNode.containerInfo===I.containerInfo&&R.stateNode.implementation===I.implementation){l(x,R.sibling),V=d(R,I.children||[]),V.return=x,x=V;break e}else{l(x,R);break}else n(x,R);R=R.sibling}V=bs(I,x.mode,V),V.return=x,x=V}return S(x);case fe:return I=oi(I),be(x,R,I,V)}if(it(I))return $(x,R,I,V);if(Ae(I)){if(ie=Ae(I),typeof ie!="function")throw Error(a(150));return I=ie.call(I),oe(x,R,I,V)}if(typeof I.then=="function")return be(x,R,Ll(I),V);if(I.$$typeof===O)return be(x,R,Il(x,I),V);Gl(x,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,R!==null&&R.tag===6?(l(x,R.sibling),V=d(R,I),V.return=x,x=V):(l(x,R),V=Ds(I,x.mode,V),V.return=x,x=V),S(x)):l(x,R)}return function(x,R,I,V){try{wo=0;var ie=be(x,R,I,V);return Li=null,ie}catch(te){if(te===Ui||te===bl)throw te;var Te=_t(29,te,null,x.mode);return Te.lanes=V,Te.return=x,Te}finally{}}}var ai=Mf(!0),xf=Mf(!1),Rn=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Js(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Re&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Nl(e),ff(e,null,l),n}return Rl(e,s,n,l),Nl(e)}function Do(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,vc(e,l)}}function Ys(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?d=m=n:m=m.next=n}else d=m=n;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Ks=!1;function bo(){if(Ks){var e=bi;if(e!==null)throw e}}function Uo(e,n,l,s){Ks=!1;var d=e.updateQueue;Rn=!1;var m=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var A=_,D=A.next;A.next=null,S===null?m=D:S.next=D,S=A;var q=e.alternate;q!==null&&(q=q.updateQueue,_=q.lastBaseUpdate,_!==S&&(_===null?q.firstBaseUpdate=D:_.next=D,q.lastBaseUpdate=A))}if(m!==null){var P=d.baseState;S=0,q=D=A=null,_=m;do{var b=_.lane&-536870913,G=b!==_.lane;if(G?(me&b)===b:(s&b)===b){b!==0&&b===Di&&(Ks=!0),q!==null&&(q=q.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var $=e,oe=_;b=n;var be=l;switch(oe.tag){case 1:if($=oe.payload,typeof $=="function"){P=$.call(be,P,b);break e}P=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=oe.payload,b=typeof $=="function"?$.call(be,P,b):$,b==null)break e;P=T({},P,b);break e;case 2:Rn=!0}}b=_.callback,b!==null&&(e.flags|=64,G&&(e.flags|=8192),G=d.callbacks,G===null?d.callbacks=[b]:G.push(b))}else G={lane:b,tag:_.tag,payload:_.payload,callback:_.callback,next:null},q===null?(D=q=G,A=P):q=q.next=G,S|=b;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;G=_,_=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);q===null&&(A=P),d.baseState=A,d.firstBaseUpdate=D,d.lastBaseUpdate=q,m===null&&(d.shared.lanes=0),bn|=S,e.lanes=S,e.memoizedState=P}}function wf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function If(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)wf(l[e],n)}var Gi=N(null),Hl=N(0);function Df(e,n){e=dn,k(Hl,e),k(Gi,n),dn=e|n.baseLanes}function Xs(){k(Hl,dn),k(Gi,Gi.current)}function Qs(){dn=Hl.current,B(Gi),B(Hl)}var Ct=N(null),Gt=null;function xn(e){var n=e.alternate;k(ze,ze.current&1),k(Ct,e),Gt===null&&(n===null||Gi.current!==null||n.memoizedState!==null)&&(Gt=e)}function Zs(e){k(ze,ze.current),k(Ct,e),Gt===null&&(Gt=e)}function bf(e){e.tag===22?(k(ze,ze.current),k(Ct,e),Gt===null&&(Gt=e)):wn()}function wn(){k(ze,ze.current),k(Ct,Ct.current)}function At(e){B(Ct),Gt===e&&(Gt=null),B(ze)}var ze=N(0);function ql(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||nu(l)||iu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var on=0,re=null,Ie=null,Je=null,Vl=!1,Hi=!1,si=!1,Pl=0,Lo=0,qi=null,_v=0;function Ve(){throw Error(a(321))}function $s(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Et(e[l],n[l]))return!1;return!0}function Ws(e,n,l,s,d,m){return on=m,re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?hd:pr,si=!1,m=l(s,d),si=!1,Hi&&(m=Lf(n,l,s,d)),Uf(e),m}function Uf(e){H.H=qo;var n=Ie!==null&&Ie.next!==null;if(on=0,Je=Ie=re=null,Vl=!1,Lo=0,qi=null,n)throw Error(a(300));e===null||Ye||(e=e.dependencies,e!==null&&wl(e)&&(Ye=!0))}function Lf(e,n,l,s){re=e;var d=0;do{if(Hi&&(qi=null),Lo=0,Hi=!1,25<=d)throw Error(a(301));if(d+=1,Je=Ie=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=gd,m=n(l,s)}while(Hi);return m}function Cv(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Go(n):n,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(re.flags|=1024),n}function js(){var e=Pl!==0;return Pl=0,e}function er(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function tr(e){if(Vl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vl=!1}on=0,Je=Ie=re=null,Hi=!1,Lo=Pl=0,qi=null}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?re.memoizedState=Je=e:Je=Je.next=e,Je}function ke(){if(Ie===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var n=Je===null?re.memoizedState:Je.next;if(n!==null)Je=n,Ie=e;else{if(e===null)throw re.alternate===null?Error(a(467)):Error(a(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Je===null?re.memoizedState=Je=e:Je=Je.next=e}return Je}function Bl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var n=Lo;return Lo+=1,qi===null&&(qi=[]),e=Af(qi,e,n),n=re,(Je===null?n.memoizedState:Je.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?hd:pr),e}function zl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===O)return et(e)}throw Error(a(438,String(e)))}function nr(e){var n=null,l=re.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=re.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Bl(),re.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=ue;return n.index++,l}function ln(e,n){return typeof n=="function"?n(e):n}function kl(e){var n=ke();return ir(n,Ie,e)}function ir(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var S=d.next;d.next=m.next,m.next=S}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var _=S=null,A=null,D=n,q=!1;do{var P=D.lane&-536870913;if(P!==D.lane?(me&P)===P:(on&P)===P){var b=D.revertLane;if(b===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),P===Di&&(q=!0);else if((on&b)===b){D=D.next,b===Di&&(q=!0);continue}else P={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(_=A=P,S=m):A=A.next=P,re.lanes|=b,bn|=b;P=D.action,si&&l(m,P),m=D.hasEagerState?D.eagerState:l(m,P)}else b={lane:P,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(_=A=b,S=m):A=A.next=b,re.lanes|=P,bn|=P;D=D.next}while(D!==null&&D!==n);if(A===null?S=m:A.next=_,!Et(m,e.memoizedState)&&(Ye=!0,q&&(l=bi,l!==null)))throw l;e.memoizedState=m,e.baseState=S,e.baseQueue=A,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function or(e){var n=ke(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,d=l.pending,m=n.memoizedState;if(d!==null){l.pending=null;var S=d=d.next;do m=e(m,S.action),S=S.next;while(S!==d);Et(m,n.memoizedState)||(Ye=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,s]}function Gf(e,n,l){var s=re,d=ke(),m=ge;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=n();var S=!Et((Ie||d).memoizedState,l);if(S&&(d.memoizedState=l,Ye=!0),d=d.queue,sr(Vf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||Je!==null&&Je.memoizedState.tag&1){if(s.flags|=2048,Vi(9,{destroy:void 0},qf.bind(null,s,d,l,n),null),Ue===null)throw Error(a(349));m||(on&127)!==0||Hf(s,n,l)}return l}function Hf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=re.updateQueue,n===null?(n=Bl(),re.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function qf(e,n,l,s){n.value=l,n.getSnapshot=s,Pf(n)&&Bf(e)}function Vf(e,n,l){return l(function(){Pf(n)&&Bf(e)})}function Pf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Et(e,l)}catch{return!0}}function Bf(e){var n=Wn(e,2);n!==null&&gt(n,e,2)}function lr(e){var n=at();if(typeof e=="function"){var l=e;if(e=l(),si){vn(!0);try{l()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:e},n}function zf(e,n,l,s){return e.baseState=l,ir(e,Ie,typeof s=="function"?s:ln)}function Av(e,n,l,s,d){if(Jl(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};H.T!==null?l(!0):m.isTransition=!1,s(m),l=n.pending,l===null?(m.next=n.pending=m,kf(n,m)):(m.next=l.next,n.pending=l.next=m)}}function kf(e,n){var l=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=H.T,S={};H.T=S;try{var _=l(d,s),A=H.S;A!==null&&A(S,_),Of(e,n,_)}catch(D){ar(e,n,D)}finally{m!==null&&S.types!==null&&(m.types=S.types),H.T=m}}else try{m=l(d,s),Of(e,n,m)}catch(D){ar(e,n,D)}}function Of(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Ff(e,n,s)},function(s){return ar(e,n,s)}):Ff(e,n,l)}function Ff(e,n,l){n.status="fulfilled",n.value=l,Jf(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,kf(e,l)))}function ar(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,Jf(n),n=n.next;while(n!==s)}e.action=null}function Jf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Yf(e,n){return n}function Kf(e,n){if(ge){var l=Ue.formState;if(l!==null){e:{var s=re;if(ge){if(Le){t:{for(var d=Le,m=Lt;d.nodeType!==8;){if(!m){d=null;break t}if(d=Ht(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Le=Ht(d.nextSibling),s=d.data==="F!";break e}}Cn(s)}s=!1}s&&(n=l[0])}}return l=at(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yf,lastRenderedState:n},l.queue=s,l=dd.bind(null,re,s),s.dispatch=l,s=lr(!1),m=dr.bind(null,re,!1,s.queue),s=at(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,l=Av.bind(null,re,d,m,l),d.dispatch=l,s.memoizedState=e,[n,l,!1]}function Xf(e){var n=ke();return Qf(n,Ie,e)}function Qf(e,n,l){if(n=ir(e,n,Yf)[0],e=kl(ln)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Go(n)}catch(S){throw S===Ui?bl:S}else s=n;n=ke();var d=n.queue,m=d.dispatch;return l!==n.memoizedState&&(re.flags|=2048,Vi(9,{destroy:void 0},Rv.bind(null,d,l),null)),[s,m,e]}function Rv(e,n){e.action=n}function Zf(e){var n=ke(),l=Ie;if(l!==null)return Qf(n,l,e);ke(),n=n.memoizedState,l=ke();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function Vi(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=re.updateQueue,n===null&&(n=Bl(),re.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function $f(){return ke().memoizedState}function Ol(e,n,l,s){var d=at();re.flags|=e,d.memoizedState=Vi(1|n,{destroy:void 0},l,s===void 0?null:s)}function Fl(e,n,l,s){var d=ke();s=s===void 0?null:s;var m=d.memoizedState.inst;Ie!==null&&s!==null&&$s(s,Ie.memoizedState.deps)?d.memoizedState=Vi(n,m,l,s):(re.flags|=e,d.memoizedState=Vi(1|n,m,l,s))}function Wf(e,n){Ol(8390656,8,e,n)}function sr(e,n){Fl(2048,8,e,n)}function Nv(e){re.flags|=4;var n=re.updateQueue;if(n===null)n=Bl(),re.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function jf(e){var n=ke().memoizedState;return Nv({ref:n,nextImpl:e}),function(){if((Re&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function ed(e,n){return Fl(4,2,e,n)}function td(e,n){return Fl(4,4,e,n)}function nd(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function id(e,n,l){l=l!=null?l.concat([e]):null,Fl(4,4,nd.bind(null,n,e),l)}function rr(){}function od(e,n){var l=ke();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&$s(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function ld(e,n){var l=ke();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&$s(n,s[1]))return s[0];if(s=e(),si){vn(!0);try{e()}finally{vn(!1)}}return l.memoizedState=[s,n],s}function ur(e,n,l){return l===void 0||(on&1073741824)!==0&&(me&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=ap(),re.lanes|=e,bn|=e,l)}function ad(e,n,l,s){return Et(l,n)?l:Gi.current!==null?(e=ur(e,l,s),Et(e,n)||(Ye=!0),e):(on&42)===0||(on&1073741824)!==0&&(me&261930)===0?(Ye=!0,e.memoizedState=l):(e=ap(),re.lanes|=e,bn|=e,n)}function sd(e,n,l,s,d){var m=J.p;J.p=m!==0&&8>m?m:8;var S=H.T,_={};H.T=_,dr(e,!1,n,l);try{var A=d(),D=H.S;if(D!==null&&D(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var q=Ev(A,s);Ho(e,n,q,Mt(e))}else Ho(e,n,s,Mt(e))}catch(P){Ho(e,n,{then:function(){},status:"rejected",reason:P},Mt())}finally{J.p=m,S!==null&&_.types!==null&&(S.types=_.types),H.T=S}}function Mv(){}function cr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var d=rd(e).queue;sd(e,d,n,le,l===null?Mv:function(){return ud(e),l(s)})}function rd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:le},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ud(e){var n=rd(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},Mt())}function fr(){return et(jo)}function cd(){return ke().memoizedState}function fd(){return ke().memoizedState}function xv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Mt();e=Nn(l);var s=Mn(n,e,l);s!==null&&(gt(s,n,l),Do(s,n,l)),n={cache:Bs()},e.payload=n;return}n=n.return}}function wv(e,n,l){var s=Mt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Jl(e)?pd(n,l):(l=ws(e,n,l,s),l!==null&&(gt(l,e,s),md(l,n,s)))}function dd(e,n,l){var s=Mt();Ho(e,n,l,s)}function Ho(e,n,l,s){var d={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Jl(e))pd(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var S=n.lastRenderedState,_=m(S,l);if(d.hasEagerState=!0,d.eagerState=_,Et(_,S))return Rl(e,n,d,0),Ue===null&&Al(),!1}catch{}finally{}if(l=ws(e,n,d,s),l!==null)return gt(l,e,s),md(l,n,s),!0}return!1}function dr(e,n,l,s){if(s={lane:2,revertLane:Fr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Jl(e)){if(n)throw Error(a(479))}else n=ws(e,l,s,2),n!==null&&gt(n,e,2)}function Jl(e){var n=e.alternate;return e===re||n!==null&&n===re}function pd(e,n){Hi=Vl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function md(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,vc(e,l)}}var qo={readContext:et,use:zl,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};qo.useEffectEvent=Ve;var hd={readContext:et,use:zl,useCallback:function(e,n){return at().memoizedState=[e,n===void 0?null:n],e},useContext:et,useEffect:Wf,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Ol(4194308,4,nd.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Ol(4194308,4,e,n)},useInsertionEffect:function(e,n){Ol(4,2,e,n)},useMemo:function(e,n){var l=at();n=n===void 0?null:n;var s=e();if(si){vn(!0);try{e()}finally{vn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=at();if(l!==void 0){var d=l(n);if(si){vn(!0);try{l(n)}finally{vn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=wv.bind(null,re,e),[s.memoizedState,e]},useRef:function(e){var n=at();return e={current:e},n.memoizedState=e},useState:function(e){e=lr(e);var n=e.queue,l=dd.bind(null,re,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:rr,useDeferredValue:function(e,n){var l=at();return ur(l,e,n)},useTransition:function(){var e=lr(!1);return e=sd.bind(null,re,e.queue,!0,!1),at().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=re,d=at();if(ge){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),Ue===null)throw Error(a(349));(me&127)!==0||Hf(s,n,l)}d.memoizedState=l;var m={value:l,getSnapshot:n};return d.queue=m,Wf(Vf.bind(null,s,m,e),[e]),s.flags|=2048,Vi(9,{destroy:void 0},qf.bind(null,s,m,l,n),null),l},useId:function(){var e=at(),n=Ue.identifierPrefix;if(ge){var l=Kt,s=Yt;l=(s&~(1<<32-Tt(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Pl++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=_v++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:fr,useFormState:Kf,useActionState:Kf,useOptimistic:function(e){var n=at();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=dr.bind(null,re,!0,l),l.dispatch=n,[e,n]},useMemoCache:nr,useCacheRefresh:function(){return at().memoizedState=xv.bind(null,re)},useEffectEvent:function(e){var n=at(),l={impl:e};return n.memoizedState=l,function(){if((Re&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},pr={readContext:et,use:zl,useCallback:od,useContext:et,useEffect:sr,useImperativeHandle:id,useInsertionEffect:ed,useLayoutEffect:td,useMemo:ld,useReducer:kl,useRef:$f,useState:function(){return kl(ln)},useDebugValue:rr,useDeferredValue:function(e,n){var l=ke();return ad(l,Ie.memoizedState,e,n)},useTransition:function(){var e=kl(ln)[0],n=ke().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:Gf,useId:cd,useHostTransitionStatus:fr,useFormState:Xf,useActionState:Xf,useOptimistic:function(e,n){var l=ke();return zf(l,Ie,e,n)},useMemoCache:nr,useCacheRefresh:fd};pr.useEffectEvent=jf;var gd={readContext:et,use:zl,useCallback:od,useContext:et,useEffect:sr,useImperativeHandle:id,useInsertionEffect:ed,useLayoutEffect:td,useMemo:ld,useReducer:or,useRef:$f,useState:function(){return or(ln)},useDebugValue:rr,useDeferredValue:function(e,n){var l=ke();return Ie===null?ur(l,e,n):ad(l,Ie.memoizedState,e,n)},useTransition:function(){var e=or(ln)[0],n=ke().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:Gf,useId:cd,useHostTransitionStatus:fr,useFormState:Zf,useActionState:Zf,useOptimistic:function(e,n){var l=ke();return Ie!==null?zf(l,Ie,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:nr,useCacheRefresh:fd};gd.useEffectEvent=jf;function mr(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:T({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var hr={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=Mt(),d=Nn(s);d.payload=n,l!=null&&(d.callback=l),n=Mn(e,d,s),n!==null&&(gt(n,e,s),Do(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=Mt(),d=Nn(s);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=Mn(e,d,s),n!==null&&(gt(n,e,s),Do(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Mt(),s=Nn(l);s.tag=2,n!=null&&(s.callback=n),n=Mn(e,s,l),n!==null&&(gt(n,e,l),Do(n,e,l))}};function yd(e,n,l,s,d,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,S):n.prototype&&n.prototype.isPureReactComponent?!Co(l,s)||!Co(d,m):!0}function vd(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&hr.enqueueReplaceState(n,n.state,null)}function ri(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=T({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function Sd(e){Cl(e)}function Td(e){console.error(e)}function Ed(e){Cl(e)}function Yl(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function _d(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function gr(e,n,l){return l=Nn(l),l.tag=3,l.payload={element:null},l.callback=function(){Yl(e,n)},l}function Cd(e){return e=Nn(e),e.tag=3,e}function Ad(e,n,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){_d(n,l,s)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){_d(n,l,s),typeof d!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function Iv(e,n,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&Ii(n,l,d,!0),l=Ct.current,l!==null){switch(l.tag){case 31:case 13:return Gt===null?oa():l.alternate===null&&Pe===0&&(Pe=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===Ul?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),zr(e,s,d)),!1;case 22:return l.flags|=65536,s===Ul?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),zr(e,s,d)),!1}throw Error(a(435,l.tag))}return zr(e,s,d),oa(),!1}if(ge)return n=Ct.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Gs&&(e=Error(a(422),{cause:s}),No(Dt(e,l)))):(s!==Gs&&(n=Error(a(423),{cause:s}),No(Dt(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Dt(s,l),d=gr(e.stateNode,s,d),Ys(e,d),Pe!==4&&(Pe=2)),!1;var m=Error(a(520),{cause:s});if(m=Dt(m,l),Jo===null?Jo=[m]:Jo.push(m),Pe!==4&&(Pe=2),n===null)return!0;s=Dt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=gr(l.stateNode,s,e),Ys(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Un===null||!Un.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=Cd(d),Ad(d,e,l,s),Ys(l,d),!1}l=l.return}while(l!==null);return!1}var yr=Error(a(461)),Ye=!1;function tt(e,n,l,s){n.child=e===null?xf(n,null,l,s):ai(n,e.child,l,s)}function Rd(e,n,l,s,d){l=l.render;var m=n.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return ni(n),s=Ws(e,n,l,S,m,d),_=js(),e!==null&&!Ye?(er(e,n,d),an(e,n,d)):(ge&&_&&Us(n),n.flags|=1,tt(e,n,s,d),n.child)}function Nd(e,n,l,s,d){if(e===null){var m=l.type;return typeof m=="function"&&!Is(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,Md(e,n,m,s,d)):(e=Ml(l.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Rr(e,d)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:Co,l(S,s)&&e.ref===n.ref)return an(e,n,d)}return n.flags|=1,e=jt(m,s),e.ref=n.ref,e.return=n,n.child=e}function Md(e,n,l,s,d){if(e!==null){var m=e.memoizedProps;if(Co(m,s)&&e.ref===n.ref)if(Ye=!1,n.pendingProps=s=m,Rr(e,d))(e.flags&131072)!==0&&(Ye=!0);else return n.lanes=e.lanes,an(e,n,d)}return vr(e,n,l,s,d)}function xd(e,n,l,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return wd(e,n,m,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dl(n,m!==null?m.cachePool:null),m!==null?Df(n,m):Xs(),bf(n);else return s=n.lanes=536870912,wd(e,n,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(Dl(n,m.cachePool),Df(n,m),wn(),n.memoizedState=null):(e!==null&&Dl(n,null),Xs(),wn());return tt(e,n,d,l),n.child}function Vo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function wd(e,n,l,s,d){var m=ks();return m=m===null?null:{parent:Fe._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&Dl(n,null),Xs(),bf(n),e!==null&&Ii(e,n,s,!0),n.childLanes=d,null}function Kl(e,n){return n=Ql({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Id(e,n,l){return ai(n,e.child,null,l),e=Kl(n,n.pendingProps),e.flags|=2,At(n),n.memoizedState=null,e}function Dv(e,n,l){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ge){if(s.mode==="hidden")return e=Kl(n,s),n.lanes=536870912,Vo(null,e);if(Zs(n),(e=Le)?(e=kp(e,Lt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:En!==null?{id:Yt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},l=pf(e),l.return=n,n.child=l,je=n,Le=null)):e=null,e===null)throw Cn(n);return n.lanes=536870912,null}return Kl(n,s)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(Zs(n),d)if(n.flags&256)n.flags&=-257,n=Id(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ye||Ii(e,n,l,!1),d=(l&e.childLanes)!==0,Ye||d){if(s=Ue,s!==null&&(S=Sc(s,l),S!==0&&S!==m.retryLane))throw m.retryLane=S,Wn(e,S),gt(s,e,S),yr;oa(),n=Id(e,n,l)}else e=m.treeContext,Le=Ht(S.nextSibling),je=n,ge=!0,_n=null,Lt=!1,e!==null&&gf(n,e),n=Kl(n,s),n.flags|=4096;return n}return e=jt(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xl(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function vr(e,n,l,s,d){return ni(n),l=Ws(e,n,l,s,void 0,d),s=js(),e!==null&&!Ye?(er(e,n,d),an(e,n,d)):(ge&&s&&Us(n),n.flags|=1,tt(e,n,l,d),n.child)}function Dd(e,n,l,s,d,m){return ni(n),n.updateQueue=null,l=Lf(n,s,l,d),Uf(e),s=js(),e!==null&&!Ye?(er(e,n,m),an(e,n,m)):(ge&&s&&Us(n),n.flags|=1,tt(e,n,l,m),n.child)}function bd(e,n,l,s,d){if(ni(n),n.stateNode===null){var m=Ni,S=l.contextType;typeof S=="object"&&S!==null&&(m=et(S)),m=new l(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=hr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Fs(n),S=l.contextType,m.context=typeof S=="object"&&S!==null?et(S):Ni,m.state=n.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(mr(n,l,S,s),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&hr.enqueueReplaceState(m,m.state,null),Uo(n,s,m,d),bo(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,A=ri(l,_);m.props=A;var D=m.context,q=l.contextType;S=Ni,typeof q=="object"&&q!==null&&(S=et(q));var P=l.getDerivedStateFromProps;q=typeof P=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||D!==S)&&vd(n,m,s,S),Rn=!1;var b=n.memoizedState;m.state=b,Uo(n,s,m,d),bo(),D=n.memoizedState,_||b!==D||Rn?(typeof P=="function"&&(mr(n,l,P,s),D=n.memoizedState),(A=Rn||yd(n,l,A,s,b,D,S))?(q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=D),m.props=s,m.state=D,m.context=S,s=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Js(e,n),S=n.memoizedProps,q=ri(l,S),m.props=q,P=n.pendingProps,b=m.context,D=l.contextType,A=Ni,typeof D=="object"&&D!==null&&(A=et(D)),_=l.getDerivedStateFromProps,(D=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==P||b!==A)&&vd(n,m,s,A),Rn=!1,b=n.memoizedState,m.state=b,Uo(n,s,m,d),bo();var G=n.memoizedState;S!==P||b!==G||Rn||e!==null&&e.dependencies!==null&&wl(e.dependencies)?(typeof _=="function"&&(mr(n,l,_,s),G=n.memoizedState),(q=Rn||yd(n,l,q,s,b,G,A)||e!==null&&e.dependencies!==null&&wl(e.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,G,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,G,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&b===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&b===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=G),m.props=s,m.state=G,m.context=A,s=q):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&b===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&b===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,Xl(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=ai(n,e.child,null,d),n.child=ai(n,null,l,d)):tt(e,n,l,d),n.memoizedState=m.state,e=n.child):e=an(e,n,d),e}function Ud(e,n,l,s){return ei(),n.flags|=256,tt(e,n,l,s),n.child}var Sr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tr(e){return{baseLanes:e,cachePool:_f()}}function Er(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Nt),e}function Ld(e,n,l){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(ze.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(ge){if(d?xn(n):wn(),(e=Le)?(e=kp(e,Lt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:En!==null?{id:Yt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},l=pf(e),l.return=n,n.child=l,je=n,Le=null)):e=null,e===null)throw Cn(n);return iu(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(wn(),d=n.mode,_=Ql({mode:"hidden",children:_},d),s=jn(s,d,l,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=Tr(l),s.childLanes=Er(e,S,l),n.memoizedState=Sr,Vo(null,s)):(xn(n),_r(n,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(m)n.flags&256?(xn(n),n.flags&=-257,n=Cr(e,n,l)):n.memoizedState!==null?(wn(),n.child=e.child,n.flags|=128,n=null):(wn(),_=s.fallback,d=n.mode,s=Ql({mode:"visible",children:s.children},d),_=jn(_,d,l,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,ai(n,e.child,null,l),s=n.child,s.memoizedState=Tr(l),s.childLanes=Er(e,S,l),n.memoizedState=Sr,n=Vo(null,s));else if(xn(n),iu(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var D=S.dgst;S=D,s=Error(a(419)),s.stack="",s.digest=S,No({value:s,source:null,stack:null}),n=Cr(e,n,l)}else if(Ye||Ii(e,n,l,!1),S=(l&e.childLanes)!==0,Ye||S){if(S=Ue,S!==null&&(s=Sc(S,l),s!==0&&s!==A.retryLane))throw A.retryLane=s,Wn(e,s),gt(S,e,s),yr;nu(_)||oa(),n=Cr(e,n,l)}else nu(_)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Le=Ht(_.nextSibling),je=n,ge=!0,_n=null,Lt=!1,e!==null&&gf(n,e),n=_r(n,s.children),n.flags|=4096);return n}return d?(wn(),_=s.fallback,d=n.mode,A=e.child,D=A.sibling,s=jt(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,D!==null?_=jt(D,_):(_=jn(_,d,l,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Vo(null,s),s=n.child,_=e.child.memoizedState,_===null?_=Tr(l):(d=_.cachePool,d!==null?(A=Fe._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=_f(),_={baseLanes:_.baseLanes|l,cachePool:d}),s.memoizedState=_,s.childLanes=Er(e,S,l),n.memoizedState=Sr,Vo(e.child,s)):(xn(n),l=e.child,e=l.sibling,l=jt(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=l,n.memoizedState=null,l)}function _r(e,n){return n=Ql({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ql(e,n){return e=_t(22,e,null,n),e.lanes=0,e}function Cr(e,n,l){return ai(n,e.child,null,l),e=_r(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Gd(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Vs(e.return,n,l)}function Ar(e,n,l,s,d,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d,treeForkCount:m}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=l,S.tailMode=d,S.treeForkCount=m)}function Hd(e,n,l){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var S=ze.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,k(ze,S),tt(e,n,s,l),s=ge?Ro:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gd(e,l,n);else if(e.tag===19)Gd(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&ql(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),Ar(n,!1,d,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ql(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}Ar(n,!0,l,null,m,s);break;case"together":Ar(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function an(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),bn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Ii(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=jt(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=jt(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Rr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&wl(e)))}function bv(e,n,l){switch(n.tag){case 3:Oe(n,n.stateNode.containerInfo),An(n,Fe,e.memoizedState.cache),ei();break;case 27:case 5:uo(n);break;case 4:Oe(n,n.stateNode.containerInfo);break;case 10:An(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Zs(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(xn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Ld(e,n,l):(xn(n),e=an(e,n,l),e!==null?e.sibling:null);xn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(Ii(e,n,l,!1),s=(l&n.childLanes)!==0),d){if(s)return Hd(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),k(ze,ze.current),s)break;return null;case 22:return n.lanes=0,xd(e,n,l,n.pendingProps);case 24:An(n,Fe,e.memoizedState.cache)}return an(e,n,l)}function qd(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ye=!0;else{if(!Rr(e,l)&&(n.flags&128)===0)return Ye=!1,bv(e,n,l);Ye=(e.flags&131072)!==0}else Ye=!1,ge&&(n.flags&1048576)!==0&&hf(n,Ro,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=oi(n.elementType),n.type=e,typeof e=="function")Is(e)?(s=ri(e,s),n.tag=1,n=bd(null,n,e,s,l)):(n.tag=0,n=vr(null,n,e,s,l));else{if(e!=null){var d=e.$$typeof;if(d===Y){n.tag=11,n=Rd(null,n,e,s,l);break e}else if(d===F){n.tag=14,n=Nd(null,n,e,s,l);break e}}throw n=He(e)||e,Error(a(306,n,""))}}return n;case 0:return vr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,d=ri(s,n.pendingProps),bd(e,n,s,d,l);case 3:e:{if(Oe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,Js(e,n),Uo(n,s,null,l);var S=n.memoizedState;if(s=S.cache,An(n,Fe,s),s!==m.cache&&Ps(n,[Fe],l,!0),bo(),s=S.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Ud(e,n,s,l);break e}else if(s!==d){d=Dt(Error(a(424)),n),No(d),n=Ud(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Ht(e.firstChild),je=n,ge=!0,_n=null,Lt=!0,l=xf(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ei(),s===d){n=an(e,n,l);break e}tt(e,n,s,l)}n=n.child}return n;case 26:return Xl(e,n),e===null?(l=Xp(n.type,null,n.pendingProps,null))?n.memoizedState=l:ge||(l=n.type,e=n.pendingProps,s=fa(Z.current).createElement(l),s[We]=n,s[ct]=e,nt(s,l,e),Qe(s),n.stateNode=s):n.memoizedState=Xp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return uo(n),e===null&&ge&&(s=n.stateNode=Jp(n.type,n.pendingProps,Z.current),je=n,Lt=!0,d=Le,qn(n.type)?(ou=d,Le=Ht(s.firstChild)):Le=d),tt(e,n,n.pendingProps.children,l),Xl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ge&&((d=s=Le)&&(s=r0(s,n.type,n.pendingProps,Lt),s!==null?(n.stateNode=s,je=n,Le=Ht(s.firstChild),Lt=!1,d=!0):d=!1),d||Cn(n)),uo(n),d=n.type,m=n.pendingProps,S=e!==null?e.memoizedProps:null,s=m.children,jr(d,m)?s=null:S!==null&&jr(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=Ws(e,n,Cv,null,null,l),jo._currentValue=d),Xl(e,n),tt(e,n,s,l),n.child;case 6:return e===null&&ge&&((e=l=Le)&&(l=u0(l,n.pendingProps,Lt),l!==null?(n.stateNode=l,je=n,Le=null,e=!0):e=!1),e||Cn(n)),null;case 13:return Ld(e,n,l);case 4:return Oe(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=ai(n,null,s,l):tt(e,n,s,l),n.child;case 11:return Rd(e,n,n.type,n.pendingProps,l);case 7:return tt(e,n,n.pendingProps,l),n.child;case 8:return tt(e,n,n.pendingProps.children,l),n.child;case 12:return tt(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,An(n,n.type,s.value),tt(e,n,s.children,l),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,ni(n),d=et(d),s=s(d),n.flags|=1,tt(e,n,s,l),n.child;case 14:return Nd(e,n,n.type,n.pendingProps,l);case 15:return Md(e,n,n.type,n.pendingProps,l);case 19:return Hd(e,n,l);case 31:return Dv(e,n,l);case 22:return xd(e,n,l,n.pendingProps);case 24:return ni(n),s=et(Fe),e===null?(d=ks(),d===null&&(d=Ue,m=Bs(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),n.memoizedState={parent:s,cache:d},Fs(n),An(n,Fe,d)):((e.lanes&l)!==0&&(Js(e,n),Uo(n,null,null,l),bo()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),An(n,Fe,s)):(s=m.cache,An(n,Fe,s),s!==d.cache&&Ps(n,[Fe],l,!0))),tt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function sn(e){e.flags|=4}function Nr(e,n,l,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(cp())e.flags|=8192;else throw li=Ul,Os}else e.flags&=-16777217}function Vd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jp(n))if(cp())e.flags|=8192;else throw li=Ul,Os}function Zl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?gc():536870912,e.lanes|=n,ki|=n)}function Po(e,n){if(!ge)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function Uv(e,n,l){var s=n.pendingProps;switch(Ls(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),nn(Fe),Be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(wi(n)?sn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hs())),Ge(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(sn(n),m!==null?(Ge(n),Vd(n,m)):(Ge(n),Nr(n,d,null,s,l))):m?m!==e.memoizedState?(sn(n),Ge(n),Vd(n,m)):(Ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&sn(n),Ge(n),Nr(n,d,e,s,l)),null;case 27:if(sl(n),l=Z.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}e=X.current,wi(n)?yf(n):(e=Jp(d,s,l),n.stateNode=e,sn(n))}return Ge(n),null;case 5:if(sl(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}if(m=X.current,wi(n))yf(n);else{var S=fa(Z.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}m[We]=n,m[ct]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=m;e:switch(nt(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&sn(n)}}return Ge(n),Nr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=Z.current,wi(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,d=je,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[We]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Lp(e.nodeValue,l)),e||Cn(n,!0)}else e=fa(e).createTextNode(s),e[We]=n,n.stateNode=e}return Ge(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=wi(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[We]=n}else ei(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),e=!1}else l=Hs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(At(n),n):(At(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ge(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=wi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[We]=n}else ei(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),d=!1}else d=Hs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(At(n),n):(At(n),null)}return At(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Zl(n,n.updateQueue),Ge(n),null);case 4:return Be(),e===null&&Xr(n.stateNode.containerInfo),Ge(n),null;case 10:return nn(n.type),Ge(n),null;case 19:if(B(ze),s=n.memoizedState,s===null)return Ge(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)Po(s,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=ql(e),m!==null){for(n.flags|=128,Po(s,!1),e=m.updateQueue,n.updateQueue=e,Zl(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)df(l,e),l=l.sibling;return k(ze,ze.current&1|2),ge&&en(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&vt()>ta&&(n.flags|=128,d=!0,Po(s,!1),n.lanes=4194304)}else{if(!d)if(e=ql(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Zl(n,e),Po(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!ge)return Ge(n),null}else 2*vt()-s.renderingStartTime>ta&&l!==536870912&&(n.flags|=128,d=!0,Po(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vt(),e.sibling=null,l=ze.current,k(ze,d?l&1|2:l&1),ge&&en(n,s.treeForkCount),e):(Ge(n),null);case 22:case 23:return At(n),Qs(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),l=n.updateQueue,l!==null&&Zl(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&B(ii),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),nn(Fe),Ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Lv(e,n){switch(Ls(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return nn(Fe),Be(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return sl(n),null;case 31:if(n.memoizedState!==null){if(At(n),n.alternate===null)throw Error(a(340));ei()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(At(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ei()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(ze),null;case 4:return Be(),null;case 10:return nn(n.type),null;case 22:case 23:return At(n),Qs(),e!==null&&B(ii),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return nn(Fe),null;case 25:return null;default:return null}}function Pd(e,n){switch(Ls(n),n.tag){case 3:nn(Fe),Be();break;case 26:case 27:case 5:sl(n);break;case 4:Be();break;case 31:n.memoizedState!==null&&At(n);break;case 13:At(n);break;case 19:B(ze);break;case 10:nn(n.type);break;case 22:case 23:At(n),Qs(),e!==null&&B(ii);break;case 24:nn(Fe)}}function Bo(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&e)===e){s=void 0;var m=l.create,S=l.inst;s=m(),S.destroy=s}l=l.next}while(l!==d)}}catch(_){we(n,n.return,_)}}function In(e,n,l){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=n;var A=l,D=_;try{D()}catch(q){we(d,A,q)}}}s=s.next}while(s!==m)}}catch(q){we(n,n.return,q)}}function Bd(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{If(n,l)}catch(s){we(e,e.return,s)}}}function zd(e,n,l){l.props=ri(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){we(e,n,s)}}function zo(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(d){we(e,n,d)}}function Xt(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){we(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){we(e,n,d)}else l.current=null}function kd(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){we(e,e.return,d)}}function Mr(e,n,l){try{var s=e.stateNode;n0(s,e.type,l,n),s[ct]=n}catch(d){we(e,e.return,d)}}function Od(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qn(e.type)||e.tag===4}function xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Od(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wr(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=$t));else if(s!==4&&(s===27&&qn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(wr(e,n,l),e=e.sibling;e!==null;)wr(e,n,l),e=e.sibling}function $l(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&qn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for($l(e,n,l),e=e.sibling;e!==null;)$l(e,n,l),e=e.sibling}function Fd(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);nt(n,s,l),n[We]=e,n[ct]=l}catch(m){we(e,e.return,m)}}var rn=!1,Ke=!1,Ir=!1,Jd=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Gv(e,n){if(e=e.containerInfo,$r=va,e=nf(e),Cs(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var S=0,_=-1,A=-1,D=0,q=0,P=e,b=null;t:for(;;){for(var G;P!==l||d!==0&&P.nodeType!==3||(_=S+d),P!==m||s!==0&&P.nodeType!==3||(A=S+s),P.nodeType===3&&(S+=P.nodeValue.length),(G=P.firstChild)!==null;)b=P,P=G;for(;;){if(P===e)break t;if(b===l&&++D===d&&(_=S),b===m&&++q===s&&(A=S),(G=P.nextSibling)!==null)break;P=b,b=P.parentNode}P=G}l=_===-1||A===-1?null:{start:_,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wr={focusedElem:e,selectionRange:l},va=!1,Ze=n;Ze!==null;)if(n=Ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ze=e;else for(;Ze!==null;){switch(n=Ze,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,d=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var $=ri(l.type,d);e=s.getSnapshotBeforeUpdate($,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(oe){we(l,l.return,oe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)tu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ze=e;break}Ze=n.return}}function Yd(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:cn(e,l),s&4&&Bo(5,l);break;case 1:if(cn(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(S){we(l,l.return,S)}else{var d=ri(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){we(l,l.return,S)}}s&64&&Bd(l),s&512&&zo(l,l.return);break;case 3:if(cn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{If(e,n)}catch(S){we(l,l.return,S)}}break;case 27:n===null&&s&4&&Fd(l);case 26:case 5:cn(e,l),n===null&&s&4&&kd(l),s&512&&zo(l,l.return);break;case 12:cn(e,l);break;case 31:cn(e,l),s&4&&Qd(e,l);break;case 13:cn(e,l),s&4&&Zd(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Fv.bind(null,l),c0(e,l))));break;case 22:if(s=l.memoizedState!==null||rn,!s){n=n!==null&&n.memoizedState!==null||Ke,d=rn;var m=Ke;rn=s,(Ke=n)&&!m?fn(e,l,(l.subtreeFlags&8772)!==0):cn(e,l),rn=d,Ke=m}break;case 30:break;default:cn(e,l)}}function Kd(e){var n=e.alternate;n!==null&&(e.alternate=null,Kd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&as(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,dt=!1;function un(e,n,l){for(l=l.child;l!==null;)Xd(e,n,l),l=l.sibling}function Xd(e,n,l){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(co,l)}catch{}switch(l.tag){case 26:Ke||Xt(l,n),un(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ke||Xt(l,n);var s=qe,d=dt;qn(l.type)&&(qe=l.stateNode,dt=!1),un(e,n,l),Zo(l.stateNode),qe=s,dt=d;break;case 5:Ke||Xt(l,n);case 6:if(s=qe,d=dt,qe=null,un(e,n,l),qe=s,dt=d,qe!==null)if(dt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(l.stateNode)}catch(m){we(l,n,m)}else try{qe.removeChild(l.stateNode)}catch(m){we(l,n,m)}break;case 18:qe!==null&&(dt?(e=qe,Bp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Zi(e)):Bp(qe,l.stateNode));break;case 4:s=qe,d=dt,qe=l.stateNode.containerInfo,dt=!0,un(e,n,l),qe=s,dt=d;break;case 0:case 11:case 14:case 15:In(2,l,n),Ke||In(4,l,n),un(e,n,l);break;case 1:Ke||(Xt(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&zd(l,n,s)),un(e,n,l);break;case 21:un(e,n,l);break;case 22:Ke=(s=Ke)||l.memoizedState!==null,un(e,n,l),Ke=s;break;default:un(e,n,l)}}function Qd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zi(e)}catch(l){we(n,n.return,l)}}}function Zd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zi(e)}catch(l){we(n,n.return,l)}}function Hv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Jd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Jd),n;default:throw Error(a(435,e.tag))}}function Wl(e,n){var l=Hv(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var d=Jv.bind(null,e,s);s.then(d,d)}})}function pt(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],m=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(qn(_.type)){qe=_.stateNode,dt=!1;break e}break;case 5:qe=_.stateNode,dt=!1;break e;case 3:case 4:qe=_.stateNode.containerInfo,dt=!0;break e}_=_.return}if(qe===null)throw Error(a(160));Xd(m,S,d),qe=null,dt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)$d(n,e),n=n.sibling}var zt=null;function $d(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(n,e),mt(e),s&4&&(In(3,e,e.return),Bo(3,e),In(5,e,e.return));break;case 1:pt(n,e),mt(e),s&512&&(Ke||l===null||Xt(l,l.return)),s&64&&rn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=zt;if(pt(n,e),mt(e),s&512&&(Ke||l===null||Xt(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[mo]||m[We]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),nt(m,s,l),m[We]=e,Qe(m),s=m;break e;case"link":var S=$p("link","href",d).get(s+(l.href||""));if(S){for(var _=0;_<S.length;_++)if(m=S[_],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(_,1);break t}}m=d.createElement(s),nt(m,s,l),d.head.appendChild(m);break;case"meta":if(S=$p("meta","content",d).get(s+(l.content||""))){for(_=0;_<S.length;_++)if(m=S[_],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(_,1);break t}}m=d.createElement(s),nt(m,s,l),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[We]=e,Qe(m),s=m}e.stateNode=s}else Wp(d,e.type,e.stateNode);else e.stateNode=Zp(d,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?Wp(d,e.type,e.stateNode):Zp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Mr(e,e.memoizedProps,l.memoizedProps)}break;case 27:pt(n,e),mt(e),s&512&&(Ke||l===null||Xt(l,l.return)),l!==null&&s&4&&Mr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(pt(n,e),mt(e),s&512&&(Ke||l===null||Xt(l,l.return)),e.flags&32){d=e.stateNode;try{Si(d,"")}catch($){we(e,e.return,$)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Mr(e,d,l!==null?l.memoizedProps:d)),s&1024&&(Ir=!0);break;case 6:if(pt(n,e),mt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch($){we(e,e.return,$)}}break;case 3:if(ma=null,d=zt,zt=da(n.containerInfo),pt(n,e),zt=d,mt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Zi(n.containerInfo)}catch($){we(e,e.return,$)}Ir&&(Ir=!1,Wd(e));break;case 4:s=zt,zt=da(e.stateNode.containerInfo),pt(n,e),mt(e),zt=s;break;case 12:pt(n,e),mt(e);break;case 31:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Wl(e,s)));break;case 13:pt(n,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ea=vt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Wl(e,s)));break;case 22:d=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,D=rn,q=Ke;if(rn=D||d,Ke=q||A,pt(n,e),Ke=q,rn=D,mt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||A||rn||Ke||ui(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(m=A.stateNode,d)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=A.stateNode;var P=A.memoizedProps.style,b=P!=null&&P.hasOwnProperty("display")?P.display:null;_.style.display=b==null||typeof b=="boolean"?"":(""+b).trim()}}catch($){we(A,A.return,$)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch($){we(A,A.return,$)}}}else if(n.tag===18){if(l===null){A=n;try{var G=A.stateNode;d?zp(G,!0):zp(A.stateNode,!1)}catch($){we(A,A.return,$)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,Wl(e,l))));break;case 19:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Wl(e,s)));break;case 30:break;case 21:break;default:pt(n,e),mt(e)}}function mt(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(Od(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,m=xr(e);$l(e,m,d);break;case 5:var S=l.stateNode;l.flags&32&&(Si(S,""),l.flags&=-33);var _=xr(e);$l(e,_,S);break;case 3:case 4:var A=l.stateNode.containerInfo,D=xr(e);wr(e,D,A);break;default:throw Error(a(161))}}catch(q){we(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Wd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Wd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function cn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yd(e,n.alternate,n),n=n.sibling}function ui(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:In(4,n,n.return),ui(n);break;case 1:Xt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&zd(n,n.return,l),ui(n);break;case 27:Zo(n.stateNode);case 26:case 5:Xt(n,n.return),ui(n);break;case 22:n.memoizedState===null&&ui(n);break;case 30:ui(n);break;default:ui(n)}e=e.sibling}}function fn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,S=m.flags;switch(m.tag){case 0:case 11:case 15:fn(d,m,l),Bo(4,m);break;case 1:if(fn(d,m,l),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){we(s,s.return,D)}if(s=m,d=s.updateQueue,d!==null){var _=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)wf(A[d],_)}catch(D){we(s,s.return,D)}}l&&S&64&&Bd(m),zo(m,m.return);break;case 27:Fd(m);case 26:case 5:fn(d,m,l),l&&s===null&&S&4&&kd(m),zo(m,m.return);break;case 12:fn(d,m,l);break;case 31:fn(d,m,l),l&&S&4&&Qd(d,m);break;case 13:fn(d,m,l),l&&S&4&&Zd(d,m);break;case 22:m.memoizedState===null&&fn(d,m,l),zo(m,m.return);break;case 30:break;default:fn(d,m,l)}n=n.sibling}}function Dr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Mo(l))}function br(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e))}function kt(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jd(e,n,l,s),n=n.sibling}function jd(e,n,l,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:kt(e,n,l,s),d&2048&&Bo(9,n);break;case 1:kt(e,n,l,s);break;case 3:kt(e,n,l,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e)));break;case 12:if(d&2048){kt(e,n,l,s),e=n.stateNode;try{var m=n.memoizedProps,S=m.id,_=m.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){we(n,n.return,A)}}else kt(e,n,l,s);break;case 31:kt(e,n,l,s);break;case 13:kt(e,n,l,s);break;case 23:break;case 22:m=n.stateNode,S=n.alternate,n.memoizedState!==null?m._visibility&2?kt(e,n,l,s):ko(e,n):m._visibility&2?kt(e,n,l,s):(m._visibility|=2,Pi(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Dr(S,n);break;case 24:kt(e,n,l,s),d&2048&&br(n.alternate,n);break;default:kt(e,n,l,s)}}function Pi(e,n,l,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,S=n,_=l,A=s,D=S.flags;switch(S.tag){case 0:case 11:case 15:Pi(m,S,_,A,d),Bo(8,S);break;case 23:break;case 22:var q=S.stateNode;S.memoizedState!==null?q._visibility&2?Pi(m,S,_,A,d):ko(m,S):(q._visibility|=2,Pi(m,S,_,A,d)),d&&D&2048&&Dr(S.alternate,S);break;case 24:Pi(m,S,_,A,d),d&&D&2048&&br(S.alternate,S);break;default:Pi(m,S,_,A,d)}n=n.sibling}}function ko(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,d=s.flags;switch(s.tag){case 22:ko(l,s),d&2048&&Dr(s.alternate,s);break;case 24:ko(l,s),d&2048&&br(s.alternate,s);break;default:ko(l,s)}n=n.sibling}}var Oo=8192;function Bi(e,n,l){if(e.subtreeFlags&Oo)for(e=e.child;e!==null;)ep(e,n,l),e=e.sibling}function ep(e,n,l){switch(e.tag){case 26:Bi(e,n,l),e.flags&Oo&&e.memoizedState!==null&&_0(l,zt,e.memoizedState,e.memoizedProps);break;case 5:Bi(e,n,l);break;case 3:case 4:var s=zt;zt=da(e.stateNode.containerInfo),Bi(e,n,l),zt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Oo,Oo=16777216,Bi(e,n,l),Oo=s):Bi(e,n,l));break;default:Bi(e,n,l)}}function tp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Fo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];Ze=s,ip(s,e)}tp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)np(e),e=e.sibling}function np(e){switch(e.tag){case 0:case 11:case 15:Fo(e),e.flags&2048&&In(9,e,e.return);break;case 3:Fo(e);break;case 12:Fo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,jl(e)):Fo(e);break;default:Fo(e)}}function jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];Ze=s,ip(s,e)}tp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:In(8,n,n.return),jl(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,jl(n));break;default:jl(n)}e=e.sibling}}function ip(e,n){for(;Ze!==null;){var l=Ze;switch(l.tag){case 0:case 11:case 15:In(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Mo(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,Ze=s;else e:for(l=e;Ze!==null;){s=Ze;var d=s.sibling,m=s.return;if(Kd(s),s===l){Ze=null;break e}if(d!==null){d.return=m,Ze=d;break e}Ze=m}}}var qv={getCacheForType:function(e){var n=et(Fe),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return et(Fe).controller.signal}},Vv=typeof WeakMap=="function"?WeakMap:Map,Re=0,Ue=null,de=null,me=0,xe=0,Rt=null,Dn=!1,zi=!1,Ur=!1,dn=0,Pe=0,bn=0,ci=0,Lr=0,Nt=0,ki=0,Jo=null,ht=null,Gr=!1,ea=0,op=0,ta=1/0,na=null,Un=null,Xe=0,Ln=null,Oi=null,pn=0,Hr=0,qr=null,lp=null,Yo=0,Vr=null;function Mt(){return(Re&2)!==0&&me!==0?me&-me:H.T!==null?Fr():Tc()}function ap(){if(Nt===0)if((me&536870912)===0||ge){var e=cl;cl<<=1,(cl&3932160)===0&&(cl=262144),Nt=e}else Nt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Nt}function gt(e,n,l){(e===Ue&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(Fi(e,0),Gn(e,me,Nt,!1)),po(e,l),((Re&2)===0||e!==Ue)&&(e===Ue&&((Re&2)===0&&(ci|=l),Pe===4&&Gn(e,me,Nt,!1)),Qt(e))}function sp(e,n,l){if((Re&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||fo(e,n),d=s?zv(e,n):Br(e,n,!0),m=s;do{if(d===0){zi&&!s&&Gn(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!Pv(l)){d=Br(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;d=Jo;var A=_.current.memoizedState.isDehydrated;if(A&&(Fi(_,S).flags|=256),S=Br(_,S,!1),S!==2){if(Ur&&!A){_.errorRecoveryDisabledLanes|=m,ci|=m,d=4;break e}m=ht,ht=d,m!==null&&(ht===null?ht=m:ht.push.apply(ht,m))}d=S}if(m=!1,d!==2)continue}}if(d===1){Fi(e,0),Gn(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Gn(s,n,Nt,!Dn);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=ea+300-vt(),10<d)){if(Gn(s,n,Nt,!Dn),dl(s,0,!0)!==0)break e;pn=n,s.timeoutHandle=Vp(rp.bind(null,s,l,ht,na,Gr,n,Nt,ci,ki,Dn,m,"Throttled",-0,0),d);break e}rp(s,l,ht,na,Gr,n,Nt,ci,ki,Dn,m,null,-0,0)}}break}while(!0);Qt(e)}function rp(e,n,l,s,d,m,S,_,A,D,q,P,b,G){if(e.timeoutHandle=-1,P=n.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$t},ep(n,m,P);var $=(m&62914560)===m?ea-vt():(m&4194048)===m?op-vt():0;if($=C0(P,$),$!==null){pn=m,e.cancelPendingCommit=$(gp.bind(null,e,n,m,l,s,d,S,_,A,q,P,null,b,G)),Gn(e,m,S,!D);return}}gp(e,n,m,l,s,d,S,_,A)}function Pv(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],m=d.getSnapshot;d=d.value;try{if(!Et(m(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gn(e,n,l,s){n&=~Lr,n&=~ci,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-Tt(d),S=1<<m;s[m]=-1,d&=~S}l!==0&&yc(e,l,n)}function ia(){return(Re&6)===0?(Ko(0),!1):!0}function Pr(){if(de!==null){if(xe===0)var e=de.return;else e=de,tn=ti=null,tr(e),Li=null,wo=0,e=de;for(;e!==null;)Pd(e.alternate,e),e=e.return;de=null}}function Fi(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,l0(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),pn=0,Pr(),Ue=e,de=l=jt(e.current,null),me=n,xe=0,Rt=null,Dn=!1,zi=fo(e,n),Ur=!1,ki=Nt=Lr=ci=bn=Pe=0,ht=Jo=null,Gr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Tt(s),m=1<<d;n|=e[d],s&=~m}return dn=n,Al(),l}function up(e,n){re=null,H.H=qo,n===Ui||n===bl?(n=Rf(),xe=3):n===Os?(n=Rf(),xe=4):xe=n===yr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rt=n,de===null&&(Pe=1,Yl(e,Dt(n,e.current)))}function cp(){var e=Ct.current;return e===null?!0:(me&4194048)===me?Gt===null:(me&62914560)===me||(me&536870912)!==0?e===Gt:!1}function fp(){var e=H.H;return H.H=qo,e===null?qo:e}function dp(){var e=H.A;return H.A=qv,e}function oa(){Pe=4,Dn||(me&4194048)!==me&&Ct.current!==null||(zi=!0),(bn&134217727)===0&&(ci&134217727)===0||Ue===null||Gn(Ue,me,Nt,!1)}function Br(e,n,l){var s=Re;Re|=2;var d=fp(),m=dp();(Ue!==e||me!==n)&&(na=null,Fi(e,n)),n=!1;var S=Pe;e:do try{if(xe!==0&&de!==null){var _=de,A=Rt;switch(xe){case 8:Pr(),S=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(n=!0);var D=xe;if(xe=0,Rt=null,Ji(e,_,A,D),l&&zi){S=0;break e}break;default:D=xe,xe=0,Rt=null,Ji(e,_,A,D)}}Bv(),S=Pe;break}catch(q){up(e,q)}while(!0);return n&&e.shellSuspendCounter++,tn=ti=null,Re=s,H.H=d,H.A=m,de===null&&(Ue=null,me=0,Al()),S}function Bv(){for(;de!==null;)pp(de)}function zv(e,n){var l=Re;Re|=2;var s=fp(),d=dp();Ue!==e||me!==n?(na=null,ta=vt()+500,Fi(e,n)):zi=fo(e,n);e:do try{if(xe!==0&&de!==null){n=de;var m=Rt;t:switch(xe){case 1:xe=0,Rt=null,Ji(e,n,m,1);break;case 2:case 9:if(Cf(m)){xe=0,Rt=null,mp(n);break}n=function(){xe!==2&&xe!==9||Ue!==e||(xe=7),Qt(e)},m.then(n,n);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:Cf(m)?(xe=0,Rt=null,mp(n)):(xe=0,Rt=null,Ji(e,n,m,7));break;case 5:var S=null;switch(de.tag){case 26:S=de.memoizedState;case 5:case 27:var _=de;if(S?jp(S):_.stateNode.complete){xe=0,Rt=null;var A=_.sibling;if(A!==null)de=A;else{var D=_.return;D!==null?(de=D,la(D)):de=null}break t}}xe=0,Rt=null,Ji(e,n,m,5);break;case 6:xe=0,Rt=null,Ji(e,n,m,6);break;case 8:Pr(),Pe=6;break e;default:throw Error(a(462))}}kv();break}catch(q){up(e,q)}while(!0);return tn=ti=null,H.H=s,H.A=d,Re=l,de!==null?0:(Ue=null,me=0,Al(),Pe)}function kv(){for(;de!==null&&!fy();)pp(de)}function pp(e){var n=qd(e.alternate,e,dn);e.memoizedProps=e.pendingProps,n===null?la(e):de=n}function mp(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=Dd(l,n,n.pendingProps,n.type,void 0,me);break;case 11:n=Dd(l,n,n.pendingProps,n.type.render,n.ref,me);break;case 5:tr(n);default:Pd(l,n),n=de=df(n,dn),n=qd(l,n,dn)}e.memoizedProps=e.pendingProps,n===null?la(e):de=n}function Ji(e,n,l,s){tn=ti=null,tr(n),Li=null,wo=0;var d=n.return;try{if(Iv(e,d,n,l,me)){Pe=1,Yl(e,Dt(l,e.current)),de=null;return}}catch(m){if(d!==null)throw de=d,m;Pe=1,Yl(e,Dt(l,e.current)),de=null;return}n.flags&32768?(ge||s===1?e=!0:zi||(me&536870912)!==0?e=!1:(Dn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ct.current,s!==null&&s.tag===13&&(s.flags|=16384))),hp(n,e)):la(n)}function la(e){var n=e;do{if((n.flags&32768)!==0){hp(n,Dn);return}e=n.return;var l=Uv(n.alternate,n,dn);if(l!==null){de=l;return}if(n=n.sibling,n!==null){de=n;return}de=n=e}while(n!==null);Pe===0&&(Pe=5)}function hp(e,n){do{var l=Lv(e.alternate,e);if(l!==null){l.flags&=32767,de=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){de=e;return}de=e=l}while(e!==null);Pe=6,de=null}function gp(e,n,l,s,d,m,S,_,A){e.cancelPendingCommit=null;do aa();while(Xe!==0);if((Re&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=xs,Ey(e,l,m,S,_,A),e===Ue&&(de=Ue=null,me=0),Oi=n,Ln=e,pn=l,Hr=m,qr=d,lp=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yv(rl,function(){return Ep(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,d=J.p,J.p=2,S=Re,Re|=4;try{Gv(e,n,l)}finally{Re=S,J.p=d,H.T=s}}Xe=1,yp(),vp(),Sp()}}function yp(){if(Xe===1){Xe=0;var e=Ln,n=Oi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var s=J.p;J.p=2;var d=Re;Re|=4;try{$d(n,e);var m=Wr,S=nf(e.containerInfo),_=m.focusedElem,A=m.selectionRange;if(S!==_&&_&&_.ownerDocument&&tf(_.ownerDocument.documentElement,_)){if(A!==null&&Cs(_)){var D=A.start,q=A.end;if(q===void 0&&(q=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(q,_.value.length);else{var P=_.ownerDocument||document,b=P&&P.defaultView||window;if(b.getSelection){var G=b.getSelection(),$=_.textContent.length,oe=Math.min(A.start,$),be=A.end===void 0?oe:Math.min(A.end,$);!G.extend&&oe>be&&(S=be,be=oe,oe=S);var x=ef(_,oe),R=ef(_,be);if(x&&R&&(G.rangeCount!==1||G.anchorNode!==x.node||G.anchorOffset!==x.offset||G.focusNode!==R.node||G.focusOffset!==R.offset)){var I=P.createRange();I.setStart(x.node,x.offset),G.removeAllRanges(),oe>be?(G.addRange(I),G.extend(R.node,R.offset)):(I.setEnd(R.node,R.offset),G.addRange(I))}}}}for(P=[],G=_;G=G.parentNode;)G.nodeType===1&&P.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<P.length;_++){var V=P[_];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}va=!!$r,Wr=$r=null}finally{Re=d,J.p=s,H.T=l}}e.current=n,Xe=2}}function vp(){if(Xe===2){Xe=0;var e=Ln,n=Oi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var s=J.p;J.p=2;var d=Re;Re|=4;try{Yd(e,n.alternate,n)}finally{Re=d,J.p=s,H.T=l}}Xe=3}}function Sp(){if(Xe===4||Xe===3){Xe=0,dy();var e=Ln,n=Oi,l=pn,s=lp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xe=5:(Xe=0,Oi=Ln=null,Tp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Un=null),os(l),n=n.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(co,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=H.T,d=J.p,J.p=2,H.T=null;try{for(var m=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];m(_.value,{componentStack:_.stack})}}finally{H.T=n,J.p=d}}(pn&3)!==0&&aa(),Qt(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Vr?Yo++:(Yo=0,Vr=e):Yo=0,Ko(0)}}function Tp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Mo(n)))}function aa(){return yp(),vp(),Sp(),Ep()}function Ep(){if(Xe!==5)return!1;var e=Ln,n=Hr;Hr=0;var l=os(pn),s=H.T,d=J.p;try{J.p=32>l?32:l,H.T=null,l=qr,qr=null;var m=Ln,S=pn;if(Xe=0,Oi=Ln=null,pn=0,(Re&6)!==0)throw Error(a(331));var _=Re;if(Re|=4,np(m.current),jd(m,m.current,S,l),Re=_,Ko(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(co,m)}catch{}return!0}finally{J.p=d,H.T=s,Tp(e,n)}}function _p(e,n,l){n=Dt(l,n),n=gr(e.stateNode,n,2),e=Mn(e,n,2),e!==null&&(po(e,2),Qt(e))}function we(e,n,l){if(e.tag===3)_p(e,e,l);else for(;n!==null;){if(n.tag===3){_p(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Un===null||!Un.has(s))){e=Dt(l,e),l=Cd(2),s=Mn(n,l,2),s!==null&&(Ad(l,s,n,e),po(s,2),Qt(s));break}}n=n.return}}function zr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Vv;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(l)||(Ur=!0,d.add(l),e=Ov.bind(null,e,n,l),n.then(e,e))}function Ov(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ue===e&&(me&l)===l&&(Pe===4||Pe===3&&(me&62914560)===me&&300>vt()-ea?(Re&2)===0&&Fi(e,0):Lr|=l,ki===me&&(ki=0)),Qt(e)}function Cp(e,n){n===0&&(n=gc()),e=Wn(e,n),e!==null&&(po(e,n),Qt(e))}function Fv(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Cp(e,l)}function Jv(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Cp(e,l)}function Yv(e,n){return es(e,n)}var sa=null,Yi=null,kr=!1,ra=!1,Or=!1,Hn=0;function Qt(e){e!==Yi&&e.next===null&&(Yi===null?sa=Yi=e:Yi=Yi.next=e),ra=!0,kr||(kr=!0,Xv())}function Ko(e,n){if(!Or&&ra){Or=!0;do for(var l=!1,s=sa;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var S=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-Tt(42|e)+1)-1,m&=d&~(S&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Mp(s,m))}else m=me,m=dl(s,s===Ue?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||fo(s,m)||(l=!0,Mp(s,m));s=s.next}while(l);Or=!1}}function Kv(){Ap()}function Ap(){ra=kr=!1;var e=0;Hn!==0&&o0()&&(e=Hn);for(var n=vt(),l=null,s=sa;s!==null;){var d=s.next,m=Rp(s,n);m===0?(s.next=null,l===null?sa=d:l.next=d,d===null&&(Yi=l)):(l=s,(e!==0||(m&3)!==0)&&(ra=!0)),s=d}Xe!==0&&Xe!==5||Ko(e),Hn!==0&&(Hn=0)}function Rp(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-Tt(m),_=1<<S,A=d[S];A===-1?((_&l)===0||(_&s)!==0)&&(d[S]=Ty(_,n)):A<=n&&(e.expiredLanes|=_),m&=~_}if(n=Ue,l=me,l=dl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ts(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||fo(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&ts(s),os(l)){case 2:case 8:l=mc;break;case 32:l=rl;break;case 268435456:l=hc;break;default:l=rl}return s=Np.bind(null,e),l=es(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&ts(s),e.callbackPriority=2,e.callbackNode=null,2}function Np(e,n){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(aa()&&e.callbackNode!==l)return null;var s=me;return s=dl(e,e===Ue?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(sp(e,s,n),Rp(e,vt()),e.callbackNode!=null&&e.callbackNode===l?Np.bind(null,e):null)}function Mp(e,n){if(aa())return null;sp(e,n,!0)}function Xv(){a0(function(){(Re&6)!==0?es(pc,Kv):Ap()})}function Fr(){if(Hn===0){var e=Di;e===0&&(e=ul,ul<<=1,(ul&261888)===0&&(ul=256)),Hn=e}return Hn}function xp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gl(""+e)}function wp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function Qv(e,n,l,s,d){if(n==="submit"&&l&&l.stateNode===d){var m=xp((d[ct]||null).action),S=s.submitter;S&&(n=(n=S[ct]||null)?xp(n.formAction):S.getAttribute("formAction"),n!==null&&(m=n,S=null));var _=new Tl("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Hn!==0){var A=S?wp(d,S):new FormData(d);cr(l,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(_.preventDefault(),A=S?wp(d,S):new FormData(d),cr(l,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var Jr=0;Jr<Ms.length;Jr++){var Yr=Ms[Jr],Zv=Yr.toLowerCase(),$v=Yr[0].toUpperCase()+Yr.slice(1);Bt(Zv,"on"+$v)}Bt(af,"onAnimationEnd"),Bt(sf,"onAnimationIteration"),Bt(rf,"onAnimationStart"),Bt("dblclick","onDoubleClick"),Bt("focusin","onFocus"),Bt("focusout","onBlur"),Bt(pv,"onTransitionRun"),Bt(mv,"onTransitionStart"),Bt(hv,"onTransitionCancel"),Bt(uf,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xo));function Ip(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var S=s.length-1;0<=S;S--){var _=s[S],A=_.instance,D=_.currentTarget;if(_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=D;try{m(d)}catch(q){Cl(q)}d.currentTarget=null,m=A}else for(S=0;S<s.length;S++){if(_=s[S],A=_.instance,D=_.currentTarget,_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=D;try{m(d)}catch(q){Cl(q)}d.currentTarget=null,m=A}}}}function pe(e,n){var l=n[ls];l===void 0&&(l=n[ls]=new Set);var s=e+"__bubble";l.has(s)||(Dp(n,e,2,!1),l.add(s))}function Kr(e,n,l){var s=0;n&&(s|=4),Dp(l,e,s,n)}var ua="_reactListening"+Math.random().toString(36).slice(2);function Xr(e){if(!e[ua]){e[ua]=!0,Cc.forEach(function(l){l!=="selectionchange"&&(Wv.has(l)||Kr(l,!1,e),Kr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ua]||(n[ua]=!0,Kr("selectionchange",!1,n))}}function Dp(e,n,l,s){switch(am(n)){case 2:var d=N0;break;case 8:d=M0;break;default:d=uu}l=d.bind(null,n,l,e),d=void 0,!ms||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function Qr(e,n,l,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=s.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=mi(_),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){s=m=S;continue e}_=_.parentNode}}s=s.return}Gc(function(){var D=m,q=ds(l),P=[];e:{var b=cf.get(e);if(b!==void 0){var G=Tl,$=e;switch(e){case"keypress":if(vl(l)===0)break e;case"keydown":case"keyup":G=Jy;break;case"focusin":$="focus",G=vs;break;case"focusout":$="blur",G=vs;break;case"beforeblur":case"afterblur":G=vs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Xy;break;case af:case sf:case rf:G=Hy;break;case uf:G=Zy;break;case"scroll":case"scrollend":G=Dy;break;case"wheel":G=Wy;break;case"copy":case"cut":case"paste":G=Vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Bc;break;case"toggle":case"beforetoggle":G=ev}var oe=(n&4)!==0,be=!oe&&(e==="scroll"||e==="scrollend"),x=oe?b!==null?b+"Capture":null:b;oe=[];for(var R=D,I;R!==null;){var V=R;if(I=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||I===null||x===null||(V=go(R,x),V!=null&&oe.push(Qo(R,V,I))),be)break;R=R.return}0<oe.length&&(b=new G(b,$,null,l,q),P.push({event:b,listeners:oe}))}}if((n&7)===0){e:{if(b=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",b&&l!==fs&&($=l.relatedTarget||l.fromElement)&&(mi($)||$[pi]))break e;if((G||b)&&(b=q.window===q?q:(b=q.ownerDocument)?b.defaultView||b.parentWindow:window,G?($=l.relatedTarget||l.toElement,G=D,$=$?mi($):null,$!==null&&(be=f($),oe=$.tag,$!==be||oe!==5&&oe!==27&&oe!==6)&&($=null)):(G=null,$=D),G!==$)){if(oe=Vc,V="onMouseLeave",x="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Bc,V="onPointerLeave",x="onPointerEnter",R="pointer"),be=G==null?b:ho(G),I=$==null?b:ho($),b=new oe(V,R+"leave",G,l,q),b.target=be,b.relatedTarget=I,V=null,mi(q)===D&&(oe=new oe(x,R+"enter",$,l,q),oe.target=I,oe.relatedTarget=be,V=oe),be=V,G&&$)t:{for(oe=jv,x=G,R=$,I=0,V=x;V;V=oe(V))I++;V=0;for(var ie=R;ie;ie=oe(ie))V++;for(;0<I-V;)x=oe(x),I--;for(;0<V-I;)R=oe(R),V--;for(;I--;){if(x===R||R!==null&&x===R.alternate){oe=x;break t}x=oe(x),R=oe(R)}oe=null}else oe=null;G!==null&&bp(P,b,G,oe,!1),$!==null&&be!==null&&bp(P,be,$,oe,!0)}}e:{if(b=D?ho(D):window,G=b.nodeName&&b.nodeName.toLowerCase(),G==="select"||G==="input"&&b.type==="file")var Te=Xc;else if(Yc(b))if(Qc)Te=cv;else{Te=rv;var te=sv}else G=b.nodeName,!G||G.toLowerCase()!=="input"||b.type!=="checkbox"&&b.type!=="radio"?D&&cs(D.elementType)&&(Te=Xc):Te=uv;if(Te&&(Te=Te(e,D))){Kc(P,Te,l,q);break e}te&&te(e,b,D),e==="focusout"&&D&&b.type==="number"&&D.memoizedProps.value!=null&&us(b,"number",b.value)}switch(te=D?ho(D):window,e){case"focusin":(Yc(te)||te.contentEditable==="true")&&(Ci=te,As=D,Ao=null);break;case"focusout":Ao=As=Ci=null;break;case"mousedown":Rs=!0;break;case"contextmenu":case"mouseup":case"dragend":Rs=!1,of(P,l,q);break;case"selectionchange":if(dv)break;case"keydown":case"keyup":of(P,l,q)}var ce;if(Ts)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else _i?Fc(e,l)&&(he="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(he="onCompositionStart");he&&(zc&&l.locale!=="ko"&&(_i||he!=="onCompositionStart"?he==="onCompositionEnd"&&_i&&(ce=Hc()):(Tn=q,hs="value"in Tn?Tn.value:Tn.textContent,_i=!0)),te=ca(D,he),0<te.length&&(he=new Pc(he,e,null,l,q),P.push({event:he,listeners:te}),ce?he.data=ce:(ce=Jc(l),ce!==null&&(he.data=ce)))),(ce=nv?iv(e,l):ov(e,l))&&(he=ca(D,"onBeforeInput"),0<he.length&&(te=new Pc("onBeforeInput","beforeinput",null,l,q),P.push({event:te,listeners:he}),te.data=ce)),Qv(P,e,D,l,q)}Ip(P,n)})}function Qo(e,n,l){return{instance:e,listener:n,currentTarget:l}}function ca(e,n){for(var l=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=go(e,l),d!=null&&s.unshift(Qo(e,d,m)),d=go(e,n),d!=null&&s.push(Qo(e,d,m))),e.tag===3)return s;e=e.return}return[]}function jv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bp(e,n,l,s,d){for(var m=n._reactName,S=[];l!==null&&l!==s;){var _=l,A=_.alternate,D=_.stateNode;if(_=_.tag,A!==null&&A===s)break;_!==5&&_!==26&&_!==27||D===null||(A=D,d?(D=go(l,m),D!=null&&S.unshift(Qo(l,D,A))):d||(D=go(l,m),D!=null&&S.push(Qo(l,D,A)))),l=l.return}S.length!==0&&e.push({event:n,listeners:S})}var e0=/\r\n?/g,t0=/\u0000|\uFFFD/g;function Up(e){return(typeof e=="string"?e:""+e).replace(e0,`
`).replace(t0,"")}function Lp(e,n){return n=Up(n),Up(e)===n}function De(e,n,l,s,d,m){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Si(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Si(e,""+s);break;case"className":ml(e,"class",s);break;case"tabIndex":ml(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ml(e,l,s);break;case"style":Uc(e,s,m);break;case"data":if(n!=="object"){ml(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=gl(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&De(e,n,"name",d.name,d,null),De(e,n,"formEncType",d.formEncType,d,null),De(e,n,"formMethod",d.formMethod,d,null),De(e,n,"formTarget",d.formTarget,d,null)):(De(e,n,"encType",d.encType,d,null),De(e,n,"method",d.method,d,null),De(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=gl(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=$t);break;case"onScroll":s!=null&&pe("scroll",e);break;case"onScrollEnd":s!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=gl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":pe("beforetoggle",e),pe("toggle",e),pl(e,"popover",s);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":pl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=wy.get(l)||l,pl(e,l,s))}}function Zr(e,n,l,s,d,m){switch(l){case"style":Uc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Si(e,s):(typeof s=="number"||typeof s=="bigint")&&Si(e,""+s);break;case"onScroll":s!=null&&pe("scroll",e);break;case"onScrollEnd":s!=null&&pe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=$t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ac.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),m=e[ct]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,d);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):pl(e,l,s)}}}function nt(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var s=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var S=l[m];if(S!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:De(e,n,m,S,l,null)}}d&&De(e,n,"srcSet",l.srcSet,l,null),s&&De(e,n,"src",l.src,l,null);return;case"input":pe("invalid",e);var _=m=S=d=null,A=null,D=null;for(s in l)if(l.hasOwnProperty(s)){var q=l[s];if(q!=null)switch(s){case"name":d=q;break;case"type":S=q;break;case"checked":A=q;break;case"defaultChecked":D=q;break;case"value":m=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:De(e,n,s,q,l,null)}}wc(e,m,_,A,D,S,d,!1);return;case"select":pe("invalid",e),s=S=m=null;for(d in l)if(l.hasOwnProperty(d)&&(_=l[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:De(e,n,d,_,l,null)}n=m,l=S,e.multiple=!!s,n!=null?vi(e,!!s,n,!1):l!=null&&vi(e,!!s,l,!0);return;case"textarea":pe("invalid",e),m=d=s=null;for(S in l)if(l.hasOwnProperty(S)&&(_=l[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:De(e,n,S,_,l,null)}Dc(e,s,d,m);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(s=l[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:De(e,n,A,s,l,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(s=0;s<Xo.length;s++)pe(Xo[s],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(s=l[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:De(e,n,D,s,l,null)}return;default:if(cs(n)){for(q in l)l.hasOwnProperty(q)&&(s=l[q],s!==void 0&&Zr(e,n,q,s,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(s=l[_],s!=null&&De(e,n,_,s,l,null))}function n0(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,S=null,_=null,A=null,D=null,q=null;for(G in l){var P=l[G];if(l.hasOwnProperty(G)&&P!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":A=P;default:s.hasOwnProperty(G)||De(e,n,G,null,s,P)}}for(var b in s){var G=s[b];if(P=l[b],s.hasOwnProperty(b)&&(G!=null||P!=null))switch(b){case"type":m=G;break;case"name":d=G;break;case"checked":D=G;break;case"defaultChecked":q=G;break;case"value":S=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==P&&De(e,n,b,G,s,P)}}rs(e,S,_,A,D,q,m,d);return;case"select":G=S=_=b=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":G=A;default:s.hasOwnProperty(m)||De(e,n,m,null,s,A)}for(d in s)if(m=s[d],A=l[d],s.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":b=m;break;case"defaultValue":_=m;break;case"multiple":S=m;default:m!==A&&De(e,n,d,m,s,A)}n=_,l=S,s=G,b!=null?vi(e,!!l,b,!1):!!s!=!!l&&(n!=null?vi(e,!!l,n,!0):vi(e,!!l,l?[]:"",!1));return;case"textarea":G=b=null;for(_ in l)if(d=l[_],l.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:De(e,n,_,null,s,d)}for(S in s)if(d=s[S],m=l[S],s.hasOwnProperty(S)&&(d!=null||m!=null))switch(S){case"value":b=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&De(e,n,S,d,s,m)}Ic(e,b,G);return;case"option":for(var $ in l)if(b=l[$],l.hasOwnProperty($)&&b!=null&&!s.hasOwnProperty($))switch($){case"selected":e.selected=!1;break;default:De(e,n,$,null,s,b)}for(A in s)if(b=s[A],G=l[A],s.hasOwnProperty(A)&&b!==G&&(b!=null||G!=null))switch(A){case"selected":e.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:De(e,n,A,b,s,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in l)b=l[oe],l.hasOwnProperty(oe)&&b!=null&&!s.hasOwnProperty(oe)&&De(e,n,oe,null,s,b);for(D in s)if(b=s[D],G=l[D],s.hasOwnProperty(D)&&b!==G&&(b!=null||G!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(137,n));break;default:De(e,n,D,b,s,G)}return;default:if(cs(n)){for(var be in l)b=l[be],l.hasOwnProperty(be)&&b!==void 0&&!s.hasOwnProperty(be)&&Zr(e,n,be,void 0,s,b);for(q in s)b=s[q],G=l[q],!s.hasOwnProperty(q)||b===G||b===void 0&&G===void 0||Zr(e,n,q,b,s,G);return}}for(var x in l)b=l[x],l.hasOwnProperty(x)&&b!=null&&!s.hasOwnProperty(x)&&De(e,n,x,null,s,b);for(P in s)b=s[P],G=l[P],!s.hasOwnProperty(P)||b===G||b==null&&G==null||De(e,n,P,b,s,G)}function Gp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function i0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var d=l[s],m=d.transferSize,S=d.initiatorType,_=d.duration;if(m&&_&&Gp(S)){for(S=0,_=d.responseEnd,s+=1;s<l.length;s++){var A=l[s],D=A.startTime;if(D>_)break;var q=A.transferSize,P=A.initiatorType;q&&Gp(P)&&(A=A.responseEnd,S+=q*(A<_?1:(_-D)/(A-D)))}if(--s,n+=8*(m+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $r=null,Wr=null;function fa(e){return e.nodeType===9?e:e.ownerDocument}function Hp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function jr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var eu=null;function o0(){var e=window.event;return e&&e.type==="popstate"?e===eu?!1:(eu=e,!0):(eu=null,!1)}var Vp=typeof setTimeout=="function"?setTimeout:void 0,l0=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,a0=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(e){return Pp.resolve(null).then(e).catch(s0)}:Vp;function s0(e){setTimeout(function(){throw e})}function qn(e){return e==="head"}function Bp(e,n){var l=n,s=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(d),Zi(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Zo(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Zo(l);for(var m=l.firstChild;m;){var S=m.nextSibling,_=m.nodeName;m[mo]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=S}}else l==="body"&&Zo(e.ownerDocument.body);l=d}while(l);Zi(n)}function zp(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function tu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":tu(l),as(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function r0(e,n,l,s){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[mo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function u0(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ht(e.nextSibling),e===null))return null;return e}function kp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ht(e.nextSibling),e===null))return null;return e}function nu(e){return e.data==="$?"||e.data==="$~"}function iu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function c0(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ht(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ou=null;function Op(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Ht(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Fp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Jp(e,n,l){switch(n=fa(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Zo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);as(e)}var qt=new Map,Yp=new Set;function da(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mn=J.d;J.d={f:f0,r:d0,D:p0,C:m0,L:h0,m:g0,X:v0,S:y0,M:S0};function f0(){var e=mn.f(),n=ia();return e||n}function d0(e){var n=hi(e);n!==null&&n.tag===5&&n.type==="form"?ud(n):mn.r(e)}var Ki=typeof document>"u"?null:document;function Kp(e,n,l){var s=Ki;if(s&&typeof n=="string"&&n){var d=wt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Yp.has(d)||(Yp.add(d),e={rel:e,crossOrigin:l,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),nt(n,"link",e),Qe(n),s.head.appendChild(n)))}}function p0(e){mn.D(e),Kp("dns-prefetch",e,null)}function m0(e,n){mn.C(e,n),Kp("preconnect",e,n)}function h0(e,n,l){mn.L(e,n,l);var s=Ki;if(s&&e&&n){var d='link[rel="preload"][as="'+wt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+wt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+wt(l.imageSizes)+'"]')):d+='[href="'+wt(e)+'"]';var m=d;switch(n){case"style":m=Xi(e);break;case"script":m=Qi(e)}qt.has(m)||(e=T({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),qt.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector($o(m))||n==="script"&&s.querySelector(Wo(m))||(n=s.createElement("link"),nt(n,"link",e),Qe(n),s.head.appendChild(n)))}}function g0(e,n){mn.m(e,n);var l=Ki;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+wt(s)+'"][href="'+wt(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Qi(e)}if(!qt.has(m)&&(e=T({rel:"modulepreload",href:e},n),qt.set(m,e),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wo(m)))return}s=l.createElement("link"),nt(s,"link",e),Qe(s),l.head.appendChild(s)}}}function y0(e,n,l){mn.S(e,n,l);var s=Ki;if(s&&e){var d=gi(s).hoistableStyles,m=Xi(e);n=n||"default";var S=d.get(m);if(!S){var _={loading:0,preload:null};if(S=s.querySelector($o(m)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},l),(l=qt.get(m))&&lu(e,l);var A=S=s.createElement("link");Qe(A),nt(A,"link",e),A._p=new Promise(function(D,q){A.onload=D,A.onerror=q}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,pa(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(m,S)}}}function v0(e,n){mn.X(e,n);var l=Ki;if(l&&e){var s=gi(l).hoistableScripts,d=Qi(e),m=s.get(d);m||(m=l.querySelector(Wo(d)),m||(e=T({src:e,async:!0},n),(n=qt.get(d))&&au(e,n),m=l.createElement("script"),Qe(m),nt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function S0(e,n){mn.M(e,n);var l=Ki;if(l&&e){var s=gi(l).hoistableScripts,d=Qi(e),m=s.get(d);m||(m=l.querySelector(Wo(d)),m||(e=T({src:e,async:!0,type:"module"},n),(n=qt.get(d))&&au(e,n),m=l.createElement("script"),Qe(m),nt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Xp(e,n,l,s){var d=(d=Z.current)?da(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Xi(l.href),l=gi(d).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Xi(l.href);var m=gi(d).hoistableStyles,S=m.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=d.querySelector($o(e)))&&!m._p&&(S.instance=m,S.state.loading=5),qt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qt.set(e,l),m||T0(d,e,l,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qi(l),l=gi(d).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Xi(e){return'href="'+wt(e)+'"'}function $o(e){return'link[rel="stylesheet"]['+e+"]"}function Qp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function T0(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),nt(n,"link",l),Qe(n),e.head.appendChild(n))}function Qi(e){return'[src="'+wt(e)+'"]'}function Wo(e){return"script[async]"+e}function Zp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+wt(l.href)+'"]');if(s)return n.instance=s,Qe(s),s;var d=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Qe(s),nt(s,"style",d),pa(s,l.precedence,e),n.instance=s;case"stylesheet":d=Xi(l.href);var m=e.querySelector($o(d));if(m)return n.state.loading|=4,n.instance=m,Qe(m),m;s=Qp(l),(d=qt.get(d))&&lu(s,d),m=(e.ownerDocument||e).createElement("link"),Qe(m);var S=m;return S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),nt(m,"link",s),n.state.loading|=4,pa(m,l.precedence,e),n.instance=m;case"script":return m=Qi(l.src),(d=e.querySelector(Wo(m)))?(n.instance=d,Qe(d),d):(s=l,(d=qt.get(m))&&(s=T({},l),au(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),Qe(d),nt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,pa(s,l.precedence,e));return n.instance}function pa(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===n)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function lu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function au(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ma=null;function $p(e,n,l){if(ma===null){var s=new Map,d=ma=new Map;d.set(l,s)}else d=ma,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[mo]||m[We]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(n)||"";S=e+S;var _=s.get(S);_?_.push(m):s.set(S,[m])}}return s}function Wp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function E0(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function jp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _0(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=Xi(s.href),m=n.querySelector($o(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ha.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,Qe(m);return}m=n.ownerDocument||n,s=Qp(s),(d=qt.get(d))&&lu(s,d),m=m.createElement("link"),Qe(m);var S=m;S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),nt(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ha.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var su=0;function C0(e,n){return e.stylesheets&&e.count===0&&ya(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&ya(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&su===0&&(su=62500*i0());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ya(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>su?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function ha(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ya(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ga=null;function ya(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ga=new Map,n.forEach(A0,e),ga=null,ha.call(e))}function A0(e,n){if(!(n.state.loading&4)){var l=ga.get(e);if(l)var s=l.get(null);else{l=new Map,ga.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var S=d[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),s=S)}s&&l.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),m=l.get(S)||s,m===s&&l.set(null,d),l.set(S,d),this.count++,s=ha.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var jo={$$typeof:O,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function R0(e,n,l,s,d,m,S,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.hiddenUpdates=ns(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function em(e,n,l,s,d,m,S,_,A,D,q,P){return e=new R0(e,n,l,S,A,D,q,P,_),n=1,m===!0&&(n|=24),m=_t(3,null,null,n),e.current=m,m.stateNode=e,n=Bs(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:n},Fs(m),e}function tm(e){return e?(e=Ni,e):Ni}function nm(e,n,l,s,d,m){d=tm(d),s.context===null?s.context=d:s.pendingContext=d,s=Nn(n),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=Mn(e,s,n),l!==null&&(gt(l,e,n),Do(l,e,n))}function im(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function ru(e,n){im(e,n),(e=e.alternate)&&im(e,n)}function om(e){if(e.tag===13||e.tag===31){var n=Wn(e,67108864);n!==null&&gt(n,e,67108864),ru(e,67108864)}}function lm(e){if(e.tag===13||e.tag===31){var n=Mt();n=is(n);var l=Wn(e,n);l!==null&&gt(l,e,n),ru(e,n)}}var va=!0;function N0(e,n,l,s){var d=H.T;H.T=null;var m=J.p;try{J.p=2,uu(e,n,l,s)}finally{J.p=m,H.T=d}}function M0(e,n,l,s){var d=H.T;H.T=null;var m=J.p;try{J.p=8,uu(e,n,l,s)}finally{J.p=m,H.T=d}}function uu(e,n,l,s){if(va){var d=cu(s);if(d===null)Qr(e,n,s,Sa,l),sm(e,s);else if(w0(d,e,n,l,s))s.stopPropagation();else if(sm(e,s),n&4&&-1<x0.indexOf(e)){for(;d!==null;){var m=hi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Kn(m.pendingLanes);if(S!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var A=1<<31-Tt(S);_.entanglements[1]|=A,S&=~A}Qt(m),(Re&6)===0&&(ta=vt()+500,Ko(0))}}break;case 31:case 13:_=Wn(m,2),_!==null&&gt(_,m,2),ia(),ru(m,2)}if(m=cu(s),m===null&&Qr(e,n,s,Sa,l),m===d)break;d=m}d!==null&&s.stopPropagation()}else Qr(e,n,s,null,l)}}function cu(e){return e=ds(e),fu(e)}var Sa=null;function fu(e){if(Sa=null,e=mi(e),e!==null){var n=f(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sa=e,null}function am(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(py()){case pc:return 2;case mc:return 8;case rl:case my:return 32;case hc:return 268435456;default:return 32}default:return 32}}var du=!1,Vn=null,Pn=null,Bn=null,el=new Map,tl=new Map,zn=[],x0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sm(e,n){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":el.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(n.pointerId)}}function nl(e,n,l,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=hi(n),n!==null&&om(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function w0(e,n,l,s,d){switch(n){case"focusin":return Vn=nl(Vn,e,n,l,s,d),!0;case"dragenter":return Pn=nl(Pn,e,n,l,s,d),!0;case"mouseover":return Bn=nl(Bn,e,n,l,s,d),!0;case"pointerover":var m=d.pointerId;return el.set(m,nl(el.get(m)||null,e,n,l,s,d)),!0;case"gotpointercapture":return m=d.pointerId,tl.set(m,nl(tl.get(m)||null,e,n,l,s,d)),!0}return!1}function rm(e){var n=mi(e.target);if(n!==null){var l=f(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,Ec(e.priority,function(){lm(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,Ec(e.priority,function(){lm(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ta(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=cu(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);fs=s,l.target.dispatchEvent(s),fs=null}else return n=hi(l),n!==null&&om(n),e.blockedOn=l,!1;n.shift()}return!0}function um(e,n,l){Ta(e)&&l.delete(n)}function I0(){du=!1,Vn!==null&&Ta(Vn)&&(Vn=null),Pn!==null&&Ta(Pn)&&(Pn=null),Bn!==null&&Ta(Bn)&&(Bn=null),el.forEach(um),tl.forEach(um)}function Ea(e,n){e.blockedOn===n&&(e.blockedOn=null,du||(du=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,I0)))}var _a=null;function cm(e){_a!==e&&(_a=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){_a===e&&(_a=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(fu(s||l)===null)continue;break}var m=hi(l);m!==null&&(e.splice(n,3),n-=3,cr(m,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function Zi(e){function n(A){return Ea(A,e)}Vn!==null&&Ea(Vn,e),Pn!==null&&Ea(Pn,e),Bn!==null&&Ea(Bn,e),el.forEach(n),tl.forEach(n);for(var l=0;l<zn.length;l++){var s=zn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<zn.length&&(l=zn[0],l.blockedOn===null);)rm(l),l.blockedOn===null&&zn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],m=l[s+1],S=d[ct]||null;if(typeof m=="function")S||cm(l);else if(S){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,S=m[ct]||null)_=S.formAction;else if(fu(d)!==null)continue}else _=S.action;typeof _=="function"?l[s+1]=_:(l.splice(s,3),s-=3),cm(l)}}}function fm(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function pu(e){this._internalRoot=e}Ca.prototype.render=pu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=Mt();nm(l,s,e,n,null,null)},Ca.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;nm(e.current,2,null,e,null,null),ia(),n[pi]=null}};function Ca(e){this._internalRoot=e}Ca.prototype.unstable_scheduleHydration=function(e){if(e){var n=Tc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<zn.length&&n!==0&&n<zn[l].priority;l++);zn.splice(l,0,e),l===0&&rm(e)}};var dm=t.version;if(dm!=="19.2.1")throw Error(a(527,dm,"19.2.1"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var D0={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{co=Aa.inject(D0),St=Aa}catch{}}return ol.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",d=Sd,m=Td,S=Ed;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=em(e,1,!1,null,null,l,s,null,d,m,S,fm),e[pi]=n.current,Xr(e),new pu(n)},ol.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,d="",m=Sd,S=Td,_=Ed,A=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),n=em(e,1,!0,n,l??null,s,d,A,m,S,_,fm),n.context=tm(null),l=n.current,s=Mt(),s=is(s),d=Nn(s),d.callback=null,Mn(l,d,s),l=s,n.current.lanes=l,po(n,l),Qt(n),e[pi]=n.current,Xr(e),new Ca(n)},ol.version="19.2.1",ol}var _m;function k0(){if(_m)return gu.exports;_m=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),gu.exports=z0(),gu.exports}var O0=k0();const F0=ag(O0);var J0={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Y0,K0;function X0(){return{geminiUrl:Y0,vertexUrl:K0}}function Q0(i,t,o,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=X0();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gn{}function Q(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(f+1),o[h])}else for(const h of y)c(h,t.slice(f+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function Z0(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}Nu(i,r,f,0,p)}}function Nu(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Nu(y,t,o,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const T=[];for(const E of o.slice(a))E==="*"?T.push(h):T.push(E);c(p,T,v)}for(const h of g)delete p[h]}}else{const p=i;f in p&&Nu(p[f],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ou(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $0(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function W0(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],eS(p)),t}function j0(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],tS(p)),t}function eS(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>nS(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function tS(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>iS(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function nS(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],uS(o)),t}function iS(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],cS(o)),t}function oS(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function lS(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function aS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],sS(p)),t}function sS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function sg(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],rS(p)),t}function rS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function uS(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Ou(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function cS(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Ou(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Cm||(Cm={}));var Am;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Am||(Am={}));var Rm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Rm||(Rm={}));var On;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(On||(On={}));var Nm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Nm||(Nm={}));var Mm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Mm||(Mm={}));var xm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(xm||(xm={}));var wm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(wm||(wm={}));var Im;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Im||(Im={}));var Dm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(Dm||(Dm={}));var bm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(bm||(bm={}));var Um;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Um||(Um={}));var Lm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Lm||(Lm={}));var Gm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Gm||(Gm={}));var Hm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Hm||(Hm={}));var qm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(qm||(qm={}));var Vm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Vm||(Vm={}));var Pm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Pm||(Pm={}));var Bm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Bm||(Bm={}));var Ha;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ha||(Ha={}));var zm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zm||(zm={}));var km;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(km||(km={}));var Om;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Om||(Om={}));var Mu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Mu||(Mu={}));var Fm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Fm||(Fm={}));var Jm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jm||(Jm={}));var Ym;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Ym||(Ym={}));var Km;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Km||(Km={}));var Xm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Xm||(Xm={}));var Qm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Qm||(Qm={}));var Zm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Zm||(Zm={}));var $m;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})($m||($m={}));var Wm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Wm||(Wm={}));var jm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(jm||(jm={}));var eh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(eh||(eh={}));var th;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(th||(th={}));var nh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(nh||(nh={}));var ih;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ih||(ih={}));var oh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(oh||(oh={}));var lh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(lh||(lh={}));var ah;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(ah||(ah={}));var sh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(sh||(sh={}));var rh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(rh||(rh={}));var uh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(uh||(uh={}));var ch;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(ch||(ch={}));var fh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(fh||(fh={}));var dh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(dh||(dh={}));var ph;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(ph||(ph={}));var mh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(mh||(mh={}));var hh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(hh||(hh={}));var gh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gh||(gh={}));var yh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(yh||(yh={}));var vh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vh||(vh={}));var Sh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Sh||(Sh={}));var Th;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Th||(Th={}));var Wi;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Wi||(Wi={}));class xu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class ll{get text(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const T=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,w]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(w!==null||w!==void 0)&&T.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const T of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(T))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,a,r,f,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,a,r,f,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Eh{}class _h{}class fS{}class dS{}class pS{}class mS{}class Ch{}class Ah{}class Rh{}class hS{}class qa{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new qa;let r;const f=t;return o?r=j0(f):r=W0(f),Object.assign(a,r),a}}class Nh{}class Mh{}class xh{}class wh{}class gS{}class yS{}class vS{}class Fu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Fu,f=aS(t);return Object.assign(a,f),a}}class SS{}class TS{}class ES{}class Ih{}class _S{get text(){var t,o,a;let r="",f=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,o,a;let r="";const f=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class CS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ju{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ju,f=sg(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ce(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function rg(i,t){const o=Ce(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function ug(i){return Array.isArray(i)?i.map(t=>Va(t)):[Va(i)]}function Va(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function cg(i){const t=Va(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function fg(i){const t=Va(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Dh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function dg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Dh(t)):[Dh(i)]}function wu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function bh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Uh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function lt(i){if(i==null)throw new Error("ContentUnion is required");return wu(i)?i:{role:"user",parts:dg(i)}}function Yu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=lt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=lt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>lt(o)):[lt(t)]}function Vt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(bh(i)||Uh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[lt(i)]}const t=[],o=[],a=wu(i[0]);for(const r of i){const f=wu(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(bh(r)||Uh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:dg(o)}),t}function AS(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(On).includes(o[0].toUpperCase())?o[0].toUpperCase():On.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(On).includes(a.toUpperCase())?a.toUpperCase():On.TYPE_UNSPECIFIED})}}function eo(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&AS(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(On).includes(g.toUpperCase())?g.toUpperCase():On.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=eo(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(eo(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=eo(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Ku(i){return eo(i)}function Xu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Qu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function lo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=eo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=eo(t.response));return i}function ao(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function RS(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function yn(i,t){if(typeof t!="string")throw new Error("name must be a string");return RS(i,t,"cachedContents")}function pg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Jn(i){return Ou(i)}function NS(i){return i!=null&&typeof i=="object"&&"name"in i}function MS(i){return i!=null&&typeof i=="object"&&"video"in i}function xS(i){return i!=null&&typeof i=="object"&&"uri"in i}function mg(i){var t;let o;if(NS(i)&&(o=i.name),!(xS(i)&&(o=i.uri,o===void 0))&&!(MS(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function hg(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function gg(i){for(const t of["models","tunedModels","publisherModels"])if(wS(i,t))return i[t];return[]}function wS(i,t){return i!==null&&typeof i=="object"&&t in i}function IS(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function DS(i,t={}){const o=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=IS(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function yg(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function bS(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function vg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function so(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Sg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function US(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>pT(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function LS(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function GS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function ba(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],Sg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],US(vg(h))),t}function Iu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],Sg(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const T=u(i,["inputConfig"]);T!=null&&c(t,["src"],HS(T));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],LS(vg(E)));const C=u(i,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function HS(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function qS(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>dT(i,p))),c(o,["requests","requests"],f)}return o}function VS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function PS(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function BS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],so(i,a)),o}function zS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],so(i,a)),o}function kS(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],OS(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function OS(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function Tg(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>TT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function FS(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function JS(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],GS(bS(r))),o}function Lh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],qS(i,yg(i,r)));const f=u(t,["config"]);return f!=null&&FS(f,o),o}function YS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Ce(i,a));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],VS(yg(i,r)));const f=u(t,["config"]);return f!=null&&JS(f,o),o}function KS(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function XS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],tT(i,r));const f=u(t,["config"]);return f!=null&&KS(f,o),o}function QS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],so(i,a)),o}function ZS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],so(i,a)),o}function $S(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function WS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function jS(i,t){const o={},a=u(t,["contents"]);if(a!=null){let f=Yu(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],eT(r,o)),Z0(o,{"requests[].*":"requests[].request.*"})),o}function eT(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function tT(i,t){const o={},a=u(t,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],jS(i,r)),o}function nT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function iT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function oT(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function lT(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Tg(lt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&c(a,["frequencyPenalty"],w);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Ku(z));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(a,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let ve=O;Array.isArray(ve)&&(ve=ve.map(He=>ET(He))),c(o,["safetySettings"],ve)}const Y=u(t,["tools"]);if(o!==void 0&&Y!=null){let ve=ao(Y);Array.isArray(ve)&&(ve=ve.map(He=>CT(lo(He)))),c(o,["tools"],ve)}const ee=u(t,["toolConfig"]);if(o!==void 0&&ee!=null&&c(o,["toolConfig"],_T(ee)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);o!==void 0&&ne!=null&&c(o,["cachedContent"],yn(i,ne));const F=u(t,["responseModalities"]);F!=null&&c(a,["responseModalities"],F);const fe=u(t,["mediaResolution"]);fe!=null&&c(a,["mediaResolution"],fe);const W=u(t,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],Xu(W)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=u(t,["thinkingConfig"]);ue!=null&&c(a,["thinkingConfig"],ue);const ye=u(t,["imageConfig"]);ye!=null&&c(a,["imageConfig"],fT(ye));const Ae=u(t,["enableEnhancedCivicAnswers"]);return Ae!=null&&c(a,["enableEnhancedCivicAnswers"],Ae),a}function aT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>kS(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function sT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],so(i,a)),o}function rT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],so(i,a)),o}function uT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function cT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function fT(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function dT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["request","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let g=Vt(r);Array.isArray(g)&&(g=g.map(y=>Tg(y))),c(o,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],lT(i,p,u(o,["request"],{}))),o}function pT(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],aT(o));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function mT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function hT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),o}function gT(i){const t={},o=u(i,["config"]);return o!=null&&mT(o,t),t}function yT(i){const t={},o=u(i,["config"]);return o!=null&&hT(o,t),t}function vT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>ba(p))),c(t,["batchJobs"],f)}return t}function ST(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Iu(p))),c(t,["batchJobs"],f)}return t}function TT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],nT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],iT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],PS(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function ET(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function _T(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],oT(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function CT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],uT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],cT(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(hn||(hn={}));class di{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(hn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Lh(this.apiClient,t),a=o._url,r=Q("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=E,T.request=C}h.push(T)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=YS(this.apiClient,t);return g=Q("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Iu(v))}else{const h=Lh(this.apiClient,t);return g=Q("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>ba(v))}}async createEmbeddingsInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=XS(this.apiClient,t);return f=Q("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>ba(y))}}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=rT(this.apiClient,t);return g=Q("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Iu(v))}else{const h=sT(this.apiClient,t);return g=Q("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>ba(v))}}async cancel(t){var o,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=zS(this.apiClient,t);p=Q("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=BS(this.apiClient,t);p=Q("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=yT(t);return g=Q("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=ST(v),E=new Ih;return Object.assign(E,T),E})}else{const h=gT(t);return g=Q("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=vT(v),E=new Ih;return Object.assign(E,T),E})}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ZS(this.apiClient,t);return g=Q("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>WS(v))}else{const h=QS(this.apiClient,t);return g=Q("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>$S(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Gh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>XT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function NT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=Vt(p);Array.isArray(v)&&(v=v.map(T=>Gh(T))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Gh(lt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>ZT(T))),c(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],QT(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function MT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let T=Vt(p);Array.isArray(T)&&(T=T.map(E=>E)),c(t,["contents"],T)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],lt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>$T(E))),c(t,["tools"],T)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function xT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],rg(i,a));const r=u(t,["config"]);return r!=null&&NT(r,o),o}function wT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],rg(i,a));const r=u(t,["config"]);return r!=null&&MT(r,o),o}function IT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],yn(i,a)),o}function DT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],yn(i,a)),o}function bT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function UT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function LT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function GT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function HT(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function qT(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function VT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],yn(i,a)),o}function PT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],yn(i,a)),o}function BT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function zT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function kT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function OT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function FT(i){const t={},o=u(i,["config"]);return o!=null&&kT(o,t),t}function JT(i){const t={},o=u(i,["config"]);return o!=null&&OT(o,t),t}function YT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function KT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function XT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],LT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],GT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],RT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function QT(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],HT(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function ZT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],BT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],zT(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function $T(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>qT(E))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function WT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function jT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function eE(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],yn(i,a));const r=u(t,["config"]);return r!=null&&WT(r,o),o}function tE(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],yn(i,a));const r=u(t,["config"]);return r!=null&&jT(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nE extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(hn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=wT(this.apiClient,t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=xT(this.apiClient,t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=PT(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=VT(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=DT(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=UT(v),E=new xh;return Object.assign(E,T),E})}else{const h=IT(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=bT(v),E=new xh;return Object.assign(E,T),E})}}async update(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=tE(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=eE(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=JT(t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=KT(v),E=new wh;return Object.assign(E,T),E})}else{const h=FT(t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=YT(v),E=new wh;return Object.assign(E,T),E})}}}function Pa(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function Hh(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ae(i){return this instanceof ae?(this.v=i,this):new ae(i)}function Ot(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(w){return Promise.resolve(w).then(C,T)}}function g(C,w){a[C]&&(r[C]=function(L){return new Promise(function(U,z){f.push([C,L,U,z])>1||y(C,L)})},w&&(r[C]=w(r[C])))}function y(C,w){try{h(a[C](w))}catch(L){E(f[0][3],L)}}function h(C){C.value instanceof ae?Promise.resolve(C.value.v).then(v,T):E(f[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function E(C,w){C(w),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Ft(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Hh=="function"?Hh(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iE(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:Eg(o)}function Eg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function oE(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function qh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),f&&!Eg(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class lE{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new aE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class aE{constructor(t,o,a,r={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),oE(f)}async sendMessage(t){var o;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,h=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(T))!==null&&g!==void 0?g:[]);const C=h?[h]:[];this.recordHistory(a,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=lt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const o=t?qh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Ot(this,arguments,function*(){var r,f,p,g,y,h;const v=[];try{for(var T=!0,E=Ft(t),C;C=yield ae(E.next()),r=C.done,!r;T=!0){g=C.value,T=!1;const w=g;if(iE(w)){const L=(h=(y=w.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;L!==void 0&&v.push(L)}yield yield ae(w)}}catch(w){f={error:w}}finally{try{!T&&!r&&(p=E.return)&&(yield ae(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...qh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Oa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sE(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function rE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function uE(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],mg(o)),t}function cE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function fE(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],mg(o)),t}function dE(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function pE(i){const t={},o=u(i,["config"]);return o!=null&&dE(o,t),t}function mE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hE extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(hn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=pE(t);return f=Q("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=mE(y),v=new SS;return Object.assign(v,h),v})}}async createInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sE(t);return f=Q("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=rE(y),v=new TS;return Object.assign(v,h),v})}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=fE(t);return f=Q("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=uE(t);return f=Q("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=cE(y),v=new ES;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ua(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function gE(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>bE(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function yE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function vE(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function SE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function TE(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const w=u(i,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const L=u(i,["responseSchema"]);L!=null&&c(t,["responseSchema"],L);const U=u(i,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const z=u(i,["seed"]);z!=null&&c(t,["seed"],z);const K=u(i,["speechConfig"]);K!=null&&c(t,["speechConfig"],_g(K));const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const Y=u(i,["temperature"]);Y!=null&&c(t,["temperature"],Y);const ee=u(i,["thinkingConfig"]);ee!=null&&c(t,["thinkingConfig"],ee);const ne=u(i,["topK"]);ne!=null&&c(t,["topK"],ne);const F=u(i,["topP"]);if(F!=null&&c(t,["topP"],F),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function EE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function _E(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function CE(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Qu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],gE(lt(w)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let ne=ao(L);Array.isArray(ne)&&(ne=ne.map(F=>LE(lo(F)))),c(t,["setup","tools"],ne)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],UE(U));const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const Y=u(i,["contextWindowCompression"]);t!==void 0&&Y!=null&&c(t,["setup","contextWindowCompression"],Y);const ee=u(i,["proactivity"]);if(t!==void 0&&ee!=null&&c(t,["setup","proactivity"],ee),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function AE(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],TE(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],_g(Qu(T)));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],lt(w));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let F=ao(L);Array.isArray(F)&&(F=F.map(fe=>GE(lo(fe)))),c(t,["setup","tools"],F)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],U);const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const Y=u(i,["contextWindowCompression"]);t!==void 0&&Y!=null&&c(t,["setup","contextWindowCompression"],Y);const ee=u(i,["proactivity"]);t!==void 0&&ee!=null&&c(t,["setup","proactivity"],ee);const ne=u(i,["explicitVadSignal"]);return t!==void 0&&ne!=null&&c(t,["setup","explicitVadSignal"],ne),o}function RE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ce(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],CE(r,o)),o}function NE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ce(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],AE(r,o)),o}function ME(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function xE(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function wE(i){const t={},o=u(i,["media"]);if(o!=null){let h=ug(o);Array.isArray(h)&&(h=h.map(v=>Ua(v))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Ua(fg(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Ua(cg(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function IE(i){const t={},o=u(i,["media"]);if(o!=null){let h=ug(o);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],fg(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],cg(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function DE(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],HE(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function bE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],yE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],vE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Ua(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function UE(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function _g(i){const t={},o=u(i,["voiceConfig"]);o!=null&&c(t,["voiceConfig"],o);const a=u(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function LE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],EE(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],_E(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function GE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>SE(E))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function HE(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["promptTokensDetails"],C)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["cacheTokensDetails"],C)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["responseTokensDetails"],C)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["toolUsePromptTokensDetails"],C)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qE(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function VE(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],PE(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function PE(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function BE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let f=Vt(r);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["contents"],f)}return o}function zE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function kE(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],OE(a)),t}function OE(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Fa(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>W_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function FE(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function JE(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function YE(i,t){const o={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],lt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>Mg(g))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],q_(f)),o}function KE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>Fa(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&JE(f),o}function XE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&YE(f,o),o}function QE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function ZE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function $E(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ce(i,a)),o}function WE(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ce(i,a)),o}function jE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function e_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function t_(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","compressionQuality"],L);const U=u(i,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const z=u(i,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const K=u(i,["editMode"]);t!==void 0&&K!=null&&c(t,["parameters","editMode"],K);const O=u(i,["baseSteps"]);return t!==void 0&&O!=null&&c(t,["parameters","editConfig","baseSteps"],O),o}function n_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>oC(y))),c(o,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&t_(p,o),o}function i_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Ja(f))),c(t,["generatedImages"],r)}return t}function o_(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function l_(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function a_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let g=Yu(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&o_(f,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],Ce(i,p)),o}function s_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let p=Yu(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&l_(f,o),o}function r_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function u_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>kE(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function c_(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function f_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function d_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function p_(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function m_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function h_(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Fa(lt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&c(a,["frequencyPenalty"],w);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Ku(z));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(a,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let ve=O;Array.isArray(ve)&&(ve=ve.map(He=>lC(He))),c(o,["safetySettings"],ve)}const Y=u(t,["tools"]);if(o!==void 0&&Y!=null){let ve=ao(Y);Array.isArray(ve)&&(ve=ve.map(He=>dC(lo(He)))),c(o,["tools"],ve)}const ee=u(t,["toolConfig"]);if(o!==void 0&&ee!=null&&c(o,["toolConfig"],fC(ee)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);o!==void 0&&ne!=null&&c(o,["cachedContent"],yn(i,ne));const F=u(t,["responseModalities"]);F!=null&&c(a,["responseModalities"],F);const fe=u(t,["mediaResolution"]);fe!=null&&c(a,["mediaResolution"],fe);const W=u(t,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],Xu(W)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=u(t,["thinkingConfig"]);ue!=null&&c(a,["thinkingConfig"],ue);const ye=u(t,["imageConfig"]);ye!=null&&c(a,["imageConfig"],k_(ye));const Ae=u(t,["enableEnhancedCivicAnswers"]);return Ae!=null&&c(a,["enableEnhancedCivicAnswers"],Ae),a}function g_(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],lt(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&c(a,["frequencyPenalty"],w);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Ku(z));const K=u(t,["responseJsonSchema"]);K!=null&&c(a,["responseJsonSchema"],K);const O=u(t,["routingConfig"]);O!=null&&c(a,["routingConfig"],O);const Y=u(t,["modelSelectionConfig"]);Y!=null&&c(a,["modelConfig"],Y);const ee=u(t,["safetySettings"]);if(o!==void 0&&ee!=null){let H=ee;Array.isArray(H)&&(H=H.map(J=>J)),c(o,["safetySettings"],H)}const ne=u(t,["tools"]);if(o!==void 0&&ne!=null){let H=ao(ne);Array.isArray(H)&&(H=H.map(J=>Mg(lo(J)))),c(o,["tools"],H)}const F=u(t,["toolConfig"]);o!==void 0&&F!=null&&c(o,["toolConfig"],F);const fe=u(t,["labels"]);o!==void 0&&fe!=null&&c(o,["labels"],fe);const W=u(t,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],yn(i,W));const ue=u(t,["responseModalities"]);ue!=null&&c(a,["responseModalities"],ue);const ye=u(t,["mediaResolution"]);ye!=null&&c(a,["mediaResolution"],ye);const Ae=u(t,["speechConfig"]);Ae!=null&&c(a,["speechConfig"],Ng(Xu(Ae)));const ve=u(t,["audioTimestamp"]);ve!=null&&c(a,["audioTimestamp"],ve);const He=u(t,["thinkingConfig"]);He!=null&&c(a,["thinkingConfig"],He);const it=u(t,["imageConfig"]);if(it!=null&&c(a,["imageConfig"],O_(it)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function Vh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>Fa(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],h_(i,f,o)),o}function Ph(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],g_(i,f,o)),o}function Bh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>VE(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function zh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function y_(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function v_(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","compressionQuality"],L);const U=u(i,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const z=u(i,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const K=u(i,["imageSize"]);t!==void 0&&K!=null&&c(t,["parameters","sampleImageSize"],K);const O=u(i,["enhancePrompt"]);return t!==void 0&&O!=null&&c(t,["parameters","enhancePrompt"],O),o}function S_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&y_(f,o),o}function T_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&v_(f,o),o}function E_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>U_(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Ag(r)),t}function __(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Ja(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Rg(r)),t}function C_(i,t){const o={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Ya(v));const T=u(i,["referenceImages"]);if(t!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(C=>RC(C))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function A_(i,t){const o={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const w=u(i,["generateAudio"]);t!==void 0&&w!=null&&c(t,["parameters","generateAudio"],w);const L=u(i,["lastFrame"]);t!==void 0&&L!=null&&c(t,["instances[0]","lastFrame"],Jt(L));const U=u(i,["referenceImages"]);if(t!==void 0&&U!=null){let O=U;Array.isArray(O)&&(O=O.map(Y=>NC(Y))),c(t,["instances[0]","referenceImages"],O)}const z=u(i,["mask"]);t!==void 0&&z!=null&&c(t,["instances[0]","mask"],AC(z));const K=u(i,["compressionQuality"]);return t!==void 0&&K!=null&&c(t,["parameters","compressionQuality"],K),o}function R_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],w_(p)),t}function N_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],I_(p)),t}function M_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Ya(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],xg(p));const g=u(t,["source"]);g!=null&&D_(g,o);const y=u(t,["config"]);return y!=null&&C_(y,o),o}function x_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Jt(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],wg(p));const g=u(t,["source"]);g!=null&&b_(g,o);const y=u(t,["config"]);return y!=null&&A_(y,o),o}function w_(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>G_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function I_(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>H_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function D_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ya(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],xg(f)),o}function b_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Jt(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],wg(f)),o}function U_(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],F_(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],Ag(r)),t}function Ja(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],Cg(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],Rg(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function L_(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],Cg(o));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function G_(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],_C(o)),t}function H_(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],CC(o)),t}function q_(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const w=u(i,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const L=u(i,["responseSchema"]);L!=null&&c(t,["responseSchema"],L);const U=u(i,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const z=u(i,["seed"]);z!=null&&c(t,["seed"],z);const K=u(i,["speechConfig"]);K!=null&&c(t,["speechConfig"],Ng(K));const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const Y=u(i,["temperature"]);Y!=null&&c(t,["temperature"],Y);const ee=u(i,["thinkingConfig"]);ee!=null&&c(t,["thinkingConfig"],ee);const ne=u(i,["topK"]);ne!=null&&c(t,["topK"],ne);const F=u(i,["topP"]);if(F!=null&&c(t,["topP"],F),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function V_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ce(i,a)),o}function P_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ce(i,a)),o}function B_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function z_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function k_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function O_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const f=u(i,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function F_(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Jn(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Cg(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Ya(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Jn(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Jt(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function J_(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],hg(i,g)),a}function Y_(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],hg(i,g)),a}function K_(i,t){const o={},a=u(t,["config"]);return a!=null&&J_(i,a,o),o}function X_(i,t){const o={},a=u(t,["config"]);return a!=null&&Y_(i,a,o),o}function Q_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=gg(r);Array.isArray(f)&&(f=f.map(p=>Du(p))),c(t,["models"],f)}return t}function Z_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=gg(r);Array.isArray(f)&&(f=f.map(p=>bu(p))),c(t,["models"],f)}return t}function $_(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Du(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],pC(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const T=u(i,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const C=u(i,["topK"]);C!=null&&c(t,["topK"],C);const w=u(i,["thinking"]);return w!=null&&c(t,["thinking"],w),t}function bu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>c_(E))),c(t,["endpoints"],T)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],mC(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>E)),c(t,["checkpoints"],T)}return t}function W_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],f_(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],d_(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],qE(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function j_(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],Jt(o)),t}function eC(i,t){const o={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const T=u(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const C=u(i,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),o}function tC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["source"]);r!=null&&iC(r,o);const f=u(t,["config"]);return f!=null&&eC(f,o),o}function nC(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>Ja(r))),c(t,["generatedImages"],a)}return t}function iC(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Jt(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>j_(g))),c(t,["instances[0]","productImages"],p)}return o}function oC(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],Jt(o));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],$_(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],FE(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Ag(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Rg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function lC(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function aC(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],Jt(o)),t}function sC(i,t){const o={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function rC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["source"]);r!=null&&cC(r,o);const f=u(t,["config"]);return f!=null&&sC(f,o),o}function uC(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>L_(r))),c(t,["generatedMasks"],a)}return t}function cC(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Jt(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],aC(f)),o}function Ng(i){const t={},o=u(i,["voiceConfig"]);o!=null&&c(t,["voiceConfig"],o);const a=u(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function fC(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],p_(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function dC(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],B_(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],z_(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function Mg(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>m_(E))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function pC(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function mC(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function hC(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function gC(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function yC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","name"],Ce(i,a));const r=u(t,["config"]);return r!=null&&hC(r,o),o}function vC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["config"]);return r!=null&&gC(r,o),o}function SC(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const C=u(i,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),o}function TC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ce(i,a));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Jt(r));const f=u(t,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&SC(p,o),o}function EC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Ja(f))),c(t,["generatedImages"],r)}return t}function _C(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Jn(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function CC(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function AC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],Jt(o));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function RC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Ya(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function NC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Jt(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function xg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function wg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MC(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function xC(i){const t={},o=u(i,["config"]);return o!=null&&MC(o,t),t}function wC(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function IC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&wC(a,t),t}function DC(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function bC(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function UC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],GC(p)),t}function LC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&bC(r,t),t}function GC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function HC(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function qC(i){const t={},o=u(i,["config"]);return o!=null&&HC(o,t),t}function VC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function Ig(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function PC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&Ig(a,t),t}function BC(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zC="Content-Type",kC="X-Server-Timeout",OC="User-Agent",Uu="x-goog-api-client",FC="1.33.0",JC=`google-genai-sdk/${FC}`,YC="v1beta1",KC="v1beta";class XC{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:YC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:KC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(o))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const f=new AbortController,p=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>f.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return o&&o.extraBody!==null&&QC(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await kh(r),new xu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await kh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Ot(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield ae(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=f.decode(v,{stream:!0});try{const w=JSON.parse(T);if("error"in w){const L=JSON.parse(JSON.stringify(w.error)),U=L.status,z=L.code,K=`got status: ${U}. ${JSON.stringify(w)}`;if(z>=400&&z<600)throw new Oa({message:K,status:z})}}catch(w){if(w.name==="ApiError")throw w}p+=T;let E=-1,C=0;for(;;){E=-1,C=0;for(const U of y){const z=p.indexOf(U);z!==-1&&(E===-1||z<E)&&(E=z,C=U.length)}if(E===-1)break;const w=p.substring(0,E);p=p.substring(E+C);const L=w.trim();if(L.startsWith(g)){const U=L.substring(g.length).trim();try{const z=new Response(U,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ae(new xu(z))}catch(z){throw new Error(`exception parsing stream chunk ${U}. ${z}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=JC+" "+this.clientOptions.userAgentExtra;return t[OC]=o,t[Uu]=o,t[zC]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(kC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=Q("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,o==null?void 0:o.httpOptions);return f.upload(t,T,this)}async uploadFileToFileSearchStore(t,o,a){var r;const f=this.clientOptions.uploader,p=await f.stat(o),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),T={};a!=null&&Ig(a,T);const E=await this.fetchUploadUrl(h,g,y,v,T,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function kh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new Oa({message:r,status:o}):new Error(r)}}function QC(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZC="mcp_used/unknown";let $C=!1;function Dg(i){for(const t of i)if(WC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return $C}function bg(i){var t;const o=(t=i[Uu])!==null&&t!==void 0?t:"";i[Uu]=(o+` ${ZC}`).trimStart()}function WC(i){return i!==null&&typeof i=="object"&&i instanceof Zu}function jC(i){return Ot(this,arguments,function*(o,a=100){let r,f=0;for(;f<a;){const p=yield ae(o.listTools({cursor:r}));for(const g of p.tools)yield yield ae(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class Zu{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Zu(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Ft(jC(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const T=r;p.push(T);const E=T.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=v}}catch(T){o={error:T}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),DS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function eA(i,t,o){const a=new CS;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class tA{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=oA(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(O=>{h=O}),T=t.callbacks,E=function(){h({})},C=this.apiClient,w={onopen:E,onmessage:O=>{eA(C,T.onmessage,O)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(O){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(O){}},L=this.webSocketFactory.create(y,iA(p),w);L.connect(),await v;const K={setup:{model:Ce(this.apiClient,t.model)}};return L.send(JSON.stringify(K)),new nA(L,this.apiClient)}}class nA{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=xE(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=ME(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Wi.PLAY)}pause(){this.sendPlaybackControl(Wi.PAUSE)}stop(){this.sendPlaybackControl(Wi.STOP)}resetContext(){this.sendPlaybackControl(Wi.RESET_CONTEXT)}close(){this.conn.close()}}function iA(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function oA(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function aA(i,t,o){const a=new _S;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=DE(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class sA{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new tA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&Dg(t.config.tools)&&bg(T);const E=fA(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const W=this.apiClient.getApiKey();let ue="BidiGenerateContent",ye="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",ye="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ue}?${ye}=${W}`}let C=()=>{};const w=new Promise(W=>{C=W}),L=t.callbacks,U=function(){var W;(W=L==null?void 0:L.onopen)===null||W===void 0||W.call(L),C({})},z=this.apiClient,K={onopen:U,onmessage:W=>{aA(z,L.onmessage,W)},onerror:(o=L==null?void 0:L.onerror)!==null&&o!==void 0?o:function(W){},onclose:(a=L==null?void 0:L.onclose)!==null&&a!==void 0?a:function(W){}},O=this.webSocketFactory.create(v,cA(E),K);O.connect(),await w;let Y=Ce(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&Y.startsWith("publishers/")){const W=this.apiClient.getProject(),ue=this.apiClient.getLocation();Y=`projects/${W}/locations/${ue}/`+Y}let ee={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ha.AUDIO]}:t.config.responseModalities=[Ha.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],F=[];for(const W of ne)if(this.isCallableTool(W)){const ue=W;F.push(await ue.tool())}else F.push(W);F.length>0&&(t.config.tools=F);const fe={model:Y,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?ee=NE(this.apiClient,fe):ee=RE(this.apiClient,fe),delete ee.config,O.send(JSON.stringify(ee)),new uA(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const rA={turnComplete:!0};class uA{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Vt(o.turns),t.isVertexAI()||(a=a.map(r=>Fa(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(lA)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},rA),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:IE(t)}:o={realtimeInput:wE(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function cA(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function fA(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oh=10;function Fh(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(to(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function to(i){return"callTool"in i&&typeof i.callTool=="function"}function dA(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>to(r)))!==null&&a!==void 0?a:!1}function Jh(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(to(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function Yh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pA extends gn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!dA(o)||Fh(o.config))return await this.generateContentInternal(y);const h=Jh(o);if(h.length>0){const L=h.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let v,T;const E=Vt(y.contents),C=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Oh;let w=0;for(;w<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const L=v.candidates[0].content,U=[];for(const z of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(to(z)){const O=await z.callTool(v.functionCalls);U.push(...O)}w++,T={role:"user",parts:U},y.contents=Vt(y.contents),y.contents.push(L),y.contents.push(T),Yh(y.config)&&(E.push(L),E.push(T))}return Yh(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(o),Fh(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const y=Jh(o);if(y.length>0){const T=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new di(hn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,f,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>to(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Dg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),bg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,a,r;const f=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(to(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(t){var o,a,r;const f=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Oh;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,T){return Ot(this,arguments,function*(){for(var E,C,w,L,U,z;g<f;){p&&(g++,p=!1);const ee=yield ae(h.processParamsMaybeAddMcpUsage(T)),ne=yield ae(h.generateContentStreamInternal(ee)),F=[],fe=[];try{for(var K=!0,O=(C=void 0,Ft(ne)),Y;Y=yield ae(O.next()),E=Y.done,!E;K=!0){L=Y.value,K=!1;const W=L;if(yield yield ae(W),W.candidates&&(!((U=W.candidates[0])===null||U===void 0)&&U.content)){fe.push(W.candidates[0].content);for(const ue of(z=W.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(g<f&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ue.functionCall.name)){const ye=yield ae(v.get(ue.functionCall.name).callTool([ue.functionCall]));F.push(...ye)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(W){C={error:W}}finally{try{!K&&!E&&(w=O.return)&&(yield ae(w.call(O)))}finally{if(C)throw C.error}}if(F.length>0){p=!0;const W=new ll;W.candidates=[{content:{role:"user",parts:F}}],yield yield ae(W);const ue=[];ue.push(...fe),ue.push({role:"user",parts:F});const ye=Vt(T.contents).concat(ue);T.contents=ye}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Ph(this.apiClient,t);return g=Q("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=zh(v),E=new ll;return Object.assign(E,T),E})}else{const h=Vh(this.apiClient,t);return g=Q("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Bh(v),E=new ll;return Object.assign(E,T),E})}}async generateContentStreamInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Ph(this.apiClient,t);return g=Q("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(T){return Ot(this,arguments,function*(){var E,C,w,L;try{for(var U=!0,z=Ft(T),K;K=yield ae(z.next()),E=K.done,!E;U=!0){L=K.value,U=!1;const O=L,Y=zh(yield ae(O.json()));Y.sdkHttpResponse={headers:O.headers};const ee=new ll;Object.assign(ee,Y),yield yield ae(ee)}}catch(O){C={error:O}}finally{try{!U&&!E&&(w=z.return)&&(yield ae(w.call(z)))}finally{if(C)throw C.error}}})})}else{const h=Vh(this.apiClient,t);return g=Q("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(T){return Ot(this,arguments,function*(){var E,C,w,L;try{for(var U=!0,z=Ft(T),K;K=yield ae(z.next()),E=K.done,!E;U=!0){L=K.value,U=!1;const O=L,Y=Bh(yield ae(O.json()));Y.sdkHttpResponse={headers:O.headers};const ee=new ll;Object.assign(ee,Y),yield yield ae(ee)}}catch(O){C={error:O}}finally{try{!U&&!E&&(w=z.return)&&(yield ae(w.call(z)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=s_(this.apiClient,t);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=u_(v),E=new Eh;return Object.assign(E,T),E})}else{const h=a_(this.apiClient,t);return g=Q("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=r_(v),E=new Eh;return Object.assign(E,T),E})}}async generateImagesInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=T_(this.apiClient,t);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=__(v),E=new _h;return Object.assign(E,T),E})}else{const h=S_(this.apiClient,t);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=E_(v),E=new _h;return Object.assign(E,T),E})}}async editImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=n_(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=i_(y),v=new fS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=TC(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=EC(y),v=new dS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=tC(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=nC(y),v=new pS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=rC(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=uC(y),v=new mS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=P_(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>bu(v))}else{const h=V_(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Du(v))}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=X_(this.apiClient,t);return g=Q("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Z_(v),E=new Ch;return Object.assign(E,T),E})}else{const h=K_(this.apiClient,t);return g=Q("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Q_(v),E=new Ch;return Object.assign(E,T),E})}}async update(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=vC(this.apiClient,t);return g=Q("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>bu(v))}else{const h=yC(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Du(v))}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=WE(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=e_(v),E=new Ah;return Object.assign(E,T),E})}else{const h=$E(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=jE(v),E=new Ah;return Object.assign(E,T),E})}}async countTokens(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=XE(this.apiClient,t);return g=Q("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=ZE(v),E=new Rh;return Object.assign(E,T),E})}else{const h=KE(this.apiClient,t);return g=Q("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=QE(v),E=new Rh;return Object.assign(E,T),E})}}async computeTokens(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=BE(this.apiClient,t);return f=Q("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=zE(y),v=new hS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=x_(this.apiClient,t);return g=Q("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const T=N_(v),E=new qa;return Object.assign(E,T),E})}else{const h=M_(this.apiClient,t);return g=Q("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const T=R_(v),E=new qa;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mA extends gn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=lS(t);return g=Q("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=oS(t);return g=Q("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=$0(t);return f=Q("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hA(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function gA(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>RA(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function yA(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],AA(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function vA(i,t){const o={},a=u(t,["config"]);return a!=null&&c(o,["config"],yA(i,a,o)),o}function SA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function TA(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function EA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function _A(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function CA(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Qu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],gA(lt(w)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let ne=ao(L);Array.isArray(ne)&&(ne=ne.map(F=>MA(lo(F)))),c(t,["setup","tools"],ne)}const U=u(i,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],NA(U));const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const Y=u(i,["contextWindowCompression"]);t!==void 0&&Y!=null&&c(t,["setup","contextWindowCompression"],Y);const ee=u(i,["proactivity"]);if(t!==void 0&&ee!=null&&c(t,["setup","proactivity"],ee),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function AA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ce(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],CA(r,o)),o}function RA(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],SA(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],TA(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],hA(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function NA(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function MA(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],EA(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],_A(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xA(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${o}.${f}`);t.push(...r)}else t.push(o)}return t.join(",")}function wA(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const f=xA(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class IA extends gn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=vA(this.apiClient,t);f=Q("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=wA(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DA(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function bA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&DA(a,t),t}function UA(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function LA(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function GA(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&LA(a,t),t}function HA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qA extends gn{constructor(t){super(),this.apiClient=t,this.list=async o=>new di(hn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=UA(t);return f=Q("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=bA(t);r=Q("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GA(t);return f=Q("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=HA(y),v=new gS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VA extends gn{constructor(t,o=new qA(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new di(hn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xC(t);return f=Q("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DC(t);return f=Q("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=IC(t);r=Q("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qC(t);return f=Q("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=VC(y),v=new yS;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PC(t);return f=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=BC(y),v=new vS;return Object.assign(v,h),v})}}async importFile(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=LC(t);return f=Q("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=UC(y),v=new Fu;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ug=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Ug=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const PA=()=>Ug();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Gu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pt extends Error{}class ut extends Pt{constructor(t,o,a,r){super(`${ut.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new Ka({message:a,cause:Gu(o)});const f=o;return t===400?new Gg(t,f,a,r):t===401?new Hg(t,f,a,r):t===403?new qg(t,f,a,r):t===404?new Vg(t,f,a,r):t===409?new Pg(t,f,a,r):t===422?new Bg(t,f,a,r):t===429?new zg(t,f,a,r):t>=500?new kg(t,f,a,r):new ut(t,f,a,r)}}class Hu extends ut{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ka extends ut{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class Lg extends Ka{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Gg extends ut{}class Hg extends ut{}class qg extends ut{}class Vg extends ut{}class Pg extends ut{}class Bg extends ut{}class zg extends ut{}class kg extends ut{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BA=/^[a-z][a-z0-9+.-]*:/i,zA=i=>BA.test(i);let qu=i=>(qu=Array.isArray,qu(i));const kA=qu;let OA=kA;const Kh=OA;function FA(i){if(!i)return!0;for(const t in i)return!1;return!0}function JA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const YA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Pt(`${i} must be an integer`);if(t<0)throw new Pt(`${i} must be a positive integer`);return t},KA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $i="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const ZA=()=>{var i,t,o,a,r;const f=QA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":Qh(Deno.build.os),"X-Stainless-Arch":Xh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":Qh((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Xh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=$A();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$i,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function $A(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const Xh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Qh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ra;const WA=()=>Ra??(Ra=ZA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Og(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function eR(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Og({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Fg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function tR(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nR=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Tu(i,t,o){return Jg(),new File(i,t??"unknown_file",o)}function iR(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const oR=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",lR=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Yg(i),aR=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function sR(i,t,o){if(Jg(),i=await i,lR(i))return i instanceof File?i:Tu([await i.arrayBuffer()],i.name);if(aR(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Tu(await Vu(r),t,o)}const a=await Vu(i);if(t||(t=iR(i)),!(o!=null&&o.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return Tu(a,t,o)}async function Vu(i){var t,o,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Yg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(oR(i))try{for(var g=!0,y=Ft(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;p.push(...await Vu(v))}}catch(v){o={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${rR(i)}`)}return p}function rR(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kg{constructor(t){this._client=t}}Kg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Zh=Object.freeze(Object.create(null)),uR=(i=Xg)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const f=[],p=o.reduce((v,T,E)=>{var C,w,L;/[?#]/.test(T)&&(r=!0);const U=a[E];let z=(r?encodeURIComponent:i)(""+U);return E!==a.length&&(U==null||typeof U=="object"&&U.toString===((L=Object.getPrototypeOf((w=Object.getPrototypeOf((C=U.hasOwnProperty)!==null&&C!==void 0?C:Zh))!==null&&w!==void 0?w:Zh))===null||L===void 0?void 0:L.toString))&&(z=U+"",f.push({start:v.length+T.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),v+T+(E===a.length?"":z)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)f.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(f.sort((v,T)=>v.start-T.start),f.length>0){let v=0;const T=f.reduce((E,C)=>{const w=" ".repeat(C.start-v),L="^".repeat(C.length);return v=C.start+C.length,E+w+L},"");throw new Pt(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${p}
${T}`)}return p}),Na=uR(Xg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qg extends Kg{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,f=Pa(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Pt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Pt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Na`/${r}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Na`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Na`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const f=o??{},{api_version:p=this._client.apiVersion}=f,g=Pa(f,["api_version"]);return this._client.get(Na`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Qg._key=Object.freeze(["interactions"]);class Zg extends Qg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cR(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Ma;function $u(i){let t;return(Ma??(t=new globalThis.TextEncoder,Ma=t.encode.bind(t)))(i)}let xa;function $h(i){let t;return(xa??(t=new globalThis.TextDecoder,xa=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?$u(t):t;this.buffer=cR([this.buffer,o]);const a=[];let r;for(;(r=fR(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push($h(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=$h(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Xa.NEWLINE_CHARS=new Set([`
`,"\r"]);Xa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function fR(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function dR(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ba={off:0,error:200,warn:300,info:400,debug:500},Wh=(i,t,o)=>{if(i){if(JA(Ba,i))return i;st(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Ba))}`)}};function al(){}function wa(i,t,o){return!t||Ba[i]>Ba[o]?al:t[i].bind(t)}const pR={error:al,warn:al,info:al,debug:al};let jh=new WeakMap;function st(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return pR;const r=jh.get(o);if(r&&r[0]===a)return r[1];const f={error:wa("error",o,a),warn:wa("warn",o,a),info:wa("info",o,a),debug:wa("debug",o,a)};return jh.set(o,[a,f]),f}const fi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ji{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const f=a?st(a):console;function p(){return Ot(this,arguments,function*(){var y,h,v,T;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,w=Ft(mR(t,o)),L;L=yield ae(w.next()),y=L.done,!y;C=!0){T=L.value,C=!1;const U=T;if(!E)if(U.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield ae(JSON.parse(U.data))}catch(z){throw f.error("Could not parse message into JSON:",U.data),f.error("From chunk:",U.raw),z}}}catch(U){h={error:U}}finally{try{!C&&!y&&(v=w.return)&&(yield ae(v.call(w)))}finally{if(h)throw h.error}}E=!0}catch(U){if(Lu(U))return yield ae(void 0);throw U}finally{E||o.abort()}})}return new ji(p,o,a)}static fromReadableStream(t,o,a){let r=!1;function f(){return Ot(this,arguments,function*(){var y,h,v,T;const E=new Xa,C=Fg(t);try{for(var w=!0,L=Ft(C),U;U=yield ae(L.next()),y=U.done,!y;w=!0){T=U.value,w=!1;const z=T;for(const K of E.decode(z))yield yield ae(K)}}catch(z){h={error:z}}finally{try{!w&&!y&&(v=L.return)&&(yield ae(v.call(L)))}finally{if(h)throw h.error}}for(const z of E.flush())yield yield ae(z)})}function p(){return Ot(this,arguments,function*(){var y,h,v,T;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,w=Ft(f()),L;L=yield ae(w.next()),y=L.done,!y;C=!0){T=L.value,C=!1;const U=T;E||U&&(yield yield ae(JSON.parse(U)))}}catch(U){h={error:U}}finally{try{!C&&!y&&(v=w.return)&&(yield ae(v.call(w)))}finally{if(h)throw h.error}}E=!0}catch(U){if(Lu(U))return yield ae(void 0);throw U}finally{E||o.abort()}})}return new ji(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),o.push(p)}return f.shift()}});return[new ji(()=>r(t),this.controller,this.client),new ji(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Og({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await o.next();if(f)return a.close();const p=$u(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function mR(i,t){return Ot(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Pt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Pt("Attempted to iterate over a response with no body");const g=new gR,y=new Xa,h=Fg(i.body);try{for(var v=!0,T=Ft(hR(h)),E;E=yield ae(T.next()),a=E.done,!a;v=!0){p=E.value,v=!1;const C=p;for(const w of y.decode(C)){const L=g.decode(w);L&&(yield yield ae(L))}}}catch(C){r={error:C}}finally{try{!v&&!a&&(f=T.return)&&(yield ae(f.call(T)))}finally{if(r)throw r.error}}for(const C of y.flush()){const w=g.decode(C);w&&(yield yield ae(w))}})}function hR(i){return Ot(this,arguments,function*(){var o,a,r,f;let p=new Uint8Array;try{for(var g=!0,y=Ft(i),h;h=yield ae(y.next()),o=h.done,!o;g=!0){f=h.value,g=!1;const v=f;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?$u(v):v;let E=new Uint8Array(p.length+T.length);E.set(p),E.set(T,p.length),p=E;let C;for(;(C=dR(p))!==-1;)yield yield ae(p.slice(0,C)),p=p.slice(C)}}catch(v){a={error:v}}finally{try{!g&&!o&&(r=y.return)&&(yield ae(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield ae(p))})}class gR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=yR(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function yR(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function vR(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return st(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):ji.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await o.json():await o.text()})();return st(i).debug(`[${a}] response parsed`,fi({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wu extends Promise{constructor(t,o,a=vR){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Wu(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $g=Symbol("brand.privateNullableHeaders");function*SR(i){if(!i)return;if($g in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,o;i instanceof Headers?o=i.entries():Kh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Kh(a[1])?a[1]:[a[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const Eu=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[f,p]of SR(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),o.add(g)):(t.append(f,p),o.delete(g))}}return{[$g]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _u=i=>{var t,o,a,r,f,p;if(typeof globalThis.process<"u")return(a=(o=(t=J0)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wg;class Qa{constructor(t){var o,a,r,f,p,g,y,h=t===void 0?{}:t,{baseURL:v=_u("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:T=(o=_u("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:E="v1beta"}=h,C=Pa(h,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:T,apiVersion:E},C),{baseURL:v||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(a=w.timeout)!==null&&a!==void 0?a:Qa.DEFAULT_TIMEOUT,this.logger=(r=w.logger)!==null&&r!==void 0?r:console;const L="warn";this.logLevel=L,this.logLevel=(p=(f=Wh(w.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Wh(_u("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:L,this.fetchOptions=w.fetchOptions,this.maxRetries=(g=w.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=w.fetch)!==null&&y!==void 0?y:jA(),this.encoder=nR,this._options=w,this.apiKey=T,this.apiVersion=E}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){if(this.apiKey!=null)return Eu([{"x-goog-api-key":this.apiKey}])}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new Pt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${$i}`}defaultIdempotencyKey(){return`stainless-node-retry-${PA()}`}makeStatusError(t,o,a,r){return ut.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=zA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return FA(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(t){}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new Wu(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,f,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:h,url:v,timeout:T}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(h,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,w=Date.now();if(st(this).debug(`[${E}] sending request`,fi({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Hu;const L=new AbortController,U=await this.fetchWithTimeout(v,h,T,L).catch(Gu),z=Date.now();if(U instanceof globalThis.Error){const O=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Hu;const Y=Lu(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(o)return st(this).info(`[${E}] connection ${Y?"timed out":"failed"} - ${O}`),st(this).debug(`[${E}] connection ${Y?"timed out":"failed"} (${O})`,fi({retryOfRequestLogID:a,url:v,durationMs:z-w,message:U.message})),this.retryRequest(g,o,a??E);throw st(this).info(`[${E}] connection ${Y?"timed out":"failed"} - error; no more retries left`),st(this).debug(`[${E}] connection ${Y?"timed out":"failed"} (error; no more retries left)`,fi({retryOfRequestLogID:a,url:v,durationMs:z-w,message:U.message})),Y?new Lg:new Ka({cause:U})}const K=`[${E}${C}] ${h.method} ${v} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${z-w}ms`;if(!U.ok){const O=await this.shouldRetry(U);if(o&&O){const W=`retrying, ${o} attempts remaining`;return await tR(U.body),st(this).info(`${K} - ${W}`),st(this).debug(`[${E}] response error (${W})`,fi({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:z-w})),this.retryRequest(g,o,a??E,U.headers)}const Y=O?"error; no more retries left":"error; not retryable";st(this).info(`${K} - ${Y}`);const ee=await U.text().catch(W=>Gu(W).message),ne=KA(ee),F=ne?void 0:ee;throw st(this).debug(`[${E}] response error (${Y})`,fi({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,message:F,durationMs:Date.now()-w})),this.makeStatusError(U.status,ne,F,U.headers)}return st(this).info(K),st(this).debug(`[${E}] response start`,fi({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:z-w})),{response:U,options:g,controller:L,requestLogID:E,retryOfRequestLogID:a,startTime:w}}async fetchWithTimeout(t,o,a,r){const f=o||{},{signal:p,method:g}=f,y=Pa(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(T.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(h)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,h)}return await XA(p),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const f=o-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,f;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=p,T=this.buildURL(y,h,v);"timeout"in p&&YA("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:C}=this.buildBody({options:p}),w=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:w},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:T,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=Eu([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),WA()),await this.authHeaders(t),this._options.defaultHeaders,a,t.headers]);return this.validateHeaders(p),p.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=Eu([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:eR(t)}:this.encoder({body:t,headers:a})}}Qa.DEFAULT_TIMEOUT=6e4;class $e extends Qa{constructor(){super(...arguments),this.interactions=new Zg(this)}}Wg=$e;$e.GeminiNextGenAPIClient=Wg;$e.GeminiNextGenAPIClientError=Pt;$e.APIError=ut;$e.APIConnectionError=Ka;$e.APIConnectionTimeoutError=Lg;$e.APIUserAbortError=Hu;$e.NotFoundError=Vg;$e.ConflictError=Pg;$e.RateLimitError=zg;$e.BadRequestError=Gg;$e.AuthenticationError=Hg;$e.InternalServerError=kg;$e.PermissionDeniedError=qg;$e.UnprocessableEntityError=Bg;$e.toFile=sR;$e.Interactions=Zg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function ER(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function _R(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function CR(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function AR(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function RR(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],eg(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],eg(C))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(h==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function NR(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&qR(f);const p=u(i,["config"]);return p!=null&&AR(p,o),o}function MR(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&VR(f,o,t);const p=u(i,["config"]);return p!=null&&RR(p,o,t),o}function xR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function wR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function IR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function DR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function bR(i,t){const o={},a=u(i,["config"]);return a!=null&&IR(a,o),o}function UR(i,t){const o={},a=u(i,["config"]);return a!=null&&DR(a,o),o}function LR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>jg(g))),c(o,["tuningJobs"],p)}return o}function GR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Pu(g))),c(o,["tuningJobs"],p)}return o}function HR(i,t){const o={},a=u(i,["name"]);a!=null&&c(o,["model"],a);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function qR(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function VR(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function jg(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],pg(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(o,["description"],v);const T=u(i,["baseModel"]);T!=null&&c(o,["baseModel"],T);const E=u(i,["_self"]);return E!=null&&c(o,["tunedModel"],HR(E)),o}function Pu(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],pg(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(o,["error"],v);const T=u(i,["description"]);T!=null&&c(o,["description"],T);const E=u(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const C=u(i,["tunedModel"]);C!=null&&c(o,["tunedModel"],C);const w=u(i,["preTunedModel"]);w!=null&&c(o,["preTunedModel"],w);const L=u(i,["supervisedTuningSpec"]);L!=null&&c(o,["supervisedTuningSpec"],L);const U=u(i,["preferenceOptimizationSpec"]);U!=null&&c(o,["preferenceOptimizationSpec"],U);const z=u(i,["tuningDataStats"]);z!=null&&c(o,["tuningDataStats"],z);const K=u(i,["encryptionSpec"]);K!=null&&c(o,["encryptionSpec"],K);const O=u(i,["partnerModelTuningSpec"]);O!=null&&c(o,["partnerModelTuningSpec"],O);const Y=u(i,["customBaseModel"]);Y!=null&&c(o,["customBaseModel"],Y);const ee=u(i,["experiment"]);ee!=null&&c(o,["experiment"],ee);const ne=u(i,["labels"]);ne!=null&&c(o,["labels"],ne);const F=u(i,["outputUri"]);F!=null&&c(o,["outputUri"],F);const fe=u(i,["pipelineJob"]);fe!=null&&c(o,["pipelineJob"],fe);const W=u(i,["serviceAccount"]);W!=null&&c(o,["serviceAccount"],W);const ue=u(i,["tunedModelDisplayName"]);ue!=null&&c(o,["tunedModelDisplayName"],ue);const ye=u(i,["veoTuningSpec"]);return ye!=null&&c(o,["veoTuningSpec"],ye),o}function PR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function eg(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BR extends gn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new di(hn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:Mu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=wR(t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Pu(v))}else{const h=xR(t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>jg(v))}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=UR(t);return g=Q("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=GR(v),E=new Nh;return Object.assign(E,T),E})}else{const h=bR(t);return g=Q("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=LR(v),E=new Nh;return Object.assign(E,T),E})}}async cancel(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ER(t);return g=Q("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=CR(v),E=new Mh;return Object.assign(E,T),E})}else{const h=TR(t);return g=Q("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=_R(v),E=new Mh;return Object.assign(E,T),E})}}async tuneInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=MR(t,t);return f=Q("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Pu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NR(t);return f=Q("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>PR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zR{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const kR=1024*1024*8,OR=3,FR=1e3,JR=2,za="x-goog-upload-status";async function YR(i,t,o){var a;const r=await ey(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[za])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function KR(i,t,o){var a;const r=await ey(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[za])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=sg(f),g=new Ju;return Object.assign(g,p),g}async function ey(i,t,o){var a,r;let f=0,p=0,g=new xu(new Response),y="upload";for(f=i.size;p<f;){const h=Math.min(kR,f-p),v=i.slice(p,p+h);p+h>=f&&(y+=", finalize");let T=0,E=FR;for(;T<OR&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[za]));)T++,await QR(E),E=E*JR;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[za])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function XR(i){return{size:i.size,type:i.type}}function QR(i){return new Promise(t=>setTimeout(t,i))}class ZR{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await YR(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await KR(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await XR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $R{create(t,o,a){return new WR(t,o,a)}}class WR{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tg="x-goog-api-key";class jR{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(tg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(tg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eN="gl-node/";class tN{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new $e({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=Q0(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new jR(this.apiKey);this.apiClient=new XC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:eN+"web",uploader:new ZR,downloader:new zR}),this.models=new pA(this.apiClient),this.live=new sA(this.apiClient,r,new $R),this.batches=new AT(this.apiClient),this.chats=new lE(this.models,this.apiClient),this.caches=new nE(this.apiClient),this.files=new hE(this.apiClient),this.operations=new mA(this.apiClient),this.authTokens=new IA(this.apiClient),this.tunings=new BR(this.apiClient),this.fileSearchStores=new VA(this.apiClient)}}let yt={clientId:"",apiBaseUrl:"",storagePrefix:"auth"};function rt(){return{accessToken:`${yt.storagePrefix}_access_token`,user:`${yt.storagePrefix}_user`,tokenExpiry:`${yt.storagePrefix}_token_expiry`,avatarCache:`${yt.storagePrefix}_avatar_cache`}}function nN(){return`${yt.storagePrefix}_db`}const iN=1,Fn="auth",oN=30,lN=1380*60*1e3;function ty(i,t){const o=new Date;o.setTime(o.getTime()+oN*24*60*60*1e3);const a=`expires=${o.toUTCString()}`;document.cookie=`${i}=${encodeURIComponent(t)};${a};path=/;SameSite=Lax`}function aN(i){const t=`${i}=`,a=decodeURIComponent(document.cookie).split(";");for(let r of a)if(r=r.trim(),r.indexOf(t)===0)return r.substring(t.length);return null}function sN(i){document.cookie=`${i}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}function ju(){return new Promise((i,t)=>{const o=indexedDB.open(nN(),iN);o.onerror=()=>t(o.error),o.onsuccess=()=>i(o.result),o.onupgradeneeded=a=>{const r=a.target.result;r.objectStoreNames.contains(Fn)||r.createObjectStore(Fn)}})}async function rN(i,t){try{const o=await ju();return new Promise(a=>{const r=o.transaction([Fn],"readwrite");r.objectStore(Fn).put(t,i),r.oncomplete=()=>a(),r.onerror=()=>a()})}catch{}}async function uN(i){try{const t=await ju();return new Promise(o=>{const f=t.transaction([Fn],"readonly").objectStore(Fn).get(i);f.onsuccess=()=>o(f.result||null),f.onerror=()=>o(null)})}catch{return null}}async function cN(i){try{const t=await ju();return new Promise(o=>{const a=t.transaction([Fn],"readwrite");a.objectStore(Fn).delete(i),a.oncomplete=()=>o(),a.onerror=()=>o()})}catch{}}async function no(i,t){localStorage.setItem(i,t),ty(i,t),await rN(i,t)}async function ec(i){let t=localStorage.getItem(i);return t||(t=aN(i),t?(localStorage.setItem(i,t),t):(t=await uN(i),t?(localStorage.setItem(i,t),ty(i,t),t):null))}async function Cu(i){localStorage.removeItem(i),sN(i),await cN(i)}async function fN(){await Cu(rt().accessToken),await Cu(rt().user),await Cu(rt().tokenExpiry)}let La=[];function dN(i){yt.clientId=i.clientId,yt.apiBaseUrl=i.apiBaseUrl,i.storagePrefix&&(yt.storagePrefix=i.storagePrefix)}function Bu(){return rt().avatarCache}function pN(i){return La.push(i),()=>{La=La.filter(t=>t!==i)}}function ka(i){La.forEach(t=>t(i))}function mN(){return new Promise((i,t)=>{if(!yt.clientId){t(new Error("Google Client ID not configured. Call configureGoogleAuth first."));return}const o=()=>{var a,r;(r=(a=window.google)==null?void 0:a.accounts)!=null&&r.id?(window.google.accounts.id.initialize({client_id:yt.clientId,callback:hN,auto_select:!1,cancel_on_tap_outside:!0}),i()):setTimeout(o,100)};o(),setTimeout(()=>{t(new Error("Google Identity Services failed to load"))},1e4)})}async function hN(i){try{const t=await gN(i.credential);if(t.success){const o={userId:t.user_id,email:t.email,name:t.name,credits:t.credits,isNewUser:t.is_new_user},a=Date.now()+1440*60*1e3;await no(rt().accessToken,t.access_token),await no(rt().user,JSON.stringify(o)),await no(rt().tokenExpiry,a.toString()),ka(o)}}catch(t){console.error("Google authentication failed:",t),ka(null)}}async function gN(i){const t=await fetch(`${yt.apiBaseUrl}/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_token:i,temp_user_id:null})});if(!t.ok){const o=await t.json().catch(()=>({detail:"Authentication failed"}));throw new Error(o.detail||"Authentication failed")}return t.json()}function ny(i,t){var o,a;if(!((a=(o=window.google)==null?void 0:o.accounts)!=null&&a.id)){console.error("Google Identity Services not loaded");return}window.google.accounts.id.renderButton(i,{type:"standard",theme:"filled_black",size:"large",text:"signin_with",shape:"pill",...t})}async function tc(){var o,a;const i=vN(),t=yN();await fN(),(a=(o=window.google)==null?void 0:o.accounts)!=null&&a.id&&(window.google.accounts.id.disableAutoSelect(),i!=null&&i.email&&window.google.accounts.id.revoke(i.email,()=>{console.log("Google session revoked")}));try{t&&await fetch(`${yt.apiBaseUrl}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${t}`}})}catch{}ka(null)}function yN(){return localStorage.getItem(rt().accessToken)}async function ro(){return await ec(rt().accessToken)}function vN(){const i=localStorage.getItem(rt().user);if(!i)return null;try{return JSON.parse(i)}catch{return null}}async function SN(){const i=await ec(rt().user);if(!i)return null;try{return JSON.parse(i)}catch{return null}}async function TN(){const i=await ec(rt().tokenExpiry);if(!i)return!1;const o=parseInt(i,10)-Date.now();return o<lN&&o>0}async function EN(){const i=await ro();if(!i)return!1;try{const t=await fetch(`${yt.apiBaseUrl}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:i})});if(!t.ok)return await tc(),!1;const o=await t.json();return o.success&&o.access_token?(await no(rt().accessToken,o.access_token),await no(rt().tokenExpiry,(Date.now()+1440*60*1e3).toString()),!0):!1}catch(t){return console.error("Token refresh failed:",t),!1}}async function _N(){const i=await ro();if(!i)return null;try{const t=await fetch(`${yt.apiBaseUrl}/auth/me`,{headers:{Authorization:`Bearer ${i}`}});if(!t.ok)return t.status===401&&await tc(),null;const o=await t.json(),a={userId:o.user_id,email:o.email,name:o.name,profilePicture:o.profile_picture,credits:o.credits,isNewUser:!1};return await no(rt().user,JSON.stringify(a)),ka(a),a}catch(t){return console.error("Failed to fetch user info:",t),null}}async function CN(){const i=await SN(),t=await ro();if(i&&t){await TN()&&await EN();const o=await _N();if(o)return o}try{await mN()}catch(o){console.error("Failed to initialize Google Auth:",o)}return null}let io={apiBaseUrl:"",defaultAnimationPrompt:""};function AN(i){i.apiBaseUrl!==void 0&&(io.apiBaseUrl=i.apiBaseUrl),i.defaultAnimationPrompt!==void 0&&(io.defaultAnimationPrompt=i.defaultAnimationPrompt)}const oo={textGeneration:"gemini-2.5-flash",imageEdit:"gemini-2.5-flash-image",videoGeneration:"veo-3.1-generate-preview"},nc={fast:3e3,medium:1e4,slow:15e3};function ic(i){if(!i)throw new Error("API Key is missing.");return new tN({apiKey:i})}function oc(i,t){const o=i.message||(typeof i=="string"?i:JSON.stringify(i));throw o.includes("404")||o.includes("NOT_FOUND")||o.includes("Requested entity was not found")?new Error(`Model not found (${t}). Ensure your API key has access to this model.`):i}async function lc(i,t){const o=await ro();if(!o)throw new Error("Not authenticated. Please sign in.");const a=await fetch(`${io.apiBaseUrl}${i}`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){if(a.status===401)throw new Error("Session expired. Please sign in again.");if(a.status===402)throw new Error("Insufficient credits.");if(a.status===429)throw new Error("Rate limit exceeded. Please try again later.");const r=await a.json().catch(()=>({detail:"Request failed"}));throw new Error(r.detail||`Server error: ${a.status}`)}return a.json()}async function ac(i,t,o){const a=await ro();if(!a)throw new Error("Not authenticated.");for(;;){const r=await fetch(`${io.apiBaseUrl}/gemini/job/${i}`,{headers:{Authorization:`Bearer ${a}`}});if(!r.ok)throw r.status===401?new Error("Session expired. Please sign in again."):r.status===404?new Error("Job not found."):new Error(`Failed to check job status: ${r.status}`);const f=await r.json();if(f.status==="queued")o==null||o(`Queued (position: ${f.position||"?"})...`);else if(f.status==="processing")o==null||o("Processing...");else{if(f.status==="completed")return o==null||o("Completed!"),f;if(f.status==="failed")throw new Error(f.error||"Job failed");if(f.status==="cancelled")throw new Error("Job was cancelled")}await new Promise(p=>setTimeout(p,t))}}async function RN(i){const t=await ro();if(!t)throw new Error("Not authenticated.");const o=await fetch(`${io.apiBaseUrl}/gemini/download/${i}`,{headers:{Authorization:`Bearer ${t}`}});if(!o.ok)throw new Error("Failed to download video");const a=await o.blob();return URL.createObjectURL(a)}function sc(i){return!!i.apiKey}async function NN(i,t,o={}){var a,r,f,p;if(sc(o)){(a=o.onStatus)==null||a.call(o,"Analyzing image...");try{const y=await ic(o.apiKey).models.generateContent({model:oo.textGeneration,contents:{parts:[{inlineData:{data:i,mimeType:t}},{text:io.defaultAnimationPrompt}]}});return(r=o.onStatus)==null||r.call(o,"Done!"),y.text||"Cinematic subtle movement"}catch(g){return oc(g,oo.textGeneration)}}else{(f=o.onStatus)==null||f.call(o,"Submitting to server...");const g=await lc("/gemini/generate-animation-prompt",{base64_image:i,mime_type:t});return((p=(await ac(g.job_id,nc.fast,o.onStatus)).output)==null?void 0:p.text)||"Cinematic subtle movement"}}async function MN(i,t,o,a={}){var r,f,p,g;if(sc(a)){(r=a.onStatus)==null||r.call(a,"Editing image...");try{const v=(await ic(a.apiKey).models.generateContent({model:oo.imageEdit,contents:{parts:[{inlineData:{data:i,mimeType:t}},{text:o||"Enhance this image"}]}})).candidates;if(!v||v.length===0)throw new Error("No candidates returned from Gemini.");for(const T of v[0].content.parts)if(T.inlineData&&T.inlineData.data)return(f=a.onStatus)==null||f.call(a,"Done!"),`data:${T.inlineData.mimeType||"image/png"};base64,${T.inlineData.data}`;throw new Error("No image data found in the response.")}catch(y){return oc(y,oo.imageEdit)}}else{(p=a.onStatus)==null||p.call(a,"Submitting to server...");const y=await lc("/gemini/edit-image",{base64_image:i,mime_type:t,prompt:o}),h=await ac(y.job_id,nc.medium,a.onStatus);if((g=h.output)!=null&&g.image)return h.output.image;throw new Error("No image returned from server")}}async function xN(i,t,o,a={}){var g,y,h,v,T,E,C,w,L;const r=a.aspectRatio||"16:9",f=a.resolution||"720p",p=a.numberOfVideos||1;if(sc(a)){(g=a.onStatus)==null||g.call(a,"Starting video generation...");const U=ic(a.apiKey);let z;try{z=await U.models.generateVideos({model:oo.videoGeneration,prompt:o,image:{imageBytes:i,mimeType:t},config:{numberOfVideos:p,resolution:f,aspectRatio:r}})}catch(O){return oc(O,oo.videoGeneration)}for(;!z.done;){(y=a.onStatus)==null||y.call(a,"Generating video (this may take 1-2 minutes)..."),await new Promise(O=>setTimeout(O,1e4));try{z=await U.operations.getVideosOperation({operation:z})}catch(O){const Y=O.message||"";throw Y.includes("404")||Y.includes("NOT_FOUND")?new Error("Video generation operation lost. Please try again."):O}}if(z.error)throw new Error(`Video generation failed: ${z.error.message||"Unknown error"}`);const K=(E=(T=(v=(h=z.response)==null?void 0:h.generatedVideos)==null?void 0:v[0])==null?void 0:T.video)==null?void 0:E.uri;if(!K)throw new Error("No video URI returned. May be due to safety filters.");return(C=a.onStatus)==null||C.call(a,"Done!"),`${K}&key=${a.apiKey}`}else{(w=a.onStatus)==null||w.call(a,"Submitting to server...");const U=await lc("/gemini/generate-video",{base64_image:i,mime_type:t,prompt:o,aspect_ratio:r,resolution:f,number_of_videos:p});return await ac(U.job_id,nc.slow,a.onStatus),(L=a.onStatus)==null||L.call(a,"Downloading video..."),await RN(U.job_id)}}const wN=`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkmiMIW3fkXUnKjhAthrq
4G0esmDh0un0DJoPAqiji+rA0suGMq0pJwFOJWA5zLNk/Ial9+16PkswIxOaIpU/
2yoX1WhFblU3YwfuGwxcfgHDFRZ1CGDWoEHZ7+Q8CHeW3N4Jt1YOPXXx9WeNFQQs
65CX7FU9XBrh++2gx+CObGi+iGSmK1+d6hPnNIClmxzXtW9qEBUo7JP6qfWFPjYx
CPjW8Rgmmz1luyAROfe3PKbBDG/doHTJK+Wxq8FQMkQthmWwEQsHB8MMzN/CLQwC
9Ux3JDj8lVx37PvZs3bUTwHkQ5QZhgycaMa9afghcG67vey2rDYxq4undL0dN4XT
LQIDAQAB
-----END PUBLIC KEY-----`;let IN=wN;async function DN(){const i=IN.replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace(/\s/g,""),t=Uint8Array.from(atob(i),o=>o.charCodeAt(0));return await crypto.subtle.importKey("spki",t.buffer,{name:"RSA-OAEP",hash:"SHA-256"},!1,["encrypt"])}async function bN(i){const t=await DN(),a=new TextEncoder().encode(i);if(a.length>190){const r=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt"]),f=crypto.getRandomValues(new Uint8Array(12)),p=await crypto.subtle.encrypt({name:"AES-GCM",iv:f},r,a),g=await crypto.subtle.exportKey("raw",r),y=await crypto.subtle.encrypt({name:"RSA-OAEP"},t,g),h={type:"hybrid",key:btoa(String.fromCharCode(...new Uint8Array(y))),iv:btoa(String.fromCharCode(...f)),data:btoa(String.fromCharCode(...new Uint8Array(p)))};return btoa(JSON.stringify(h))}else{const r=await crypto.subtle.encrypt({name:"RSA-OAEP"},t,a),f={type:"direct",data:btoa(String.fromCharCode(...new Uint8Array(r)))};return btoa(JSON.stringify(f))}}let rc="animateimage_userid",iy="animateimage_user";const UN=365,LN=2;function GN(i){i.cookieName&&(rc=i.cookieName),i.dbName&&(iy=i.dbName)}let Au=null;function HN(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";const o=new Uint8Array(20);crypto.getRandomValues(o);for(let a=0;a<20;a++)t+=i[o[a]%i.length];return t}function ng(i){const t=new Date;t.setTime(t.getTime()+UN*24*60*60*1e3);const o=`expires=${t.toUTCString()}`;document.cookie=`${rc}=${i};${o};path=/;SameSite=Lax`}function qN(){const i=`${rc}=`,o=decodeURIComponent(document.cookie).split(";");for(let a of o)if(a=a.trim(),a.indexOf(i)===0)return a.substring(i.length);return null}function oy(){return new Promise((i,t)=>{const o=indexedDB.open(iy,LN);o.onerror=()=>t(o.error),o.onsuccess=()=>i(o.result),o.onupgradeneeded=a=>{const r=a.target.result;r.objectStoreNames.contains("user")&&r.deleteObjectStore("user"),r.createObjectStore("user")}})}async function VN(){try{const i=await oy();return new Promise(t=>{const r=i.transaction(["user"],"readonly").objectStore("user").get("user_id");r.onsuccess=()=>{t(r.result||null)},r.onerror=()=>t(null)})}catch{return null}}async function ig(i){try{const t=await oy();return new Promise(o=>{const a=t.transaction(["user"],"readwrite");a.objectStore("user").put(i,"user_id"),a.oncomplete=()=>o(),a.onerror=()=>o()})}catch{}}async function uc(){if(Au)return Au;let i=await VN();return i||(i=qN(),i&&await ig(i)),i||(i=HN(),await ig(i)),ng(i),Au=i,i}let ly="animateimage_events";function PN(i){ly=i.dbName}const BN=2;let Ia=null;async function cc(){return Ia||new Promise((i,t)=>{const o=indexedDB.open(ly,BN);o.onerror=()=>t(o.error),o.onsuccess=()=>{Ia=o.result,i(Ia)},o.onupgradeneeded=a=>{const r=a.target.result;r.objectStoreNames.contains("events")&&r.deleteObjectStore("events"),r.createObjectStore("events",{autoIncrement:!0})}})}async function zN(i){const t=await cc();return new Promise((o,a)=>{const r=t.transaction(["events"],"readwrite"),p=r.objectStore("events").add(i);p.onsuccess=()=>o(),p.onerror=()=>a(p.error),r.onerror=()=>a(r.error)})}async function kN(){const i=await cc();return new Promise((t,o)=>{const f=i.transaction(["events"],"readonly").objectStore("events").getAll();f.onsuccess=()=>{const p=f.result;t(p)},f.onerror=()=>o(f.error)})}async function ON(){const i=await cc();return new Promise((t,o)=>{const f=i.transaction(["events"],"readwrite").objectStore("events").clear();f.onsuccess=()=>t(),f.onerror=()=>o(f.error)})}async function Da(i,t){try{const o=await uc(),a={type:i,mode:t,timestamp:new Date().toISOString(),website_url:window.location.href},f=await bN(JSON.stringify({userId:o,events:[a]}));await zN(f)}catch{}}let ay="https://jebin2-apigateway.hf.space/blink";function FN(i){ay=i.syncUrl}async function JN(){try{const i=await uc(),t=await kN();if(t.length===0)return;const o=t.join(","),a=`${ay}?userid=${i}${o}`;fetch(a,{method:"GET",mode:"no-cors"}).catch(()=>{}),await ON()}catch{}}async function YN(){const i=await uc();return JN(),i}const KN=i=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[M.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),M.jsx("polyline",{points:"17 8 12 3 7 8"}),M.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),og=i=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[M.jsx("path",{d:"m22 8-6 4 6 4V8Z"}),M.jsx("rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2"})]}),lg=i=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[M.jsx("path",{d:"M15 4V2"}),M.jsx("path",{d:"M15 16v-2"}),M.jsx("path",{d:"M8 9h2"}),M.jsx("path",{d:"M20 9h2"}),M.jsx("path",{d:"M17.8 11.8 19 13"}),M.jsx("path",{d:"M15 9h0"}),M.jsx("path",{d:"M17.8 6.2 19 5"}),M.jsx("path",{d:"m3 21 9-9"}),M.jsx("path",{d:"M12.2 6.2 11 5"})]}),XN=i=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[M.jsx("path",{d:"M3 6h18"}),M.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),M.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),sy=i=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[M.jsx("circle",{cx:"12",cy:"12",r:"10"}),M.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),M.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]}),Ga=i=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:M.jsx("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"})}),QN=i=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[M.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.39a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),M.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),ry=i=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[M.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),M.jsx("line",{x1:"2",x2:"22",y1:"10",y2:"10"})]}),ZN=i=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[M.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),M.jsx("polyline",{points:"16 17 21 12 16 7"}),M.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),$N=i=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:M.jsx("path",{d:"m6 9 6 6 6-6"})}),WN=({message:i,subMessage:t})=>M.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4 animate-in fade-in duration-300",children:[M.jsxs("div",{className:"relative",children:[M.jsx("div",{className:"w-12 h-12 rounded-full absolute border-4 border-solid border-gray-600"}),M.jsx("div",{className:"w-12 h-12 rounded-full animate-spin absolute border-4 border-solid border-indigo-500 border-t-transparent shadow-md"}),M.jsx("div",{className:"w-12 h-12"})]}),M.jsxs("div",{className:"text-center",children:[M.jsx("p",{className:"text-lg font-semibold text-slate-200",children:i||"Processing..."}),t&&M.jsx("p",{className:"text-sm text-slate-400 mt-1 max-w-xs",children:t})]})]});async function jN(i,t){try{const o=await fetch(i);if(!o.ok)return null;const a=await o.blob();return new Promise(r=>{const f=new FileReader;f.onloadend=()=>{const p=f.result;try{localStorage.setItem(t,p)}catch{}r(p)},f.onerror=()=>r(null),f.readAsDataURL(a)})}catch{return null}}function eM(i){try{return localStorage.getItem(i)}catch{return null}}function tM(){try{localStorage.removeItem(Bu())}catch{}}const zu=({src:i,name:t,email:o,size:a="md",className:r=""})=>{const[f,p]=_e.useState(i||null),[g,y]=_e.useState(!1),h={sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg"},v=()=>t?t.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2):o[0].toUpperCase(),T=()=>{const C=["bg-indigo-600","bg-purple-600","bg-pink-600","bg-blue-600","bg-teal-600","bg-emerald-600","bg-orange-600"],w=o.charCodeAt(0)%C.length;return C[w]};_e.useEffect(()=>{if(i&&!g){const C=Bu();jN(i,C).catch(()=>{})}},[i,g]);const E=()=>{const C=Bu(),w=eM(C);w&&w!==f?p(w):y(!0)};return f&&!g?M.jsx("img",{src:f,alt:t||o,className:`${h[a]} rounded-full border-2 border-slate-700 ${r}`,onError:E}):M.jsx("div",{className:`${h[a]} rounded-full ${T()} flex items-center justify-center text-white font-medium border-2 border-slate-700 ${r}`,children:v()})},nM=({isOpen:i,onClose:t,onSubmit:o,errorMessage:a,user:r})=>{const[f,p]=_e.useState(""),[g,y]=_e.useState(!1),[h,v]=_e.useState(null),T=_e.useRef(null);_e.useEffect(()=>{if(i){const L=localStorage.getItem("gemini_api_key"),U=localStorage.getItem("use_credits_preference");p(L||""),v(null),y(U!==null?U==="true":L?!1:!!r)}},[i,r]),_e.useEffect(()=>{if(i&&!r&&g&&T.current){const L=setTimeout(()=>{if(T.current){T.current.innerHTML="";try{ny(T.current,{theme:"filled_black",size:"large",text:"signin_with",shape:"pill",width:280})}catch(U){console.error("Failed to render Google button:",U)}}},100);return()=>clearTimeout(L)}},[i,r,g]);const E=L=>{y(L),v(null),localStorage.setItem("use_credits_preference",L.toString())},C=()=>{g&&r?o("USE_CREDITS"):!g&&f.trim()&&o(f.trim())},w=()=>g?!!r:!!f.trim();return i?M.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:M.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 w-full max-w-md shadow-2xl scale-100 animate-in zoom-in-95 duration-200",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4 text-white",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"w-8 h-8 bg-indigo-500/10 rounded-lg flex items-center justify-center",children:M.jsx(Ga,{className:"w-5 h-5 text-indigo-400"})}),M.jsx("h2",{className:"text-xl font-bold",children:"Settings"})]}),r&&g&&M.jsxs("div",{className:"bg-indigo-500/20 text-indigo-300 px-3 py-1 rounded-full text-xs font-medium border border-indigo-500/30",children:[r.credits," Credits"]})]}),(a||h)&&M.jsxs("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-900/50 rounded-lg flex items-start gap-2 max-h-32 overflow-y-auto",children:[M.jsx(sy,{className:"w-5 h-5 text-red-400 shrink-0 mt-0.5"}),M.jsx("p",{className:"text-sm text-red-200 font-medium break-all",children:h||a})]}),M.jsxs("div",{className:`mb-6 flex items-center gap-3 p-3 rounded-xl border transition-colors ${g?"bg-indigo-900/20 border-indigo-500/30":"bg-slate-950/50 border-slate-800 hover:bg-slate-900/50"}`,children:[M.jsx("input",{type:"checkbox",id:"useCredit",checked:g,onChange:L=>E(L.target.checked),className:"w-4 h-4 rounded border-slate-600 text-indigo-600 focus:ring-indigo-500 bg-slate-900"}),M.jsxs("div",{className:"flex items-center gap-2 flex-1 cursor-pointer select-none",onClick:()=>E(!g),children:[M.jsx(ry,{className:`w-4 h-4 ${g?"text-indigo-400":"text-slate-500"}`}),M.jsx("label",{htmlFor:"useCredit",className:`text-sm font-medium cursor-pointer ${g?"text-indigo-200":"text-slate-300"}`,children:"Use Credit System"})]}),r&&g&&M.jsxs("span",{className:"text-xs text-green-400 flex items-center gap-1",children:[M.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Signed in"]})]}),g?r?M.jsxs("div",{className:"mb-6 p-4 bg-slate-950/50 rounded-xl border border-slate-800",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx(zu,{src:r.profilePicture,name:r.name,email:r.email,size:"md"}),M.jsxs("div",{className:"flex-1 min-w-0",children:[M.jsx("p",{className:"text-white font-medium truncate",children:r.name||"User"}),M.jsx("p",{className:"text-sm text-slate-400 truncate",children:r.email})]})]}),M.jsx("p",{className:"mt-3 text-sm text-slate-400",children:"You'll use credits from your account for image generation."})]}):M.jsxs("div",{className:"mb-6 p-4 bg-slate-950/50 rounded-xl border border-slate-800",children:[M.jsx("p",{className:"text-slate-400 text-sm mb-4 text-center",children:"Sign in with Google to use the credit system"}),M.jsx("div",{ref:T,className:"flex justify-center"})]}):M.jsxs("div",{className:"space-y-2 mb-6",children:[M.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Gemini API Key"}),M.jsx("input",{type:"password",value:f,onChange:L=>p(L.target.value),placeholder:"AIzaSy...",className:`w-full bg-slate-950 border rounded-xl p-3 text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 transition-all ${a?"border-red-500/50 focus:ring-red-500/50":"border-slate-700 focus:ring-indigo-500/50"}`,autoFocus:!0}),M.jsxs("p",{className:"text-xs text-slate-500",children:["Don't have a key? ",M.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-indigo-400 hover:text-indigo-300 hover:underline",children:"Get one here"})]})]}),M.jsxs("div",{className:"flex gap-3 justify-end",children:[M.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-colors font-medium text-sm",children:"Cancel"}),M.jsx("button",{onClick:C,disabled:!w(),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-all text-sm shadow-lg shadow-indigo-500/20",children:a?"Retry":"Save"})]})]})}):null},iM=({user:i,onSignOut:t})=>{const[o,a]=_e.useState(!1),r=_e.useRef(null);_e.useEffect(()=>{const p=g=>{r.current&&!r.current.contains(g.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const f=async()=>{a(!1),tM(),await tc(),t()};return M.jsxs("div",{className:"relative",ref:r,children:[M.jsxs("button",{onClick:()=>a(!o),className:"flex items-center gap-2 p-1.5 rounded-full hover:bg-slate-800 transition-colors",children:[M.jsx(zu,{src:i.profilePicture,name:i.name,email:i.email,size:"sm"}),M.jsx($N,{className:`w-4 h-4 text-slate-400 transition-transform ${o?"rotate-180":""}`})]}),o&&M.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-slate-900 border border-slate-700 rounded-xl shadow-xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[M.jsx("div",{className:"p-4 bg-slate-800/50 border-b border-slate-700",children:M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx(zu,{src:i.profilePicture,name:i.name,email:i.email,size:"lg",className:"border-slate-600"}),M.jsxs("div",{className:"flex-1 min-w-0",children:[M.jsx("p",{className:"font-medium text-white truncate",children:i.name||"User"}),M.jsx("p",{className:"text-sm text-slate-400 truncate",children:i.email})]})]})}),M.jsx("div",{className:"p-3 border-b border-slate-700/50",children:M.jsxs("div",{className:"flex items-center gap-3 p-2 bg-indigo-950/30 rounded-lg border border-indigo-500/20",children:[M.jsx("div",{className:"w-8 h-8 bg-indigo-500/20 rounded-lg flex items-center justify-center",children:M.jsx(ry,{className:"w-4 h-4 text-indigo-400"})}),M.jsxs("div",{children:[M.jsx("p",{className:"text-sm text-slate-400",children:"Credits Available"}),M.jsx("p",{className:"text-lg font-bold text-indigo-300",children:i.credits})]})]})}),M.jsx("div",{className:"p-2",children:M.jsxs("button",{onClick:f,className:"w-full flex items-center gap-3 px-3 py-2.5 text-left text-slate-300 hover:bg-slate-800 hover:text-white rounded-lg transition-colors",children:[M.jsx(ZN,{className:"w-4 h-4"}),M.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})})]})]})},oM=()=>{const[i,t]=_e.useState(""),[o,a]=_e.useState(!1),[r,f]=_e.useState(""),[p,g]=_e.useState(!1),[y,h]=_e.useState("animate"),[v,T]=_e.useState(null),[E,C]=_e.useState(""),[w,L]=_e.useState(""),[U,z]=_e.useState(!1),[K,O]=_e.useState("16:9"),[Y,ee]=_e.useState({isLoading:!1,statusMessage:""}),[ne,F]=_e.useState(null),[fe,W]=_e.useState(null),ue=_e.useRef(null),ye=_e.useRef(null),[Ae,ve]=_e.useState(null),[He,it]=_e.useState(!0);_e.useEffect(()=>{const k=localStorage.getItem("gemini_api_key");k&&t(k),YN().catch(console.error),(async()=>{try{const Z=await CN();Z&&ve(Z)}catch(Z){console.error("Auth initialization failed:",Z)}finally{it(!1)}})();const j=pN(Z=>{ve(Z)});return()=>j()},[]),_e.useEffect(()=>{if(!He&&!Ae&&ye.current){const k=setTimeout(()=>{if(ye.current)try{ny(ye.current,{theme:"filled_black",size:"medium",shape:"pill"})}catch(X){console.error("Failed to render Google button:",X)}},100);return()=>clearTimeout(k)}},[He,Ae]);const H=async k=>{F(null),W(null),ee({isLoading:!0,statusMessage:"Initializing..."}),f("");const X=j=>{ee(Z=>({...Z,statusMessage:j}))};try{if(y==="edit"){const j=await MN(v,E,w,{...k,onStatus:X});F(j),Da("generate_success",y).catch(console.error),ee({isLoading:!1,statusMessage:"Done!"})}else{let j=w;if(!j.trim())try{j=await NN(v,E,{...k,onStatus:X}),L(j),z(!0)}catch(Se){console.warn("Failed to generate prompt",Se),j="Animate this image with cinematic movement",L(j)}const Z=await xN(v,E,j,{...k,aspectRatio:K,onStatus:X});W(Z),Da("generate_success",y).catch(console.error),ee({isLoading:!1,statusMessage:"Done!"})}}catch(j){console.error(j),Da("generate_failure",y).catch(()=>{});const Z=j.message||(typeof j=="string"?j:JSON.stringify(j));if(Z.includes("API key")||Z.includes("403")||Z.includes("400")||Z.includes("404")||Z.includes("NOT_FOUND")||Z.includes("Requested entity was not found")||Z.includes("Model not found")||Z.includes("requires a paid account")||Z.includes("UNAUTHENTICATED")||Z.includes("[5,")){ee({isLoading:!1,statusMessage:""});let Oe=Z;(Z.includes("404")||Z.includes("NOT_FOUND")||Z.includes("Requested entity was not found")||Z.includes("[5,"))&&(Oe="Model or resource not found. This usually means your API Key does not have access to the required models (Requires Paid Project)."),f(Oe),a(!0),g(!0)}else ee({isLoading:!1,statusMessage:"",error:Z||"An unexpected error occurred."})}},J=k=>{if(k==="USE_CREDITS"){a(!1),f(""),p&&v&&Ae&&(g(!1),H({useCredits:!0}));return}t(k),localStorage.setItem("gemini_api_key",k),a(!1),f(""),p&&v&&(g(!1),H({apiKey:k}))},le=()=>{f(""),g(!1),a(!0)},Ne=k=>{var j;const X=(j=k.target.files)==null?void 0:j[0];if(X){if(!X.type.startsWith("image/")){alert("Please upload a valid image file.");return}const Z=new FileReader;Z.onloadend=()=>{const Oe=Z.result.split(",")[1];T(Oe),C(X.type),F(null),W(null)},Z.readAsDataURL(X)}},Me=()=>{v&&(Da("generate_click",y).catch(console.error),i?H({apiKey:i}):Ae?H({useCredits:!0}):(g(!0),a(!0)))},N=()=>{T(null),C(""),F(null),W(null),L(""),z(!1),ee({isLoading:!1,statusMessage:""}),ue.current&&(ue.current.value="")},B=k=>{h(k),z(!1)};return M.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-200 font-sans selection:bg-indigo-500/30 relative",children:[M.jsx("header",{className:"border-b border-slate-800/50 bg-slate-900/50 backdrop-blur-md sticky top-0 z-50",children:M.jsxs("div",{className:"max-w-6xl mx-auto px-4 h-16 flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"w-8 h-8 bg-gradient-to-tr from-indigo-500 to-purple-500 rounded-lg flex items-center justify-center",children:M.jsx(Ga,{className:"w-5 h-5 text-white"})}),M.jsxs("span",{className:"font-bold text-lg tracking-tight text-white",children:["Animate",M.jsx("span",{className:"text-indigo-400",children:"Image"})]})]}),M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsxs("div",{className:"flex items-center gap-1 bg-slate-800/50 p-1 rounded-lg border border-slate-700/50",children:[M.jsx("button",{onClick:()=>B("animate"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${y==="animate"?"bg-indigo-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:M.jsxs("span",{className:"flex items-center gap-2",children:[M.jsx(og,{className:"w-4 h-4"})," Animate"]})}),M.jsx("button",{onClick:()=>B("edit"),className:`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${y==="edit"?"bg-indigo-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:M.jsxs("span",{className:"flex items-center gap-2",children:[M.jsx(lg,{className:"w-4 h-4"})," Edit Image"]})})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("button",{onClick:le,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-full transition-colors",title:"API Key Settings",children:M.jsx(QN,{className:"w-5 h-5"})}),He?M.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 animate-pulse"}):Ae?M.jsx(iM,{user:Ae,onSignOut:()=>ve(null)}):M.jsx("div",{ref:ye,className:"min-w-[120px]"})]})]})]})}),M.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[M.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[M.jsx("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-1 overflow-hidden",children:M.jsxs("div",{className:`relative group aspect-[4/3] rounded-xl border-2 border-dashed transition-all duration-300 flex flex-col items-center justify-center
                  ${v?"border-transparent bg-slate-950":"border-slate-700 bg-slate-800/30 hover:border-indigo-500/50 hover:bg-slate-800/50 cursor-pointer"}`,onClick:()=>{var k;return!v&&((k=ue.current)==null?void 0:k.click())},children:[v?M.jsxs(M.Fragment,{children:[M.jsx("img",{src:`data:${E};base64,${v}`,alt:"Selected",className:"w-full h-full object-contain rounded-xl"}),M.jsx("button",{onClick:k=>{k.stopPropagation(),N()},className:"absolute top-2 right-2 p-2 bg-slate-900/80 text-red-400 hover:text-red-300 rounded-lg backdrop-blur-sm border border-slate-700 transition-colors",children:M.jsx(XN,{className:"w-4 h-4"})})]}):M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-800 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:M.jsx(KN,{className:"w-8 h-8 text-slate-400 group-hover:text-indigo-400"})}),M.jsx("p",{className:"text-slate-300 font-medium",children:"Click to upload image"}),M.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"JPG, PNG supported"})]}),M.jsx("input",{type:"file",ref:ue,className:"hidden",accept:"image/*",onChange:Ne})]})}),M.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 space-y-6",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:y==="animate"?"Animation Description":"Edit Instructions"}),y==="animate"&&U?M.jsxs("div",{className:"relative animate-in fade-in zoom-in-95 duration-200",children:[M.jsxs("div",{className:"w-full bg-indigo-950/30 border border-indigo-500/30 rounded-xl p-4 text-indigo-100 h-32 overflow-y-auto shadow-inner",children:[M.jsx("div",{className:"flex items-center gap-2 mb-2 sticky top-0 bg-transparent",children:M.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-indigo-500/20 text-indigo-300 text-xs font-semibold border border-indigo-500/30",children:[M.jsx(Ga,{className:"w-3 h-3"})," AI Generated"]})}),M.jsx("p",{className:"text-sm leading-relaxed opacity-90",children:w})]}),M.jsx("div",{className:"absolute top-3 right-3",children:M.jsx("button",{onClick:()=>z(!1),className:"px-3 py-1 bg-slate-800/80 hover:bg-slate-700 text-slate-300 hover:text-white text-xs font-medium rounded-lg border border-slate-700 transition-all backdrop-blur-sm",children:"Edit"})})]}):M.jsx("textarea",{value:w,onChange:k=>L(k.target.value),placeholder:y==="animate"?"Leave empty for AI auto-description, or describe the movement...":"E.g., Add a cyberpunk neon glow, remove background...",className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-4 text-slate-200 placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 transition-all resize-none h-32"})]}),y==="animate"&&M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Output Aspect Ratio"}),M.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[M.jsx("button",{onClick:()=>O("16:9"),className:`py-3 px-4 rounded-xl border text-sm font-medium transition-all ${K==="16:9"?"bg-indigo-600/10 border-indigo-500 text-indigo-400":"bg-slate-950 border-slate-700 text-slate-400 hover:border-slate-600"}`,children:"Landscape (16:9)"}),M.jsx("button",{onClick:()=>O("9:16"),className:`py-3 px-4 rounded-xl border text-sm font-medium transition-all ${K==="9:16"?"bg-indigo-600/10 border-indigo-500 text-indigo-400":"bg-slate-950 border-slate-700 text-slate-400 hover:border-slate-600"}`,children:"Portrait (9:16)"})]})]}),Y.error&&M.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-900/50 rounded-xl flex items-start gap-3",children:[M.jsx(sy,{className:"w-5 h-5 text-red-400 shrink-0 mt-0.5"}),M.jsx("p",{className:"text-sm text-red-200",children:Y.error})]}),M.jsx("button",{onClick:Me,disabled:!v||Y.isLoading,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2 transition-all
                  ${!v||Y.isLoading?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white hover:shadow-indigo-500/25 active:scale-[0.99]"}`,children:Y.isLoading?"Processing...":M.jsxs(M.Fragment,{children:[M.jsx(Ga,{className:"w-5 h-5"}),y==="animate"?"Generate Video":"Generate Edit"]})})]})]}),M.jsx("div",{className:"lg:col-span-7",children:M.jsx("div",{className:"h-full bg-slate-900 border border-slate-800 rounded-2xl p-1 overflow-hidden min-h-[500px] flex flex-col",children:M.jsxs("div",{className:"flex-1 bg-slate-950 rounded-xl flex items-center justify-center relative overflow-hidden",children:[!Y.isLoading&&!ne&&!fe&&M.jsxs("div",{className:"text-center p-8 opacity-40",children:[M.jsx("div",{className:"w-24 h-24 bg-slate-900 rounded-full flex items-center justify-center mx-auto mb-4 border border-slate-800",children:y==="animate"?M.jsx(og,{className:"w-10 h-10"}):M.jsx(lg,{className:"w-10 h-10"})}),M.jsx("p",{className:"text-lg font-medium",children:"Ready to create"}),M.jsx("p",{className:"text-sm",children:"Upload an image and click Generate"})]}),Y.isLoading&&M.jsx(WN,{message:Y.statusMessage,subMessage:y==="animate"?"Crafting your frames...":"Painting pixels..."}),!Y.isLoading&&ne&&M.jsxs("div",{className:"w-full h-full flex flex-col animate-in zoom-in-95 duration-300",children:[M.jsx("div",{className:"flex-1 p-4 flex items-center justify-center",children:M.jsx("img",{src:ne,alt:"Edited Result",className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl"})}),M.jsxs("div",{className:"p-4 bg-slate-900 border-t border-slate-800 flex justify-between items-center",children:[M.jsx("span",{className:"text-sm text-slate-400",children:"Enhanced Image Result"}),M.jsx("a",{href:ne,download:"edited-image.png",className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm font-medium transition-colors",children:"Download Image"})]})]}),!Y.isLoading&&fe&&M.jsxs("div",{className:"w-full h-full flex flex-col animate-in zoom-in-95 duration-300",children:[M.jsx("div",{className:"flex-1 bg-black flex items-center justify-center",children:M.jsx("video",{src:fe,controls:!0,loop:!0,autoPlay:!0,className:"max-w-full max-h-full",style:{aspectRatio:K.replace(":","/")}})}),M.jsxs("div",{className:"p-4 bg-slate-900 border-t border-slate-800 flex justify-between items-center",children:[M.jsx("div",{className:"flex flex-col",children:M.jsx("span",{className:"text-sm text-slate-300 font-medium",children:"Video Generation Result"})}),M.jsx("a",{href:fe,target:"_blank",rel:"noreferrer",className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm font-medium transition-colors",children:"Download Video"})]})]})]})})})]})}),M.jsx(nM,{isOpen:o,onClose:()=>a(!1),onSubmit:J,errorMessage:r,user:Ae})]})},Ru="http://localhost:8000",lM="212074481946-sadifngeab8njbmvf1u8a6ilnvcugm7b.apps.googleusercontent.com";function aM(){GN({cookieName:"animateimage_userid",dbName:"animateimage_user"}),PN({dbName:"animateimage_events"}),FN({syncUrl:`${Ru}/blink`}),AN({apiBaseUrl:Ru,defaultAnimationPrompt:"Analyze this image and create a concise prompt for a video generation model to create a cinematic, loopable animation. Identify the most interesting moving element (e.g., flowing water, swaying trees, flickering light, clouds) and describe the motion. Output ONLY the description, under 30 words."}),dN({clientId:lM,apiBaseUrl:Ru,storagePrefix:"animateimage_auth"})}aM();const uy=document.getElementById("root");if(!uy)throw new Error("Could not find root element to mount to");const sM=F0.createRoot(uy);sM.render(M.jsx(H0.StrictMode,{children:M.jsx(oM,{})}));
